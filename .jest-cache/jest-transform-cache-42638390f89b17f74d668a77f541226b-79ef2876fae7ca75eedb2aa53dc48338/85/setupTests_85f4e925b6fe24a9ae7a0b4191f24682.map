{"file":"D:\\Documents\\aiprojets\\votepublic\\src\\setupTests.ts","mappings":"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","names":[],"sources":["D:\\Documents\\aiprojets\\votepublic\\src\\setupTests.ts"],"sourcesContent":["import '@testing-library/jest-dom';\r\n\r\n// Mock de Firebase\r\njest.mock('./services/firebase', () => ({\r\n  auth: {\r\n    currentUser: null,\r\n    onAuthStateChanged: jest.fn(),\r\n  },\r\n  db: {\r\n    collection: jest.fn(),\r\n    doc: jest.fn(),\r\n  },\r\n  storage: {\r\n    ref: jest.fn(),\r\n  },\r\n}));\r\n\r\n// Mock de react-hot-toast\r\njest.mock('react-hot-toast', () => ({\r\n  __esModule: true,\r\n  default: {\r\n    success: jest.fn(),\r\n    error: jest.fn(),\r\n    loading: jest.fn(),\r\n  },\r\n  toast: {\r\n    success: jest.fn(),\r\n    error: jest.fn(),\r\n    loading: jest.fn(),\r\n  },\r\n}));\r\n\r\n// Mock de react-router-dom\r\njest.mock('react-router-dom', () => ({\r\n  ...jest.requireActual('react-router-dom'),\r\n  useNavigate: () => jest.fn(),\r\n  useLocation: () => ({ pathname: '/', state: null }),\r\n  useParams: () => ({}),\r\n}));\r\n\r\n// Configuration globale pour les tests\r\nObject.defineProperty(window, 'matchMedia', {\r\n  writable: true,\r\n  value: jest.fn().mockImplementation(query => ({\r\n    matches: false,\r\n    media: query,\r\n    onchange: null,\r\n    addListener: jest.fn(), // deprecated\r\n    removeListener: jest.fn(), // deprecated\r\n    addEventListener: jest.fn(),\r\n    removeEventListener: jest.fn(),\r\n    dispatchEvent: jest.fn(),\r\n  })),\r\n});\r\n\r\n// Mock de localStorage\r\nconst localStorageMock = {\r\n  getItem: jest.fn(),\r\n  setItem: jest.fn(),\r\n  removeItem: jest.fn(),\r\n  clear: jest.fn(),\r\n};\r\nglobal.localStorage = localStorageMock;\r\n\r\n// Mock de sessionStorage\r\nconst sessionStorageMock = {\r\n  getItem: jest.fn(),\r\n  setItem: jest.fn(),\r\n  removeItem: jest.fn(),\r\n  clear: jest.fn(),\r\n};\r\nglobal.sessionStorage = sessionStorageMock;\r\n\r\n// Mock de fetch\r\nglobal.fetch = jest.fn();\r\n\r\n// Mock de console pour éviter le bruit dans les tests\r\nconst originalError = console.error;\r\nconst originalWarn = console.warn;\r\n\r\nbeforeAll(() => {\r\n  console.error = (...args: any[]) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      args[0].includes('Warning: ReactDOM.render is no longer supported')\r\n    ) {\r\n      return;\r\n    }\r\n    originalError.call(console, ...args);\r\n  };\r\n  \r\n  console.warn = (...args: any[]) => {\r\n    if (\r\n      typeof args[0] === 'string' &&\r\n      args[0].includes('componentWillReceiveProps has been renamed')\r\n    ) {\r\n      return;\r\n    }\r\n    originalWarn.call(console, ...args);\r\n  };\r\n});\r\n\r\nafterAll(() => {\r\n  console.error = originalError;\r\n  console.warn = originalWarn;\r\n});\r\n\r\n// Nettoyage après chaque test\r\nafterEach(() => {\r\n  jest.clearAllMocks();\r\n  localStorageMock.clear();\r\n  sessionStorageMock.clear();\r\n});"],"version":3}