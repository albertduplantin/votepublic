{"file":"D:\\Documents\\aiprojets\\votepublic\\src\\components\\PrivateRoute.tsx","mappings":";;;;;;;AAAA,kDAA0B;AAC1B,uDAAyD;AACzD,yDAAkD;AAClD,kDAA4C;AAOrC,MAAM,YAAY,GAAgC,CAAC,EACxD,QAAQ,EACR,YAAY,GAAG,KAAK,EACrB,EAAE,EAAE;IACH,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,GAAG,IAAA,qBAAO,GAAE,CAAC;IACpC,MAAM,QAAQ,GAAG,IAAA,8BAAW,GAAE,CAAC;IAE/B,IAAI,OAAO,EAAE,CAAC;QACZ,OAAO,CACL,gCAAK,SAAS,EAAC,0DAA0D,YACvE,iCAAK,SAAS,EAAC,aAAa,aAC1B,gCAAK,SAAS,EAAC,2EAA2E,GAAO,EACjG,8BAAG,SAAS,EAAC,oBAAoB,8BAAkB,IAC/C,GACF,CACP,CAAC;IACJ,CAAC;IAED,IAAI,CAAC,IAAI,EAAE,CAAC;QACV,2DAA2D;QAC3D,OAAO,uBAAC,2BAAQ,IAAC,EAAE,EAAE,kBAAM,CAAC,KAAK,EAAE,KAAK,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE,EAAE,OAAO,SAAG,CAAC;IAC3E,CAAC;IAED,IAAI,YAAY,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;QAClC,oEAAoE;QACpE,OAAO,uBAAC,2BAAQ,IAAC,EAAE,EAAE,kBAAM,CAAC,IAAI,EAAE,OAAO,SAAG,CAAC;IAC/C,CAAC;IAED,OAAO,2DAAG,QAAQ,GAAI,CAAC;AACzB,CAAC,CAAC;AA7BW,QAAA,YAAY,gBA6BvB","names":[],"sources":["D:\\Documents\\aiprojets\\votepublic\\src\\components\\PrivateRoute.tsx"],"sourcesContent":["import React from 'react';\r\nimport { Navigate, useLocation } from 'react-router-dom';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { ROUTES } from '../utils/constants';\r\n\r\ninterface PrivateRouteProps {\r\n  children: React.ReactNode;\r\n  requireAdmin?: boolean;\r\n}\r\n\r\nexport const PrivateRoute: React.FC<PrivateRouteProps> = ({ \r\n  children, \r\n  requireAdmin = false \r\n}) => {\r\n  const { user, loading } = useAuth();\r\n  const location = useLocation();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Chargement...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    // Rediriger vers la page de connexion avec l'URL de retour\r\n    return <Navigate to={ROUTES.LOGIN} state={{ from: location }} replace />;\r\n  }\r\n\r\n  if (requireAdmin && !user.isAdmin) {\r\n    // Rediriger vers la page d'accueil si l'utilisateur n'est pas admin\r\n    return <Navigate to={ROUTES.HOME} replace />;\r\n  }\r\n\r\n  return <>{children}</>;\r\n}; "],"version":3}