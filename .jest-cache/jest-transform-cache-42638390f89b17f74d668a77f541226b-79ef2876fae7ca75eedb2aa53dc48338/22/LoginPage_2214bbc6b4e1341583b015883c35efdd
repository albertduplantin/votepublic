efc30a5823ea035fe06595fb0d0a9e09
"use strict";
var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    var desc = Object.getOwnPropertyDescriptor(m, k);
    if (!desc || ("get" in desc ? !m.__esModule : desc.writable || desc.configurable)) {
      desc = { enumerable: true, get: function() { return m[k]; } };
    }
    Object.defineProperty(o, k2, desc);
}) : (function(o, m, k, k2) {
    if (k2 === undefined) k2 = k;
    o[k2] = m[k];
}));
var __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {
    Object.defineProperty(o, "default", { enumerable: true, value: v });
}) : function(o, v) {
    o["default"] = v;
});
var __importStar = (this && this.__importStar) || (function () {
    var ownKeys = function(o) {
        ownKeys = Object.getOwnPropertyNames || function (o) {
            var ar = [];
            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;
            return ar;
        };
        return ownKeys(o);
    };
    return function (mod) {
        if (mod && mod.__esModule) return mod;
        var result = {};
        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== "default") __createBinding(result, mod, k[i]);
        __setModuleDefault(result, mod);
        return result;
    };
})();
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.LoginPage = void 0;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = __importStar(require("react"));
const react_router_dom_1 = require("react-router-dom");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const zod_2 = require("zod");
const react_hot_toast_1 = __importDefault(require("react-hot-toast"));
const lucide_react_1 = require("lucide-react");
const AuthContext_1 = require("../contexts/AuthContext");
const constants_1 = require("../utils/constants");
// Schéma de validation pour la connexion
const loginSchema = zod_2.z.object({
    email: zod_2.z.string().email('Adresse email invalide'),
    password: zod_2.z.string().min(1, 'Le mot de passe est requis'),
});
const LoginPage = () => {
    const { login, loginWithGoogle, loading } = (0, AuthContext_1.useAuth)();
    const navigate = (0, react_router_dom_1.useNavigate)();
    const location = (0, react_router_dom_1.useLocation)();
    const [showPassword, setShowPassword] = (0, react_1.useState)(false);
    const [isGoogleLoading, setIsGoogleLoading] = (0, react_1.useState)(false);
    const from = location.state?.from?.pathname || constants_1.ROUTES.HOME;
    const { register, handleSubmit, formState: { errors, isSubmitting }, } = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(loginSchema),
    });
    // Connexion avec email/mot de passe
    const onSubmit = async (data) => {
        try {
            await login(data);
            react_hot_toast_1.default.success(constants_1.SUCCESS_MESSAGES.LOGIN_SUCCESS);
            navigate(from, { replace: true });
        }
        catch (error) {
            react_hot_toast_1.default.error(error.message || constants_1.ERROR_MESSAGES.AUTH_ERROR);
        }
    };
    // Connexion avec Google
    const handleGoogleLogin = async () => {
        setIsGoogleLoading(true);
        try {
            await loginWithGoogle();
            react_hot_toast_1.default.success(constants_1.SUCCESS_MESSAGES.LOGIN_SUCCESS);
            navigate(from, { replace: true });
        }
        catch (error) {
            react_hot_toast_1.default.error(error.message || constants_1.ERROR_MESSAGES.AUTH_ERROR);
        }
        finally {
            setIsGoogleLoading(false);
        }
    };
    if (loading) {
        return ((0, jsx_runtime_1.jsx)("div", { className: "min-h-screen flex items-center justify-center bg-gray-50", children: (0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto" }), (0, jsx_runtime_1.jsx)("p", { className: "mt-4 text-gray-600", children: "Chargement..." })] }) }));
    }
    return ((0, jsx_runtime_1.jsx)("div", { className: "min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8", children: (0, jsx_runtime_1.jsxs)("div", { className: "max-w-md w-full space-y-8", children: [(0, jsx_runtime_1.jsxs)("div", { className: "text-center", children: [(0, jsx_runtime_1.jsxs)(react_router_dom_1.Link, { to: constants_1.ROUTES.HOME, className: "inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { className: "w-4 h-4 mr-1" }), "Retour \u00E0 l'accueil"] }), (0, jsx_runtime_1.jsx)("h2", { className: "text-3xl font-bold text-gray-900", children: "Connexion" }), (0, jsx_runtime_1.jsx)("p", { className: "mt-2 text-sm text-gray-600", children: "Connectez-vous pour acc\u00E9der \u00E0 votre compte" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "card", children: [(0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit(onSubmit), className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("label", { htmlFor: "email", className: "form-label", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Mail, { className: "w-4 h-4 inline mr-2" }), "Adresse email"] }), (0, jsx_runtime_1.jsx)("input", { id: "email", type: "email", ...register('email'), className: "input-field", placeholder: "votre@email.com", autoComplete: "email" }), errors.email && ((0, jsx_runtime_1.jsx)("p", { className: "form-error", children: errors.email.message?.toString() }))] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)("label", { htmlFor: "password", className: "form-label", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Lock, { className: "w-4 h-4 inline mr-2" }), "Mot de passe"] }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)("input", { id: "password", type: showPassword ? 'text' : 'password', ...register('password'), className: "input-field pr-10", placeholder: "Votre mot de passe", autoComplete: "current-password" }), (0, jsx_runtime_1.jsx)("button", { type: "button", onClick: () => setShowPassword(!showPassword), className: "absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600", children: showPassword ? ((0, jsx_runtime_1.jsx)(lucide_react_1.EyeOff, { className: "w-5 h-5" })) : ((0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { className: "w-5 h-5" })) })] }), errors.password && ((0, jsx_runtime_1.jsx)("p", { className: "form-error", children: errors.password.message?.toString() }))] }), (0, jsx_runtime_1.jsx)("button", { type: "submit", disabled: isSubmitting, className: "btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed", children: isSubmitting ? ((0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-center", children: [(0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2" }), "Connexion en cours..."] })) : ('Se connecter') })] }), (0, jsx_runtime_1.jsx)("div", { className: "mt-6", children: (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)("div", { className: "absolute inset-0 flex items-center", children: (0, jsx_runtime_1.jsx)("div", { className: "w-full border-t border-gray-300" }) }), (0, jsx_runtime_1.jsx)("div", { className: "relative flex justify-center text-sm", children: (0, jsx_runtime_1.jsx)("span", { className: "px-2 bg-white text-gray-500", children: "Ou continuer avec" }) })] }) }), (0, jsx_runtime_1.jsxs)("button", { onClick: handleGoogleLogin, disabled: isGoogleLoading, className: "mt-6 w-full flex justify-center items-center px-4 py-2 border border-gray-300 rounded-lg shadow-sm bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed", children: [isGoogleLoading ? ((0, jsx_runtime_1.jsx)("div", { className: "animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2" })) : ((0, jsx_runtime_1.jsxs)("svg", { className: "w-5 h-5 mr-2", viewBox: "0 0 24 24", children: [(0, jsx_runtime_1.jsx)("path", { fill: "#4285F4", d: "M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z" }), (0, jsx_runtime_1.jsx)("path", { fill: "#34A853", d: "M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z" }), (0, jsx_runtime_1.jsx)("path", { fill: "#FBBC05", d: "M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z" }), (0, jsx_runtime_1.jsx)("path", { fill: "#EA4335", d: "M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z" })] })), "Continuer avec Google"] }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-6 text-center space-y-2", children: [(0, jsx_runtime_1.jsx)(react_router_dom_1.Link, { to: constants_1.ROUTES.REGISTER, className: "text-sm text-primary-600 hover:text-primary-500", children: "Pas encore de compte ? S'inscrire" }), (0, jsx_runtime_1.jsx)("div", { children: (0, jsx_runtime_1.jsx)("button", { onClick: () => {
                                            const email = document.getElementById('email')?.value;
                                            if (email) {
                                                // Ici vous pourriez implémenter la réinitialisation du mot de passe
                                                react_hot_toast_1.default.success('Un email de réinitialisation a été envoyé');
                                            }
                                            else {
                                                react_hot_toast_1.default.error('Veuillez saisir votre email d\'abord');
                                            }
                                        }, className: "text-sm text-gray-600 hover:text-gray-500", children: "Mot de passe oubli\u00E9 ?" }) })] })] })] }) }));
};
exports.LoginPage = LoginPage;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJmaWxlIjoiRDpcXERvY3VtZW50c1xcYWlwcm9qZXRzXFx2b3RlcHVibGljXFxzcmNcXHBhZ2VzXFxMb2dpblBhZ2UudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQ0FBd0M7QUFDeEMsdURBQWtFO0FBQ2xFLHFEQUEwQztBQUMxQyxpREFBc0Q7QUFDdEQsNkJBQXdCO0FBQ3hCLHNFQUFvQztBQUNwQywrQ0FBa0U7QUFDbEUseURBQWtEO0FBQ2xELGtEQUE4RTtBQUU5RSx5Q0FBeUM7QUFDekMsTUFBTSxXQUFXLEdBQUcsT0FBQyxDQUFDLE1BQU0sQ0FBQztJQUMzQixLQUFLLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQztJQUNqRCxRQUFRLEVBQUUsT0FBQyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsNEJBQTRCLENBQUM7Q0FDMUQsQ0FBQyxDQUFDO0FBRUksTUFBTSxTQUFTLEdBQWEsR0FBRyxFQUFFO0lBQ3RDLE1BQU0sRUFBRSxLQUFLLEVBQUUsZUFBZSxFQUFFLE9BQU8sRUFBRSxHQUFHLElBQUEscUJBQU8sR0FBRSxDQUFDO0lBQ3RELE1BQU0sUUFBUSxHQUFHLElBQUEsOEJBQVcsR0FBRSxDQUFDO0lBQy9CLE1BQU0sUUFBUSxHQUFHLElBQUEsOEJBQVcsR0FBRSxDQUFDO0lBQy9CLE1BQU0sQ0FBQyxZQUFZLEVBQUUsZUFBZSxDQUFDLEdBQUcsSUFBQSxnQkFBUSxFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ3hELE1BQU0sQ0FBQyxlQUFlLEVBQUUsa0JBQWtCLENBQUMsR0FBRyxJQUFBLGdCQUFRLEVBQUMsS0FBSyxDQUFDLENBQUM7SUFFOUQsTUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLEtBQUssRUFBRSxJQUFJLEVBQUUsUUFBUSxJQUFJLGtCQUFNLENBQUMsSUFBSSxDQUFDO0lBRTNELE1BQU0sRUFDSixRQUFRLEVBQ1IsWUFBWSxFQUNaLFNB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LG9FQUFvRTtnREFDcEUseUJBQUssQ0FBQyxPQUFPLENBQUMsMkNBQTJDLENBQUMsQ0FBQzs0Q0FDN0QsQ0FBQztpREFBTSxDQUFDO2dEQUNOLHlCQUFLLENBQUMsS0FBSyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7NENBQ3RELENBQUM7d0NBQ0gsQ0FBQyxFQUNELFNBQVMsRUFBQywyQ0FBMkMsMkNBRzlDLEdBQ0wsSUFDRixJQUNGLElBQ0YsR0FDRixDQUNQLENBQUM7QUFDSixDQUFDLENBQUM7QUF2TlcsUUFBQSxTQUFTLGFBdU5wQiIsIm5hbWVzIjpbXSwic291cmNlcyI6WyJEOlxcRG9jdW1lbnRzXFxhaXByb2pldHNcXHZvdGVwdWJsaWNcXHNyY1xccGFnZXNcXExvZ2luUGFnZS50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBMaW5rLCB1c2VMb2NhdGlvbiwgdXNlTmF2aWdhdGUgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcclxuaW1wb3J0IHsgdXNlRm9ybSB9IGZyb20gJ3JlYWN0LWhvb2stZm9ybSc7XHJcbmltcG9ydCB7IHpvZFJlc29sdmVyIH0gZnJvbSAnQGhvb2tmb3JtL3Jlc29sdmVycy96b2QnO1xyXG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcclxuaW1wb3J0IHRvYXN0IGZyb20gJ3JlYWN0LWhvdC10b2FzdCc7XHJcbmltcG9ydCB7IE1haWwsIExvY2ssIEV5ZSwgRXllT2ZmLCBBcnJvd0xlZnQgfSBmcm9tICdsdWNpZGUtcmVhY3QnO1xyXG5pbXBvcnQgeyB1c2VBdXRoIH0gZnJvbSAnLi4vY29udGV4dHMvQXV0aENvbnRleHQnO1xyXG5pbXBvcnQgeyBST1VURVMsIEVSUk9SX01FU1NBR0VTLCBTVUNDRVNTX01FU1NBR0VTIH0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzJztcclxuXHJcbi8vIFNjaMOpbWEgZGUgdmFsaWRhdGlvbiBwb3VyIGxhIGNvbm5leGlvblxyXG5jb25zdCBsb2dpblNjaGVtYSA9IHoub2JqZWN0KHtcclxuICBlbWFpbDogei5zdHJpbmcoKS5lbWFpbCgnQWRyZXNzZSBlbWFpbCBpbnZhbGlkZScpLFxyXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCAnTGUgbW90IGRlIHBhc3NlIGVzdCByZXF1aXMnKSxcclxufSk7XHJcblxyXG5leHBvcnQgY29uc3QgTG9naW5QYWdlOiBSZWFjdC5GQyA9ICgpID0+IHtcclxuICBjb25zdCB7IGxvZ2luLCBsb2dpbldpdGhHb29nbGUsIGxvYWRpbmcgfSA9IHVzZUF1dGgoKTtcclxuICBjb25zdCBuYXZpZ2F0ZSA9IHVzZU5hdmlnYXRlKCk7XHJcbiAgY29uc3QgbG9jYXRpb24gPSB1c2VMb2NhdGlvbigpO1xyXG4gIGNvbnN0IFtzaG93UGFzc3dvcmQsIHNldFNob3dQYXNzd29yZF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgY29uc3QgW2lzR29vZ2xlTG9hZGluZywgc2V0SXNHb29nbGVMb2FkaW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcclxuXHJcbiAgY29uc3QgZnJvbSA9IGxvY2F0aW9uLnN0YXRlPy5mcm9tPy5wYXRobmFtZSB8fCBST1VURVMuSE9NRTtcclxuXHJcbiAgY29uc3Qge1xyXG4gICAgcmVnaXN0ZXIsXHJcbiAgICBoYW5kbGVTdWJtaXQsXHJcbiAgICBmb3JtU3RhdGU6IHsgZXJyb3JzLCBpc1N1Ym1pdHRpbmcgfSxcclxuICB9ID0gdXNlRm9ybSh7XHJcbiAgICByZXNvbHZlcjogem9kUmVzb2x2ZXIobG9naW5TY2hlbWEpLFxyXG4gIH0pO1xyXG5cclxuICAvLyBDb25uZXhpb24gYXZlYyBlbWFpbC9tb3QgZGUgcGFzc2VcclxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChkYXRhOiBhbnkpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGxvZ2luKGRhdGEpO1xyXG4gICAgICB0b2FzdC5zdWNjZXNzKFNVQ0NFU1NfTUVTU0FHRVMuTE9HSU5fU1VDQ0VTUyk7XHJcbiAgICAgIG5hdmlnYXRlKGZyb20sIHsgcmVwbGFjZTogdHJ1ZSB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoZXJyb3IubWVzc2FnZSB8fCBFUlJPUl9NRVNTQUdFUy5BVVRIX0VSUk9SKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvLyBDb25uZXhpb24gYXZlYyBHb29nbGVcclxuICBjb25zdCBoYW5kbGVHb29nbGVMb2dpbiA9IGFzeW5jICgpID0+IHtcclxuICAgIHNldElzR29vZ2xlTG9hZGluZyh0cnVlKTtcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGxvZ2luV2l0aEdvb2dsZSgpO1xyXG4gICAgICB0b2FzdC5zdWNjZXNzKFNVQ0NFU1NfTUVTU0FHRVMuTE9HSU5fU1VDQ0VTUyk7XHJcbiAgICAgIG5hdmlnYXRlKGZyb20sIHsgcmVwbGFjZTogdHJ1ZSB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgdG9hc3QuZXJyb3IoZXJyb3IubWVzc2FnZSB8fCBFUlJPUl9NRVNTQUdFUy5BVVRIX0VSUk9SKTtcclxuICAgIH0gZmluYWxseSB7XHJcbiAgICAgIHNldElzR29vZ2xlTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgaWYgKGxvYWRpbmcpIHtcclxuICAgIHJldHVybiAoXHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIGJnLWdyYXktNTBcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC0xMiB3LTEyIGJvcmRlci1iLTIgYm9yZGVyLXByaW1hcnktNjAwIG14LWF1dG9cIj48L2Rpdj5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTQgdGV4dC1ncmF5LTYwMFwiPkNoYXJnZW1lbnQuLi48L3A+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTUwIHB5LTEyIHB4LTQgc206cHgtNiBsZzpweC04XCI+XHJcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsIHNwYWNlLXktOFwiPlxyXG4gICAgICAgIHsvKiBIZWFkZXIgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgPExpbmtcclxuICAgICAgICAgICAgdG89e1JPVVRFUy5IT01FfVxyXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS05MDAgbWItNFwiXHJcbiAgICAgICAgICA+XHJcbiAgICAgICAgICAgIDxBcnJvd0xlZnQgY2xhc3NOYW1lPVwidy00IGgtNCBtci0xXCIgLz5cclxuICAgICAgICAgICAgUmV0b3VyIMOgIGwnYWNjdWVpbFxyXG4gICAgICAgICAgPC9MaW5rPlxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDBcIj5Db25uZXhpb248L2gyPlxyXG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMiB0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cclxuICAgICAgICAgICAgQ29ubmVjdGV6LXZvdXMgcG91ciBhY2PDqWRlciDDoCB2b3RyZSBjb21wdGVcclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgey8qIEZvcm11bGFpcmUgKi99XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjYXJkXCI+XHJcbiAgICAgICAgICA8Zm9ybSBvblN1Ym1pdD17aGFuZGxlU3VibWl0KG9uU3VibWl0KX0gY2xhc3NOYW1lPVwic3BhY2UteS02XCI+XHJcbiAgICAgICAgICAgIHsvKiBFbWFpbCAqL31cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImVtYWlsXCIgY2xhc3NOYW1lPVwiZm9ybS1sYWJlbFwiPlxyXG4gICAgICAgICAgICAgICAgPE1haWwgY2xhc3NOYW1lPVwidy00IGgtNCBpbmxpbmUgbXItMlwiIC8+XHJcbiAgICAgICAgICAgICAgICBBZHJlc3NlIGVtYWlsXHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgICAgIGlkPVwiZW1haWxcIlxyXG4gICAgICAgICAgICAgICAgdHlwZT1cImVtYWlsXCJcclxuICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcignZW1haWwnKX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWZpZWxkXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwidm90cmVAZW1haWwuY29tXCJcclxuICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cImVtYWlsXCJcclxuICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgIHtlcnJvcnMuZW1haWwgJiYgKFxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZm9ybS1lcnJvclwiPntlcnJvcnMuZW1haWwubWVzc2FnZT8udG9TdHJpbmcoKX08L3A+XHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICB7LyogTW90IGRlIHBhc3NlICovfVxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWxhYmVsXCI+XHJcbiAgICAgICAgICAgICAgICA8TG9jayBjbGFzc05hbWU9XCJ3LTQgaC00IGlubGluZSBtci0yXCIgLz5cclxuICAgICAgICAgICAgICAgIE1vdCBkZSBwYXNzZVxyXG4gICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICAgIGlkPVwicGFzc3dvcmRcIlxyXG4gICAgICAgICAgICAgICAgICB0eXBlPXtzaG93UGFzc3dvcmQgPyAndGV4dCcgOiAncGFzc3dvcmQnfVxyXG4gICAgICAgICAgICAgICAgICB7Li4ucmVnaXN0ZXIoJ3Bhc3N3b3JkJyl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImlucHV0LWZpZWxkIHByLTEwXCJcclxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJWb3RyZSBtb3QgZGUgcGFzc2VcIlxyXG4gICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJjdXJyZW50LXBhc3N3b3JkXCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxyXG4gICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93UGFzc3dvcmQoIXNob3dQYXNzd29yZCl9XHJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LXktMCByaWdodC0wIHByLTMgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1ncmF5LTQwMCBob3Zlcjp0ZXh0LWdyYXktNjAwXCJcclxuICAgICAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICAgICAge3Nob3dQYXNzd29yZCA/IChcclxuICAgICAgICAgICAgICAgICAgICA8RXllT2ZmIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxyXG4gICAgICAgICAgICAgICAgICApIDogKFxyXG4gICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy01IGgtNVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICB7ZXJyb3JzLnBhc3N3b3JkICYmIChcclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cImZvcm0tZXJyb3JcIj57ZXJyb3JzLnBhc3N3b3JkLm1lc3NhZ2U/LnRvU3RyaW5nKCl9PC9wPlxyXG4gICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgey8qIEJvdXRvbiBkZSBjb25uZXhpb24gKi99XHJcbiAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcclxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfVxyXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJ0bi1wcmltYXJ5IHctZnVsbCBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFwiXHJcbiAgICAgICAgICAgID5cclxuICAgICAgICAgICAgICB7aXNTdWJtaXR0aW5nID8gKFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC00IHctNCBib3JkZXItYi0yIGJvcmRlci13aGl0ZSBtci0yXCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgIENvbm5leGlvbiBlbiBjb3Vycy4uLlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICAgICdTZSBjb25uZWN0ZXInXHJcbiAgICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcblxyXG4gICAgICAgICAgey8qIFPDqXBhcmF0ZXVyICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGluc2V0LTAgZmxleCBpdGVtcy1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy1mdWxsIGJvcmRlci10IGJvcmRlci1ncmF5LTMwMFwiIC8+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBmbGV4IGp1c3RpZnktY2VudGVyIHRleHQtc21cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInB4LTIgYmctd2hpdGUgdGV4dC1ncmF5LTUwMFwiPk91IGNvbnRpbnVlciBhdmVjPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgIHsvKiBDb25uZXhpb24gR29vZ2xlICovfVxyXG4gICAgICAgICAgPGJ1dHRvblxyXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVHb29nbGVMb2dpbn1cclxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzR29vZ2xlTG9hZGluZ31cclxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibXQtNiB3LWZ1bGwgZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcHgtNCBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBzaGFkb3ctc20gYmctd2hpdGUgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIGhvdmVyOmJnLWdyYXktNTAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWRcIlxyXG4gICAgICAgICAgPlxyXG4gICAgICAgICAgICB7aXNHb29nbGVMb2FkaW5nID8gKFxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTQgdy00IGJvcmRlci1iLTIgYm9yZGVyLWdyYXktNjAwIG1yLTJcIj48L2Rpdj5cclxuICAgICAgICAgICAgKSA6IChcclxuICAgICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT1cInctNSBoLTUgbXItMlwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cclxuICAgICAgICAgICAgICAgIDxwYXRoXHJcbiAgICAgICAgICAgICAgICAgIGZpbGw9XCIjNDI4NUY0XCJcclxuICAgICAgICAgICAgICAgICAgZD1cIk0yMi41NiAxMi4yNWMwLS43OC0uMDctMS41My0uMi0yLjI1SDEydjQuMjZoNS45MmMtLjI2IDEuMzctMS4wNCAyLjUzLTIuMjEgMy4zMXYyLjc3aDMuNTdjMi4wOC0xLjkyIDMuMjgtNC43NCAzLjI4LTguMDl6XCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICBmaWxsPVwiIzM0QTg1M1wiXHJcbiAgICAgICAgICAgICAgICAgIGQ9XCJNMTIgMjNjMi45NyAwIDUuNDYtLjk4IDcuMjgtMi42NmwtMy41Ny0yLjc3Yy0uOTguNjYtMi4yMyAxLjA2LTMuNzEgMS4wNi0yLjg2IDAtNS4yOS0xLjkzLTYuMTYtNC41M0gyLjE4djIuODRDMy45OSAyMC41MyA3LjcgMjMgMTIgMjN6XCJcclxuICAgICAgICAgICAgICAgIC8+XHJcbiAgICAgICAgICAgICAgICA8cGF0aFxyXG4gICAgICAgICAgICAgICAgICBmaWxsPVwiI0ZCQkMwNVwiXHJcbiAgICAgICAgICAgICAgICAgIGQ9XCJNNS44NCAxNC4wOWMtLjIyLS42Ni0uMzUtMS4zNi0uMzUtMi4wOXMuMTMtMS40My4zNS0yLjA5VjcuMDdIMi4xOEMxLjQzIDguNTUgMSAxMC4yMiAxIDEycy40MyAzLjQ1IDEuMTggNC45M2wyLjg1LTIuMjIuODEtLjYyelwiXHJcbiAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgPHBhdGhcclxuICAgICAgICAgICAgICAgICAgZmlsbD1cIiNFQTQzMzVcIlxyXG4gICAgICAgICAgICAgICAgICBkPVwiTTEyIDUuMzhjMS42MiAwIDMuMDYuNTYgNC4yMSAxLjY0bDMuMTUtMy4xNUMxNy40NSAyLjA5IDE0Ljk3IDEgMTIgMSA3LjcgMSAzLjk5IDMuNDcgMi4xOCA3LjA3bDMuNjYgMi44NGMuODctMi42IDMuMy00LjUzIDYuMTYtNC41M3pcIlxyXG4gICAgICAgICAgICAgICAgLz5cclxuICAgICAgICAgICAgICA8L3N2Zz5cclxuICAgICAgICAgICAgKX1cclxuICAgICAgICAgICAgQ29udGludWVyIGF2ZWMgR29vZ2xlXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICB7LyogTGllbnMgdXRpbGVzICovfVxyXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtY2VudGVyIHNwYWNlLXktMlwiPlxyXG4gICAgICAgICAgICA8TGlua1xyXG4gICAgICAgICAgICAgIHRvPXtST1VURVMuUkVHSVNURVJ9XHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LXByaW1hcnktNjAwIGhvdmVyOnRleHQtcHJpbWFyeS01MDBcIlxyXG4gICAgICAgICAgICA+XHJcbiAgICAgICAgICAgICAgUGFzIGVuY29yZSBkZSBjb21wdGUgPyBTJ2luc2NyaXJlXHJcbiAgICAgICAgICAgIDwvTGluaz5cclxuICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICA8YnV0dG9uXHJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpPy52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWNpIHZvdXMgcG91cnJpZXogaW1wbMOpbWVudGVyIGxhIHLDqWluaXRpYWxpc2F0aW9uIGR1IG1vdCBkZSBwYXNzZVxyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LnN1Y2Nlc3MoJ1VuIGVtYWlsIGRlIHLDqWluaXRpYWxpc2F0aW9uIGEgw6l0w6kgZW52b3nDqScpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRvYXN0LmVycm9yKCdWZXVpbGxleiBzYWlzaXIgdm90cmUgZW1haWwgZFxcJ2Fib3JkJyk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH19XHJcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTUwMFwiXHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgTW90IGRlIHBhc3NlIG91Ymxpw6kgP1xyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gICk7XHJcbn07ICJdLCJ2ZXJzaW9uIjozfQ==