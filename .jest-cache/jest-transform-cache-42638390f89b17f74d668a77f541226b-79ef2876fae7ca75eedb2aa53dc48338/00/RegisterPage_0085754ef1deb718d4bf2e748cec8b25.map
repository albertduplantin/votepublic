{"file":"D:\\Documents\\aiprojets\\votepublic\\src\\pages\\RegisterPage.tsx","mappings":"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","names":[],"sources":["D:\\Documents\\aiprojets\\votepublic\\src\\pages\\RegisterPage.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport { z } from 'zod';\r\nimport toast from 'react-hot-toast';\r\nimport { Mail, Lock, Eye, EyeOff, ArrowLeft } from 'lucide-react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { ROUTES, ERROR_MESSAGES, SUCCESS_MESSAGES } from '../utils/constants';\r\n\r\n// Schéma de validation pour l'inscription\r\nconst registerSchema = z.object({\r\n  email: z.string().email('Adresse email invalide'),\r\n  password: z.string().min(6, 'Le mot de passe doit contenir au moins 6 caractères'),\r\n  confirmPassword: z.string(),\r\n}).refine((data) => data.password === data.confirmPassword, {\r\n  message: \"Les mots de passe ne correspondent pas\",\r\n  path: [\"confirmPassword\"],\r\n});\r\n\r\nexport const RegisterPage: React.FC = () => {\r\n  const { register: registerUser, loading } = useAuth();\r\n  const navigate = useNavigate();\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [showConfirmPassword, setShowConfirmPassword] = useState(false);\r\n\r\n  const {\r\n    register,\r\n    handleSubmit,\r\n    formState: { errors, isSubmitting },\r\n  } = useForm({\r\n    resolver: zodResolver(registerSchema),\r\n  });\r\n\r\n  const onSubmit = async (data: any) => {\r\n    try {\r\n      await registerUser({\r\n        email: data.email,\r\n        password: data.password,\r\n        confirmPassword: data.confirmPassword,\r\n      });\r\n      toast.success(SUCCESS_MESSAGES.LOGIN_SUCCESS);\r\n      navigate(ROUTES.HOME);\r\n    } catch (error: any) {\r\n      toast.error(error.message || ERROR_MESSAGES.AUTH_ERROR);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Chargement...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\r\n      <div className=\"max-w-md w-full space-y-8\">\r\n        {/* Header */}\r\n        <div className=\"text-center\">\r\n          <Link\r\n            to={ROUTES.HOME}\r\n            className=\"inline-flex items-center text-sm text-gray-600 hover:text-gray-900 mb-4\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4 mr-1\" />\r\n            Retour à l'accueil\r\n          </Link>\r\n          \r\n          <h2 className=\"text-3xl font-bold text-gray-900\">Créer un compte</h2>\r\n          <p className=\"mt-2 text-sm text-gray-600\">\r\n            Rejoignez le festival et participez aux votes\r\n          </p>\r\n        </div>\r\n\r\n        {/* Formulaire */}\r\n        <div className=\"card\">\r\n          <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\r\n            {/* Email */}\r\n            <div>\r\n              <label htmlFor=\"email\" className=\"form-label\">\r\n                <Mail className=\"w-4 h-4 inline mr-2\" />\r\n                Adresse email\r\n              </label>\r\n              <input\r\n                id=\"email\"\r\n                type=\"email\"\r\n                {...register('email')}\r\n                className=\"input-field\"\r\n                placeholder=\"votre@email.com\"\r\n                autoComplete=\"email\"\r\n              />\r\n              {errors.email && (\r\n                <p className=\"form-error\">{errors.email.message?.toString()}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Mot de passe */}\r\n            <div>\r\n              <label htmlFor=\"password\" className=\"form-label\">\r\n                <Lock className=\"w-4 h-4 inline mr-2\" />\r\n                Mot de passe\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  id=\"password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  {...register('password')}\r\n                  className=\"input-field pr-10\"\r\n                  placeholder=\"Votre mot de passe\"\r\n                  autoComplete=\"new-password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowPassword(!showPassword)}\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  {showPassword ? (\r\n                    <EyeOff className=\"w-5 h-5\" />\r\n                  ) : (\r\n                    <Eye className=\"w-5 h-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {errors.password && (\r\n                <p className=\"form-error\">{errors.password.message?.toString()}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Confirmation du mot de passe */}\r\n            <div>\r\n              <label htmlFor=\"confirmPassword\" className=\"form-label\">\r\n                <Lock className=\"w-4 h-4 inline mr-2\" />\r\n                Confirmer le mot de passe\r\n              </label>\r\n              <div className=\"relative\">\r\n                <input\r\n                  id=\"confirmPassword\"\r\n                  type={showConfirmPassword ? 'text' : 'password'}\r\n                  {...register('confirmPassword')}\r\n                  className=\"input-field pr-10\"\r\n                  placeholder=\"Confirmez votre mot de passe\"\r\n                  autoComplete=\"new-password\"\r\n                />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => setShowConfirmPassword(!showConfirmPassword)}\r\n                  className=\"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600\"\r\n                >\r\n                  {showConfirmPassword ? (\r\n                    <EyeOff className=\"w-5 h-5\" />\r\n                  ) : (\r\n                    <Eye className=\"w-5 h-5\" />\r\n                  )}\r\n                </button>\r\n              </div>\r\n              {errors.confirmPassword && (\r\n                <p className=\"form-error\">{errors.confirmPassword.message?.toString()}</p>\r\n              )}\r\n            </div>\r\n\r\n            {/* Bouton d'inscription */}\r\n            <button\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n              className=\"btn-primary w-full disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isSubmitting ? (\r\n                <div className=\"flex items-center justify-center\">\r\n                  <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\r\n                  Création en cours...\r\n                </div>\r\n              ) : (\r\n                'Créer mon compte'\r\n              )}\r\n            </button>\r\n          </form>\r\n\r\n          {/* Lien vers la connexion */}\r\n          <div className=\"mt-6 text-center\">\r\n            <Link\r\n              to={ROUTES.LOGIN}\r\n              className=\"text-sm text-primary-600 hover:text-primary-500\"\r\n            >\r\n              Déjà un compte ? Se connecter\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}; "],"version":3}