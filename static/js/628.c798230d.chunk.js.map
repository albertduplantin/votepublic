{"version":3,"file":"static/js/628.c798230d.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/filter.ts","pages/AdminFilmsPage.tsx","services/filmService.ts","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/pen-square.ts","../node_modules/lucide-react/src/icons/arrow-left.ts","utils/helpers.ts","../node_modules/lucide-react/src/icons/search.ts","../node_modules/lucide-react/src/icons/trash-2.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Filter\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjIyIDMgMiAzIDEwIDEyLjQ2IDEwIDE5IDE0IDIxIDE0IDEyLjQ2IDIyIDMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/filter\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Filter = createLucideIcon('Filter', [\n  ['polygon', { points: '22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3', key: '1yg77f' }],\n]);\n\nexport default Filter;\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Plus, Edit, Trash2, ArrowLeft, Search, Filter } from 'lucide-react';\r\nimport { getAllFilms, deleteFilm } from '../services/filmService';\r\nimport { useNotifications } from '../hooks/useNotifications';\r\nimport { Film } from '../types';\r\n\r\nexport const AdminFilmsPage: React.FC = () => {\r\n  const [films, setFilms] = useState<Film[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedGenre, setSelectedGenre] = useState<string>('');\r\n  const { showSuccess, showError } = useNotifications();\r\n\r\n  const loadFilms = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const allFilms = await getAllFilms();\r\n      setFilms(allFilms);\r\n    } catch (error: any) {\r\n      console.error('Erreur lors du chargement des films:', error);\r\n      showError('Erreur de chargement', error.message || 'Impossible de charger les films');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    loadFilms();\r\n  }, []);\r\n\r\n  const handleDeleteFilm = async (filmId: string, filmTitle: string) => {\r\n    if (window.confirm(`Êtes-vous sûr de vouloir supprimer le film \"${filmTitle}\" ?`)) {\r\n      try {\r\n        await deleteFilm(filmId);\r\n        setFilms(films.filter(film => film.id !== filmId));\r\n        showSuccess('Film supprimé', `Le film \"${filmTitle}\" a été supprimé avec succès`);\r\n      } catch (error: any) {\r\n        console.error('Erreur lors de la suppression:', error);\r\n        showError('Erreur de suppression', error.message || 'Impossible de supprimer le film');\r\n      }\r\n    }\r\n  };\r\n\r\n  const filteredFilms = films.filter(film => {\r\n    const matchesSearch = film.titre.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         film.realisateur.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesGenre = !selectedGenre || film.genre === selectedGenre;\r\n    return matchesSearch && matchesGenre;\r\n  });\r\n\r\n  const genres = Array.from(new Set(films.map(film => film.genre))).sort();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Chargement des films...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* En-tête */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"py-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"flex items-center space-x-4\">\r\n                <Link\r\n                  to=\"/admin\"\r\n                  className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n                >\r\n                  <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n                  Retour\r\n                </Link>\r\n                <div>\r\n                  <h1 className=\"text-3xl font-bold text-gray-900\">Gestion des Films</h1>\r\n                  <p className=\"mt-1 text-gray-600\">\r\n                    Gérez les films du festival\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <Link\r\n                to=\"/admin/films/new\"\r\n                className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                <Plus className=\"w-4 h-4 mr-2\" />\r\n                Ajouter un film\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenu principal */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Filtres et recherche */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6 mb-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n            <div>\r\n              <label htmlFor=\"search\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Rechercher\r\n              </label>\r\n              <div className=\"relative\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"search\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  placeholder=\"Rechercher par titre ou réalisateur...\"\r\n                  className=\"pl-10 w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                />\r\n              </div>\r\n            </div>\r\n            \r\n            <div>\r\n              <label htmlFor=\"genre\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Genre\r\n              </label>\r\n              <select\r\n                id=\"genre\"\r\n                value={selectedGenre}\r\n                onChange={(e) => setSelectedGenre(e.target.value)}\r\n                className=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n              >\r\n                <option value=\"\">Tous les genres</option>\r\n                {genres.map(genre => (\r\n                  <option key={genre} value={genre}>{genre}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-end\">\r\n              <button\r\n                onClick={() => {\r\n                  setSearchTerm('');\r\n                  setSelectedGenre('');\r\n                }}\r\n                className=\"w-full inline-flex items-center justify-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\r\n              >\r\n                <Filter className=\"w-4 h-4 mr-2\" />\r\n                Réinitialiser\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Liste des films */}\r\n        <div className=\"bg-white rounded-lg shadow-sm\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">\r\n              Films ({filteredFilms.length})\r\n            </h2>\r\n          </div>\r\n          \r\n          {filteredFilms.length === 0 ? (\r\n            <div className=\"p-6 text-center text-gray-500\">\r\n              <p>Aucun film trouvé</p>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"min-w-full divide-y divide-gray-200\">\r\n                <thead className=\"bg-gray-50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Film\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Réalisateur\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Genre\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Durée\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Année\r\n                    </th>\r\n                    <th className=\"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Actions\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {filteredFilms.map((film) => (\r\n                    <tr key={film.id} className=\"hover:bg-gray-50\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"flex items-center\">\r\n                          <div className=\"flex-shrink-0 h-12 w-8\">\r\n                            {film.posterUrl ? (\r\n                              <img\r\n                                className=\"h-12 w-8 object-cover rounded\"\r\n                                src={film.posterUrl}\r\n                                alt={film.titre}\r\n                              />\r\n                            ) : (\r\n                              <div className=\"h-12 w-8 bg-gray-200 rounded flex items-center justify-center\">\r\n                                <span className=\"text-xs text-gray-500\">Aucune</span>\r\n                              </div>\r\n                            )}\r\n                          </div>\r\n                          <div className=\"ml-4\">\r\n                            <div className=\"text-sm font-medium text-gray-900\">\r\n                              {film.titre}\r\n                            </div>\r\n                            <div className=\"text-sm text-gray-500\">\r\n                              {film.pays}\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {film.realisateur}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className=\"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800\">\r\n                          {film.genre}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {film.duree} min\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\r\n                        {film.annee}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                        <div className=\"flex items-center justify-end space-x-2\">\r\n                          <Link\r\n                            to={`/admin/films/edit/${film.id}`}\r\n                            className=\"text-primary-600 hover:text-primary-900\"\r\n                          >\r\n                            <Edit className=\"w-4 h-4\" />\r\n                          </Link>\r\n                          <button\r\n                            onClick={() => handleDeleteFilm(film.id, film.titre)}\r\n                            className=\"text-red-600 hover:text-red-900\"\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import { db } from './firebase';\nimport { \n  collection, \n  doc, \n  addDoc, \n  updateDoc, \n  deleteDoc, \n  getDocs, \n  getDoc, \n  query, \n  where, \n  orderBy,\n  limit\n} from 'firebase/firestore';\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { Film, CreateFilmData } from '../types';\nimport { generateId } from '../utils/helpers';\n\nconst FILMS_COLLECTION = 'films';\nconst POSTERS_FOLDER = 'posters';\n\n/**\n * Créer un nouveau film avec upload du poster\n */\nexport const createFilm = async (data: CreateFilmData): Promise<Film> => {\n  try {\n    let posterUrl: string | undefined;\n\n    // Upload du poster si fourni\n    if (data.poster) {\n      posterUrl = await uploadPoster(data.poster);\n    }\n\n    const filmData: Omit<Film, 'id'> = {\n      titre: data.titre,\n      realisateur: data.realisateur,\n      pays: data.pays,\n      duree: data.duree,\n      annee: data.annee,\n      synopsis: data.synopsis,\n      genre: data.genre,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      ...(posterUrl && { posterUrl }),\n    };\n\n    const docRef = await addDoc(collection(db, FILMS_COLLECTION), filmData);\n    \n    return {\n      id: docRef.id,\n      ...filmData,\n    };\n  } catch (error) {\n    console.error('Erreur lors de la création du film:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer tous les films\n */\nexport const getAllFilms = async (): Promise<Film[]> => {\n  try {\n    const q = query(\n      collection(db, FILMS_COLLECTION),\n      orderBy('titre', 'asc')\n    );\n    \n    const querySnapshot = await getDocs(q);\n    const films: Film[] = [];\n    \n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n      films.push({\n        id: doc.id,\n        titre: data.titre,\n        realisateur: data.realisateur,\n        pays: data.pays,\n        duree: data.duree,\n        annee: data.annee,\n        synopsis: data.synopsis,\n        posterUrl: data.posterUrl,\n        genre: data.genre,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      });\n    });\n    \n    return films;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des films:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer un film par son ID\n */\nexport const getFilmById = async (filmId: string): Promise<Film | null> => {\n  try {\n    const docRef = doc(db, FILMS_COLLECTION, filmId);\n    const docSnap = await getDoc(docRef);\n    \n    if (docSnap.exists()) {\n      const data = docSnap.data();\n      return {\n        id: docSnap.id,\n        titre: data.titre,\n        realisateur: data.realisateur,\n        pays: data.pays,\n        duree: data.duree,\n        annee: data.annee,\n        synopsis: data.synopsis,\n        posterUrl: data.posterUrl,\n        genre: data.genre,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      };\n    }\n    \n    return null;\n  } catch (error) {\n    console.error('Erreur lors de la récupération du film:', error);\n    throw error;\n  }\n};\n\n/**\n * Mettre à jour un film\n */\nexport const updateFilm = async (filmId: string, data: Partial<CreateFilmData>): Promise<void> => {\n  try {\n    const docRef = doc(db, FILMS_COLLECTION, filmId);\n    \n    const updateData: any = {\n      ...data,\n      updatedAt: new Date(),\n    };\n\n    // Upload du nouveau poster si fourni\n    if (data.poster) {\n      updateData.posterUrl = await uploadPoster(data.poster);\n    }\n\n    await updateDoc(docRef, updateData);\n  } catch (error) {\n    console.error('Erreur lors de la mise à jour du film:', error);\n    throw error;\n  }\n};\n\n/**\n * Supprimer un film\n */\nexport const deleteFilm = async (filmId: string): Promise<void> => {\n  try {\n    // Récupérer le film pour supprimer le poster\n    const film = await getFilmById(filmId);\n    if (film?.posterUrl) {\n      await deletePoster(film.posterUrl);\n    }\n\n    const docRef = doc(db, FILMS_COLLECTION, filmId);\n    await deleteDoc(docRef);\n  } catch (error) {\n    console.error('Erreur lors de la suppression du film:', error);\n    throw error;\n  }\n};\n\n/**\n * Upload d'un poster\n */\nexport const uploadPoster = async (file: File): Promise<string> => {\n  try {\n    const { storage } = await import('./firebase');\n    const fileName = `${generateId()}_${file.name}`;\n    const storageRef = ref(storage, `${POSTERS_FOLDER}/${fileName}`);\n    \n    const snapshot = await uploadBytes(storageRef, file);\n    const downloadURL = await getDownloadURL(snapshot.ref);\n    \n    return downloadURL;\n  } catch (error) {\n    console.error('Erreur lors de l\\'upload du poster:', error);\n    throw error;\n  }\n};\n\n/**\n * Supprimer un poster\n */\nexport const deletePoster = async (posterUrl: string): Promise<void> => {\n  try {\n    const { storage } = await import('./firebase');\n    const storageRef = ref(storage, posterUrl);\n    await deleteObject(storageRef);\n  } catch (error) {\n    console.error('Erreur lors de la suppression du poster:', error);\n    // Ne pas throw l'erreur car ce n'est pas critique\n  }\n};\n\n/**\n * Rechercher des films\n */\nexport const searchFilms = async (searchTerm: string): Promise<Film[]> => {\n  try {\n    const films = await getAllFilms();\n    const term = searchTerm.toLowerCase();\n    \n    return films.filter(film => \n      film.titre.toLowerCase().includes(term) ||\n      film.realisateur.toLowerCase().includes(term) ||\n      film.pays.toLowerCase().includes(term) ||\n      film.genre.toLowerCase().includes(term)\n    );\n  } catch (error) {\n    console.error('Erreur lors de la recherche de films:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer les films par genre\n */\nexport const getFilmsByGenre = async (genre: string): Promise<Film[]> => {\n  try {\n    const q = query(\n      collection(db, FILMS_COLLECTION),\n      where('genre', '==', genre),\n      orderBy('titre', 'asc')\n    );\n    \n    const querySnapshot = await getDocs(q);\n    const films: Film[] = [];\n    \n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n      films.push({\n        id: doc.id,\n        titre: data.titre,\n        realisateur: data.realisateur,\n        pays: data.pays,\n        duree: data.duree,\n        annee: data.annee,\n        synopsis: data.synopsis,\n        posterUrl: data.posterUrl,\n        genre: data.genre,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      });\n    });\n    \n    return films;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des films par genre:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer les films récents\n */\nexport const getRecentFilms = async (limitCount: number = 10): Promise<Film[]> => {\n  try {\n    const q = query(\n      collection(db, FILMS_COLLECTION),\n      orderBy('createdAt', 'desc'),\n      limit(limitCount)\n    );\n    \n    const querySnapshot = await getDocs(q);\n    const films: Film[] = [];\n    \n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n      films.push({\n        id: doc.id,\n        titre: data.titre,\n        realisateur: data.realisateur,\n        pays: data.pays,\n        duree: data.duree,\n        annee: data.annee,\n        synopsis: data.synopsis,\n        posterUrl: data.posterUrl,\n        genre: data.genre,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      });\n    });\n    \n    return films;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des films récents:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer les statistiques des films\n */\nexport const getFilmsStats = async (): Promise<{\n  total: number;\n  parGenre: Record<string, number>;\n  parPays: Record<string, number>;\n  parAnnee: Record<number, number>;\n}> => {\n  try {\n    const films = await getAllFilms();\n    \n    const stats = {\n      total: films.length,\n      parGenre: {} as Record<string, number>,\n      parPays: {} as Record<string, number>,\n      parAnnee: {} as Record<number, number>,\n    };\n    \n    films.forEach(film => {\n      // Compter par genre\n      stats.parGenre[film.genre] = (stats.parGenre[film.genre] || 0) + 1;\n      \n      // Compter par pays\n      stats.parPays[film.pays] = (stats.parPays[film.pays] || 0) + 1;\n      \n      // Compter par année\n      stats.parAnnee[film.annee] = (stats.parAnnee[film.annee] || 0) + 1;\n    });\n    \n    return stats;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des statistiques des films:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer les genres disponibles\n */\nexport const getAvailableGenres = async (): Promise<string[]> => {\n  try {\n    const films = await getAllFilms();\n    const genres = Array.from(new Set(films.map(film => film.genre)));\n    return genres.sort();\n  } catch (error) {\n    console.error('Erreur lors de la récupération des genres:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer plusieurs films par leurs IDs\n */\nexport const getFilmsByIds = async (filmIds: string[]): Promise<Film[]> => {\n  try {\n    if (filmIds.length === 0) return [];\n    \n    // Récupérer les films en parallèle\n    const filmPromises = filmIds.map(id => getFilmById(id));\n    const films = await Promise.all(filmPromises);\n    \n    // Filtrer les films null et retourner\n    return films.filter((film): film is Film => film !== null);\n  } catch (error) {\n    console.error('Erreur lors de la récupération des films par IDs:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer les pays disponibles\n */\nexport const getAvailableCountries = async (): Promise<string[]> => {\n  try {\n    const films = await getAllFilms();\n    const countries = Array.from(new Set(films.map(film => film.pays)));\n    return countries.sort();\n  } catch (error) {\n    console.error('Erreur lors de la récupération des pays:', error);\n    throw error;\n  }\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  ['path', { d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7', key: '1qinfi' }],\n  ['path', { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' }],\n]);\n\nexport default PenSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n","import { VALIDATION_RULES } from './constants';\r\n\r\n/**\r\n * Génère un ID unique\r\n */\r\nexport const generateId = (): string => {\r\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\r\n};\r\n\r\n/**\r\n * Génère un ID de session unique pour les votes anonymes\r\n */\r\nexport const generateSessionId = (): string => {\r\n  const timestamp = Date.now();\r\n  const random = Math.random().toString(36).substring(2);\r\n  return `${timestamp}-${random}`;\r\n};\r\n\r\n/**\r\n * Valide une adresse email\r\n */\r\nexport const isValidEmail = (email: string): boolean => {\r\n  return VALIDATION_RULES.EMAIL.test(email);\r\n};\r\n\r\n/**\r\n * Valide un mot de passe\r\n */\r\nexport const isValidPassword = (password: string): boolean => {\r\n  return password.length >= VALIDATION_RULES.PASSWORD_MIN_LENGTH;\r\n};\r\n\r\n/**\r\n * Valide un fichier image\r\n */\r\nexport const isValidImageFile = (file: File): boolean => {\r\n  return (\r\n    VALIDATION_RULES.ALLOWED_IMAGE_TYPES.indexOf(file.type) !== -1 &&\r\n    file.size <= VALIDATION_RULES.MAX_FILE_SIZE\r\n  );\r\n};\r\n\r\n/**\r\n * Redimensionne une image\r\n */\r\nexport const resizeImage = (\r\n  file: File,\r\n  maxWidth: number = 800,\r\n  maxHeight: number = 600,\r\n  quality: number = 0.8\r\n): Promise<Blob> => {\r\n  return new Promise((resolve, reject) => {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      // Calculer les nouvelles dimensions\r\n      let { width, height } = img;\r\n      \r\n      if (width > maxWidth) {\r\n        height = (height * maxWidth) / width;\r\n        width = maxWidth;\r\n      }\r\n      \r\n      if (height > maxHeight) {\r\n        width = (width * maxHeight) / height;\r\n        height = maxHeight;\r\n      }\r\n\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n\r\n      if (ctx) {\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n        canvas.toBlob(\r\n          (blob) => {\r\n            if (blob) {\r\n              resolve(blob);\r\n            } else {\r\n              reject(new Error('Erreur lors du redimensionnement'));\r\n            }\r\n          },\r\n          'image/jpeg',\r\n          quality\r\n        );\r\n      } else {\r\n        reject(new Error('Impossible de créer le contexte canvas'));\r\n      }\r\n    };\r\n\r\n    img.onerror = () => reject(new Error('Erreur lors du chargement de l\\'image'));\r\n    img.src = URL.createObjectURL(file);\r\n  });\r\n};\r\n\r\n/**\r\n * Formate une date\r\n */\r\nexport const formatDate = (date: Date): string => {\r\n  return new Intl.DateTimeFormat('fr-FR', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  }).format(date);\r\n};\r\n\r\n/**\r\n * Formate une note avec étoiles\r\n */\r\nexport const formatRating = (rating: number): string => {\r\n  return `${rating}/5`;\r\n};\r\n\r\n/**\r\n * Calcule la moyenne des notes\r\n */\r\nexport const calculateAverageRating = (ratings: number[]): number => {\r\n  if (ratings.length === 0) return 0;\r\n  const sum = ratings.reduce((acc, rating) => acc + rating, 0);\r\n  return Math.round((sum / ratings.length) * 10) / 10;\r\n};\r\n\r\n/**\r\n * Génère une distribution des notes\r\n */\r\nexport const generateRatingDistribution = (ratings: number[]): Record<number, number> => {\r\n  const distribution: Record<number, number> = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };\r\n  \r\n  ratings.forEach(rating => {\r\n    if (rating >= 1 && rating <= 5) {\r\n      distribution[rating]++;\r\n    }\r\n  });\r\n  \r\n  return distribution;\r\n};\r\n\r\n/**\r\n * Retourne l'User Agent du navigateur\r\n */\r\nexport const getUserAgent = (): string => {\r\n  return navigator.userAgent;\r\n};\r\n\r\n/**\r\n * Retourne l'adresse IP (approximative via service externe)\r\n */\r\nexport const getIpAddress = async (): Promise<string | null> => {\r\n  try {\r\n    const response = await fetch('https://api.ipify.org?format=json');\r\n    const data = await response.json();\r\n    return data.ip;\r\n  } catch (error) {\r\n    console.warn('Impossible de récupérer l\\'IP:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Stocke une valeur dans le localStorage\r\n */\r\nexport const setLocalStorage = (key: string, value: any): void => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (error) {\r\n    console.warn('Erreur lors du stockage local:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Récupère une valeur du localStorage\r\n */\r\nexport const getLocalStorage = <T>(key: string, defaultValue: T): T => {\r\n  try {\r\n    const item = localStorage.getItem(key);\r\n    return item ? JSON.parse(item) : defaultValue;\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la récupération locale:', error);\r\n    return defaultValue;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprime une valeur du localStorage\r\n */\r\nexport const removeLocalStorage = (key: string): void => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la suppression locale:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Débounce une fonction\r\n */\r\nexport const debounce = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeout: number;\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = window.setTimeout(() => func(...args), wait);\r\n  };\r\n};\r\n\r\n/**\r\n * Retry une fonction avec délai\r\n */\r\nexport const retry = async <T>(\r\n  fn: () => Promise<T>,\r\n  maxRetries: number = 3,\r\n  delay: number = 1000\r\n): Promise<T> => {\r\n  let lastError: Error = new Error('Une erreur est survenue');\r\n  \r\n  for (let i = 0; i < maxRetries; i++) {\r\n    try {\r\n      return await fn();\r\n    } catch (error) {\r\n      lastError = error as Error;\r\n      if (i < maxRetries - 1) {\r\n        await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));\r\n      }\r\n    }\r\n  }\r\n  \r\n  throw new Error(lastError.message || 'Une erreur est survenue');\r\n};\r\n\r\n/**\r\n * Combine les classes CSS\r\n */\r\nexport const cn = (...classes: (string | undefined | null | false)[]): string => {\r\n  return classes.filter(Boolean).join(' ');\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Search\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Search = createLucideIcon('Search', [\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n]);\n\nexport default Search;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n"],"names":["Filter","createLucideIcon","points","key","AdminFilmsPage","films","setFilms","useState","loading","setLoading","searchTerm","setSearchTerm","selectedGenre","setSelectedGenre","showSuccess","showError","useNotifications","useEffect","async","allFilms","getAllFilms","error","console","message","loadFilms","filteredFilms","filter","film","matchesSearch","titre","toLowerCase","includes","realisateur","matchesGenre","genre","genres","Array","from","Set","map","sort","_jsx","className","children","_jsxs","Link","to","ArrowLeft","Plus","htmlFor","Search","type","id","value","onChange","e","target","placeholder","onClick","length","posterUrl","src","alt","pays","duree","annee","Edit","filmId","filmTitle","window","confirm","deleteFilm","handleDeleteFilm","Trash2","FILMS_COLLECTION","q","query","collection","db","orderBy","querySnapshot","getDocs","forEach","doc","data","push","synopsis","createdAt","toDate","updatedAt","getFilmById","docRef","docSnap","getDoc","exists","deletePoster","deleteDoc","storage","storageRef","ref","deleteObject","d","PenSquare","generateId","Date","now","toString","Math","random","substring","generateSessionId","getUserAgent","navigator","userAgent","getIpAddress","response","fetch","json","ip","warn","setLocalStorage","localStorage","setItem","JSON","stringify","getLocalStorage","defaultValue","item","getItem","parse","cn","_len2","arguments","classes","_key2","Boolean","join","cx","cy","r","x1","x2","y1","y2"],"sourceRoot":""}