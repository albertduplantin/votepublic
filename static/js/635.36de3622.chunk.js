/*! For license information please see 635.36de3622.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkprix_du_public=self.webpackChunkprix_du_public||[]).push([[635],{1146:(e,s,t)=>{t.d(s,{Vm:()=>n});var r=t(4455),a=t(5472);t(8147),t(6925);const l="films",n=async()=>{try{const e=(0,a.P)((0,a.rJ)(r.db,l),(0,a.My)("titre","asc")),s=await(0,a.GG)(e),t=[];return s.forEach(e=>{const s=e.data();t.push({id:e.id,titre:s.titre,realisateur:s.realisateur,pays:s.pays,duree:s.duree,annee:s.annee,synopsis:s.synopsis,posterUrl:s.posterUrl,genre:s.genre,createdAt:s.createdAt.toDate(),updatedAt:s.updatedAt.toDate()})}),t}catch(e){throw console.error("Erreur lors de la r\xe9cup\xe9ration des films:",e),e}}},5635:(e,s,t)=>{t.r(s),t.d(s,{FilmsPage:()=>d});var r=t(5043);const a=(0,t(1639).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=t(3944),n=t(1146),c=t(4413),i=t(3768),o=t(579);const d=()=>{const[e,s]=(0,r.useState)([]),[t,d]=(0,r.useState)(!0),[m,x]=(0,r.useState)("");(0,r.useEffect)(()=>{(async()=>{try{const e=await(0,n.Vm)();s(e)}catch(e){i.Ay.error(c.UU.NETWORK_ERROR)}finally{d(!1)}})()},[]);const u=e.filter(e=>e.titre.toLowerCase().includes(m.toLowerCase())||e.realisateur.toLowerCase().includes(m.toLowerCase()));return t?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,o.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des films..."})]})}):(0,o.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,o.jsx)("header",{className:"bg-white shadow-sm",children:(0,o.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,o.jsxs)("div",{className:"py-6",children:[(0,o.jsx)("h1",{className:"text-3xl font-bold text-primary-600",children:"Films en comp\xe9tition"}),(0,o.jsx)("p",{className:"text-secondary-600 mt-1",children:"D\xe9couvrez tous les films du Festival du Film Court de Dinan"})]})})}),(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,o.jsx)("div",{className:"mb-8",children:(0,o.jsxs)("div",{className:"relative",children:[(0,o.jsx)(a,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,o.jsx)("input",{type:"text",placeholder:"Rechercher un film ou un r\xe9alisateur...",value:m,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),0===e.length?(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfac"}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Aucun film disponible"}),(0,o.jsx)("p",{className:"text-gray-600",children:"Les films seront ajout\xe9s par l'administrateur."})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"mb-6",children:(0,o.jsxs)("p",{className:"text-gray-600",children:[u.length," film",u.length>1?"s":""," trouv\xe9",u.length>1?"s":"",m&&` pour "${m}"`]})}),(0,o.jsx)("div",{className:"films-grid",children:u.map(e=>(0,o.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[e.posterUrl&&(0,o.jsx)("img",{src:e.posterUrl,alt:e.titre,className:"w-full h-64 object-cover rounded-lg mb-4"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.titre}),(0,o.jsxs)("p",{className:"text-sm text-gray-600",children:["R\xe9alis\xe9 par ",(0,o.jsx)("span",{className:"font-medium",children:e.realisateur})]}),(0,o.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.synopsis}),(0,o.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,o.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,o.jsx)(l.A,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,o.jsx)("span",{children:"En comp\xe9tition"})]}),(0,o.jsxs)("div",{className:"text-xs text-gray-400",children:["Ajout\xe9 le ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]})]})]},e.id))}),m&&0===u.length&&(0,o.jsxs)("div",{className:"text-center py-12",children:[(0,o.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,o.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun film trouv\xe9"}),(0,o.jsxs)("p",{className:"text-gray-600",children:['Aucun film ne correspond \xe0 votre recherche "',m,'"']}),(0,o.jsx)("button",{onClick:()=>x(""),className:"mt-4 text-primary-600 hover:text-primary-500",children:"Voir tous les films"})]})]})]})]})}},6925:(e,s,t)=>{t.d(s,{$C:()=>r,$t:()=>l,Lg:()=>i,SP:()=>n,ZB:()=>c,cn:()=>o,f6:()=>a});t(4413);const r=()=>Date.now().toString(36)+Math.random().toString(36).substring(2),a=()=>`${Date.now()}-${Math.random().toString(36).substring(2)}`,l=()=>navigator.userAgent,n=async()=>{try{const e=await fetch("https://api.ipify.org?format=json");return(await e.json()).ip}catch(e){return console.warn("Impossible de r\xe9cup\xe9rer l'IP:",e),null}},c=(e,s)=>{try{localStorage.setItem(e,JSON.stringify(s))}catch(t){console.warn("Erreur lors du stockage local:",t)}},i=(e,s)=>{try{const t=localStorage.getItem(e);return t?JSON.parse(t):s}catch(t){return console.warn("Erreur lors de la r\xe9cup\xe9ration locale:",t),s}},o=function(){for(var e=arguments.length,s=new Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}}}]);
//# sourceMappingURL=635.36de3622.chunk.js.map