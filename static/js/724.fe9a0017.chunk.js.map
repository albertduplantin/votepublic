{"version":3,"file":"static/js/724.fe9a0017.chunk.js","mappings":"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","sources":["services/filmService.ts","../node_modules/lucide-react/src/icons/clock.ts","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/pen-square.ts","../node_modules/lucide-react/src/icons/trash-2.ts","../node_modules/lucide-react/src/icons/x.ts","components/admin/CreateSeanceModal.tsx","components/admin/EditSeanceModal.tsx","../node_modules/lucide-react/src/icons/copy.ts","../node_modules/lucide-react/src/icons/download.ts","components/admin/SeanceDetailsModal.tsx","pages/AdminSeancesPage.tsx","utils/helpers.ts","services/seanceService.ts","../node_modules/lucide-react/src/icons/eye.ts"],"sourcesContent":["import { db, storage } from './firebase';\r\nimport { \r\n  collection, \r\n  doc, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  getDocs, \r\n  getDoc, \r\n  query, \r\n  where, \r\n  orderBy,\r\n  limit\r\n} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\r\nimport { Film, CreateFilmData } from '../types';\r\nimport { generateId } from '../utils/helpers';\r\n\r\nconst FILMS_COLLECTION = 'films';\r\nconst POSTERS_FOLDER = 'posters';\r\n\r\n/**\r\n * Créer un nouveau film avec upload du poster\r\n */\r\nexport const createFilm = async (data: CreateFilmData): Promise<Film> => {\r\n  try {\r\n    let posterUrl: string | undefined;\r\n\r\n    // Upload du poster si fourni\r\n    if (data.poster) {\r\n      posterUrl = await uploadPoster(data.poster);\r\n    }\r\n\r\n    const filmData: Omit<Film, 'id'> = {\r\n      titre: data.titre,\r\n      realisateur: data.realisateur,\r\n      pays: data.pays,\r\n      duree: data.duree,\r\n      annee: data.annee,\r\n      synopsis: data.synopsis,\r\n      posterUrl,\r\n      genre: data.genre,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    const docRef = await addDoc(collection(db, FILMS_COLLECTION), filmData);\r\n    \r\n    return {\r\n      id: docRef.id,\r\n      ...filmData,\r\n    };\r\n  } catch (error) {\r\n    console.error('Erreur lors de la création du film:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer tous les films\r\n */\r\nexport const getAllFilms = async (): Promise<Film[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, FILMS_COLLECTION),\r\n      orderBy('titre', 'asc')\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const films: Film[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      films.push({\r\n        id: doc.id,\r\n        titre: data.titre,\r\n        realisateur: data.realisateur,\r\n        pays: data.pays,\r\n        duree: data.duree,\r\n        annee: data.annee,\r\n        synopsis: data.synopsis,\r\n        posterUrl: data.posterUrl,\r\n        genre: data.genre,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return films;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des films:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer un film par son ID\r\n */\r\nexport const getFilmById = async (filmId: string): Promise<Film | null> => {\r\n  try {\r\n    const docRef = doc(db, FILMS_COLLECTION, filmId);\r\n    const docSnap = await getDoc(docRef);\r\n    \r\n    if (docSnap.exists()) {\r\n      const data = docSnap.data();\r\n      return {\r\n        id: docSnap.id,\r\n        titre: data.titre,\r\n        realisateur: data.realisateur,\r\n        pays: data.pays,\r\n        duree: data.duree,\r\n        annee: data.annee,\r\n        synopsis: data.synopsis,\r\n        posterUrl: data.posterUrl,\r\n        genre: data.genre,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      };\r\n    }\r\n    \r\n    return null;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération du film:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Mettre à jour un film\r\n */\r\nexport const updateFilm = async (filmId: string, data: Partial<CreateFilmData>): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, FILMS_COLLECTION, filmId);\r\n    \r\n    const updateData: any = {\r\n      ...data,\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    // Upload du nouveau poster si fourni\r\n    if (data.poster) {\r\n      updateData.posterUrl = await uploadPoster(data.poster);\r\n    }\r\n\r\n    await updateDoc(docRef, updateData);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la mise à jour du film:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprimer un film\r\n */\r\nexport const deleteFilm = async (filmId: string): Promise<void> => {\r\n  try {\r\n    // Récupérer le film pour supprimer le poster\r\n    const film = await getFilmById(filmId);\r\n    if (film?.posterUrl) {\r\n      await deletePoster(film.posterUrl);\r\n    }\r\n\r\n    const docRef = doc(db, FILMS_COLLECTION, filmId);\r\n    await deleteDoc(docRef);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la suppression du film:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Upload d'un poster\r\n */\r\nexport const uploadPoster = async (file: File): Promise<string> => {\r\n  try {\r\n    const fileName = `${generateId()}_${file.name}`;\r\n    const storageRef = ref(storage, `${POSTERS_FOLDER}/${fileName}`);\r\n    \r\n    const snapshot = await uploadBytes(storageRef, file);\r\n    const downloadURL = await getDownloadURL(snapshot.ref);\r\n    \r\n    return downloadURL;\r\n  } catch (error) {\r\n    console.error('Erreur lors de l\\'upload du poster:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprimer un poster\r\n */\r\nexport const deletePoster = async (posterUrl: string): Promise<void> => {\r\n  try {\r\n    const storageRef = ref(storage, posterUrl);\r\n    await deleteObject(storageRef);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la suppression du poster:', error);\r\n    // Ne pas throw l'erreur car ce n'est pas critique\r\n  }\r\n};\r\n\r\n/**\r\n * Rechercher des films\r\n */\r\nexport const searchFilms = async (searchTerm: string): Promise<Film[]> => {\r\n  try {\r\n    const films = await getAllFilms();\r\n    const term = searchTerm.toLowerCase();\r\n    \r\n    return films.filter(film => \r\n      film.titre.toLowerCase().includes(term) ||\r\n      film.realisateur.toLowerCase().includes(term) ||\r\n      film.pays.toLowerCase().includes(term) ||\r\n      film.genre.toLowerCase().includes(term)\r\n    );\r\n  } catch (error) {\r\n    console.error('Erreur lors de la recherche de films:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les films par genre\r\n */\r\nexport const getFilmsByGenre = async (genre: string): Promise<Film[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, FILMS_COLLECTION),\r\n      where('genre', '==', genre),\r\n      orderBy('titre', 'asc')\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const films: Film[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      films.push({\r\n        id: doc.id,\r\n        titre: data.titre,\r\n        realisateur: data.realisateur,\r\n        pays: data.pays,\r\n        duree: data.duree,\r\n        annee: data.annee,\r\n        synopsis: data.synopsis,\r\n        posterUrl: data.posterUrl,\r\n        genre: data.genre,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return films;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des films par genre:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les films récents\r\n */\r\nexport const getRecentFilms = async (limitCount: number = 10): Promise<Film[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, FILMS_COLLECTION),\r\n      orderBy('createdAt', 'desc'),\r\n      limit(limitCount)\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const films: Film[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      films.push({\r\n        id: doc.id,\r\n        titre: data.titre,\r\n        realisateur: data.realisateur,\r\n        pays: data.pays,\r\n        duree: data.duree,\r\n        annee: data.annee,\r\n        synopsis: data.synopsis,\r\n        posterUrl: data.posterUrl,\r\n        genre: data.genre,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return films;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des films récents:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les statistiques des films\r\n */\r\nexport const getFilmsStats = async (): Promise<{\r\n  total: number;\r\n  parGenre: Record<string, number>;\r\n  parPays: Record<string, number>;\r\n  parAnnee: Record<number, number>;\r\n}> => {\r\n  try {\r\n    const films = await getAllFilms();\r\n    \r\n    const stats = {\r\n      total: films.length,\r\n      parGenre: {} as Record<string, number>,\r\n      parPays: {} as Record<string, number>,\r\n      parAnnee: {} as Record<number, number>,\r\n    };\r\n    \r\n    films.forEach(film => {\r\n      // Compter par genre\r\n      stats.parGenre[film.genre] = (stats.parGenre[film.genre] || 0) + 1;\r\n      \r\n      // Compter par pays\r\n      stats.parPays[film.pays] = (stats.parPays[film.pays] || 0) + 1;\r\n      \r\n      // Compter par année\r\n      stats.parAnnee[film.annee] = (stats.parAnnee[film.annee] || 0) + 1;\r\n    });\r\n    \r\n    return stats;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des statistiques des films:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les genres disponibles\r\n */\r\nexport const getAvailableGenres = async (): Promise<string[]> => {\r\n  try {\r\n    const films = await getAllFilms();\r\n    const genres = Array.from(new Set(films.map(film => film.genre)));\r\n    return genres.sort();\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des genres:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les pays disponibles\r\n */\r\nexport const getAvailableCountries = async (): Promise<string[]> => {\r\n  try {\r\n    const films = await getAllFilms();\r\n    const countries = Array.from(new Set(films.map(film => film.pays)));\r\n    return countries.sort();\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des pays:', error);\r\n    throw error;\r\n  }\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  [\n    'path',\n    {\n      d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7',\n      key: '1qinfi',\n    },\n  ],\n  [\n    'path',\n    { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' },\n  ],\n]);\n\nexport default PenSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('Trash2', [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n]);\n\nexport default Trash2;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name X\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTggNiA2IDE4IiAvPgogIDxwYXRoIGQ9Im02IDYgMTIgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst X = createLucideIcon('X', [\n  ['path', { d: 'M18 6 6 18', key: '1bl5f8' }],\n  ['path', { d: 'm6 6 12 12', key: 'd8bk6v' }],\n]);\n\nexport default X;\n","import React, { useState } from 'react';\r\nimport { X, Calendar, Clock, Film, Plus, Trash2 } from 'lucide-react';\r\nimport { Film as FilmType, CreateSeanceData } from '../../types';\r\nimport { createSeance } from '../../services/seanceService';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface CreateSeanceModalProps {\r\n  films: FilmType[];\r\n  onClose: () => void;\r\n  onSuccess: (seance: any) => void;\r\n}\r\n\r\nexport const CreateSeanceModal: React.FC<CreateSeanceModalProps> = ({\r\n  films,\r\n  onClose,\r\n  onSuccess,\r\n}) => {\r\n  const [formData, setFormData] = useState<CreateSeanceData>({\r\n    nom: '',\r\n    description: '',\r\n    date: new Date(),\r\n    heure: '20:00',\r\n    films: [],\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (formData.films.length !== 5) {\r\n      toast.error('Une séance doit contenir exactement 5 films');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const newSeance = await createSeance(formData);\r\n      onSuccess(newSeance);\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Erreur lors de la création de la séance');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilmToggle = (filmId: string) => {\r\n    setFormData(prev => {\r\n      const isSelected = prev.films.includes(filmId);\r\n      if (isSelected) {\r\n        return {\r\n          ...prev,\r\n          films: prev.films.filter(id => id !== filmId),\r\n        };\r\n      } else {\r\n        if (prev.films.length >= 5) {\r\n          toast.error('Une séance ne peut contenir que 5 films maximum');\r\n          return prev;\r\n        }\r\n        return {\r\n          ...prev,\r\n          films: [...prev.films, filmId],\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeFilm = (filmId: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      films: prev.films.filter(id => id !== filmId),\r\n    }));\r\n  };\r\n\r\n  const selectedFilms = films.filter(film => formData.films.includes(film.id));\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* En-tête */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Créer une nouvelle séance</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Formulaire */}\r\n        <form onSubmit={handleSubmit} className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* Informations de base */}\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Nom de la séance *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.nom}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, nom: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  placeholder=\"Ex: Séance d'ouverture\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                  rows={3}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  placeholder=\"Description optionnelle de la séance\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Date *\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    required\r\n                    value={formData.date.toISOString().split('T')[0]}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, date: new Date(e.target.value) }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Heure *\r\n                  </label>\r\n                  <input\r\n                    type=\"time\"\r\n                    required\r\n                    value={formData.heure}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, heure: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Films sélectionnés */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Films sélectionnés ({formData.films.length}/5)\r\n              </label>\r\n              \r\n              {selectedFilms.length === 0 ? (\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n                  <Film className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                  <p className=\"mt-2 text-sm text-gray-500\">\r\n                    Aucun film sélectionné\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {selectedFilms.map((film, index) => (\r\n                    <div\r\n                      key={film.id}\r\n                      className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                    >\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <span className=\"flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-xs font-medium\">\r\n                          {index + 1}\r\n                        </span>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{film.titre}</p>\r\n                          <p className=\"text-sm text-gray-500\">{film.realisateur}</p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeFilm(film.id)}\r\n                        className=\"p-1 text-gray-400 hover:text-error-600 hover:bg-error-50 rounded transition-colors\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Liste des films disponibles */}\r\n          <div className=\"mt-8\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n              Films disponibles ({films.length})\r\n            </h3>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-64 overflow-y-auto\">\r\n              {films.map((film) => {\r\n                const isSelected = formData.films.includes(film.id);\r\n                return (\r\n                  <div\r\n                    key={film.id}\r\n                    className={`p-4 border rounded-lg cursor-pointer transition-colors ${\r\n                      isSelected\r\n                        ? 'border-primary bg-primary-50'\r\n                        : 'border-gray-200 hover:border-primary hover:bg-gray-50'\r\n                    }`}\r\n                    onClick={() => handleFilmToggle(film.id)}\r\n                  >\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <div className={`flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center ${\r\n                        isSelected\r\n                          ? 'border-primary bg-primary text-white'\r\n                          : 'border-gray-300'\r\n                      }`}>\r\n                        {isSelected && <Plus className=\"w-3 h-3\" />}\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className={`font-medium truncate ${\r\n                          isSelected ? 'text-primary' : 'text-gray-900'\r\n                        }`}>\r\n                          {film.titre}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-500 truncate\">\r\n                          {film.realisateur}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-400\">\r\n                          {film.duree}min • {film.annee}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-end space-x-3 mt-8 pt-6 border-t border-gray-200\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n            >\r\n              Annuler\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || formData.films.length !== 5}\r\n              className=\"btn-festival disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? 'Création...' : 'Créer la séance'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport { X, Calendar, Clock, Film, Plus, Trash2 } from 'lucide-react';\r\nimport { Film as FilmType, Seance, CreateSeanceData } from '../../types';\r\nimport { updateSeance } from '../../services/seanceService';\r\nimport toast from 'react-hot-toast';\r\n\r\ninterface EditSeanceModalProps {\r\n  seance: Seance;\r\n  films: FilmType[];\r\n  onClose: () => void;\r\n  onSuccess: (seance: Seance) => void;\r\n}\r\n\r\nexport const EditSeanceModal: React.FC<EditSeanceModalProps> = ({\r\n  seance,\r\n  films,\r\n  onClose,\r\n  onSuccess,\r\n}) => {\r\n  const [formData, setFormData] = useState<CreateSeanceData>({\r\n    nom: seance.nom,\r\n    description: seance.description || '',\r\n    date: seance.date,\r\n    heure: seance.heure,\r\n    films: [...seance.films],\r\n  });\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (formData.films.length !== 5) {\r\n      toast.error('Une séance doit contenir exactement 5 films');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      await updateSeance(seance.id, formData);\r\n      const updatedSeance = { ...seance, ...formData };\r\n      onSuccess(updatedSeance);\r\n    } catch (error: any) {\r\n      toast.error(error.message || 'Erreur lors de la mise à jour de la séance');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFilmToggle = (filmId: string) => {\r\n    setFormData(prev => {\r\n      const isSelected = prev.films.includes(filmId);\r\n      if (isSelected) {\r\n        return {\r\n          ...prev,\r\n          films: prev.films.filter(id => id !== filmId),\r\n        };\r\n      } else {\r\n        if (prev.films.length >= 5) {\r\n          toast.error('Une séance ne peut contenir que 5 films maximum');\r\n          return prev;\r\n        }\r\n        return {\r\n          ...prev,\r\n          films: [...prev.films, filmId],\r\n        };\r\n      }\r\n    });\r\n  };\r\n\r\n  const removeFilm = (filmId: string) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      films: prev.films.filter(id => id !== filmId),\r\n    }));\r\n  };\r\n\r\n  const selectedFilms = films.filter(film => formData.films.includes(film.id));\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* En-tête */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Modifier la séance</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Formulaire */}\r\n        <form onSubmit={handleSubmit} className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n            {/* Informations de base */}\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Nom de la séance *\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  required\r\n                  value={formData.nom}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, nom: e.target.value }))}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  placeholder=\"Ex: Séance d'ouverture\"\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Description\r\n                </label>\r\n                <textarea\r\n                  value={formData.description}\r\n                  onChange={(e) => setFormData(prev => ({ ...prev, description: e.target.value }))}\r\n                  rows={3}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  placeholder=\"Description optionnelle de la séance\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Date *\r\n                  </label>\r\n                  <input\r\n                    type=\"date\"\r\n                    required\r\n                    value={formData.date.toISOString().split('T')[0]}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, date: new Date(e.target.value) }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  />\r\n                </div>\r\n\r\n                <div>\r\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                    Heure *\r\n                  </label>\r\n                  <input\r\n                    type=\"time\"\r\n                    required\r\n                    value={formData.heure}\r\n                    onChange={(e) => setFormData(prev => ({ ...prev, heure: e.target.value }))}\r\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Films sélectionnés */}\r\n            <div>\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Films sélectionnés ({formData.films.length}/5)\r\n              </label>\r\n              \r\n              {selectedFilms.length === 0 ? (\r\n                <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\r\n                  <Film className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n                  <p className=\"mt-2 text-sm text-gray-500\">\r\n                    Aucun film sélectionné\r\n                  </p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-2\">\r\n                  {selectedFilms.map((film, index) => (\r\n                    <div\r\n                      key={film.id}\r\n                      className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\"\r\n                    >\r\n                      <div className=\"flex items-center space-x-3\">\r\n                        <span className=\"flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-xs font-medium\">\r\n                          {index + 1}\r\n                        </span>\r\n                        <div>\r\n                          <p className=\"font-medium text-gray-900\">{film.titre}</p>\r\n                          <p className=\"text-sm text-gray-500\">{film.realisateur}</p>\r\n                        </div>\r\n                      </div>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => removeFilm(film.id)}\r\n                        className=\"p-1 text-gray-400 hover:text-error-600 hover:bg-error-50 rounded transition-colors\"\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Liste des films disponibles */}\r\n          <div className=\"mt-8\">\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\r\n              Films disponibles ({films.length})\r\n            </h3>\r\n            \r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-64 overflow-y-auto\">\r\n              {films.map((film) => {\r\n                const isSelected = formData.films.includes(film.id);\r\n                return (\r\n                  <div\r\n                    key={film.id}\r\n                    className={`p-4 border rounded-lg cursor-pointer transition-colors ${\r\n                      isSelected\r\n                        ? 'border-primary bg-primary-50'\r\n                        : 'border-gray-200 hover:border-primary hover:bg-gray-50'\r\n                    }`}\r\n                    onClick={() => handleFilmToggle(film.id)}\r\n                  >\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <div className={`flex-shrink-0 w-5 h-5 rounded-full border-2 flex items-center justify-center ${\r\n                        isSelected\r\n                          ? 'border-primary bg-primary text-white'\r\n                          : 'border-gray-300'\r\n                      }`}>\r\n                        {isSelected && <Plus className=\"w-3 h-3\" />}\r\n                      </div>\r\n                      <div className=\"flex-1 min-w-0\">\r\n                        <p className={`font-medium truncate ${\r\n                          isSelected ? 'text-primary' : 'text-gray-900'\r\n                        }`}>\r\n                          {film.titre}\r\n                        </p>\r\n                        <p className=\"text-sm text-gray-500 truncate\">\r\n                          {film.realisateur}\r\n                        </p>\r\n                        <p className=\"text-xs text-gray-400\">\r\n                          {film.duree}min • {film.annee}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-end space-x-3 mt-8 pt-6 border-t border-gray-200\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n            >\r\n              Annuler\r\n            </button>\r\n            <button\r\n              type=\"submit\"\r\n              disabled={loading || formData.films.length !== 5}\r\n              className=\"btn-festival disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {loading ? 'Mise à jour...' : 'Mettre à jour'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Copy\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHg9IjgiIHk9IjgiIHJ4PSIyIiByeT0iMiIgLz4KICA8cGF0aCBkPSJNNCAxNmMtMS4xIDAtMi0uOS0yLTJWNGMwLTEuMS45LTIgMi0yaDEwYzEuMSAwIDIgLjkgMiAyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/copy\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Copy = createLucideIcon('Copy', [\n  [\n    'rect',\n    {\n      width: '14',\n      height: '14',\n      x: '8',\n      y: '8',\n      rx: '2',\n      ry: '2',\n      key: '17jyea',\n    },\n  ],\n  [\n    'path',\n    {\n      d: 'M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2',\n      key: 'zix9uf',\n    },\n  ],\n]);\n\nexport default Copy;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Download\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSI3IDEwIDEyIDE1IDE3IDEwIiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMTUiIHkyPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/download\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Download = createLucideIcon('Download', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '7 10 12 15 17 10', key: '2ggqvy' }],\n  ['line', { x1: '12', x2: '12', y1: '15', y2: '3', key: '1vk2je' }],\n]);\n\nexport default Download;\n","import React from 'react';\r\nimport { X, Calendar, Clock, Film, QrCode, Download, Copy } from 'lucide-react';\r\nimport { Seance, Film as FilmType } from '../../types';\r\n\r\ninterface SeanceDetailsModalProps {\r\n  seance: Seance;\r\n  films: FilmType[];\r\n  onClose: () => void;\r\n}\r\n\r\nexport const SeanceDetailsModal: React.FC<SeanceDetailsModalProps> = ({\r\n  seance,\r\n  films,\r\n  onClose,\r\n}) => {\r\n  const handleCopyQRCode = async () => {\r\n    try {\r\n      await navigator.clipboard.writeText(seance.qrCodeUrl);\r\n      // Vous pouvez ajouter un toast de succès ici\r\n    } catch (error) {\r\n      console.error('Erreur lors de la copie:', error);\r\n    }\r\n  };\r\n\r\n  const handleDownloadQRCode = () => {\r\n    const link = document.createElement('a');\r\n    link.href = seance.qrCodeUrl;\r\n    link.download = `qr-code-${seance.nom.replace(/\\s+/g, '-').toLowerCase()}.png`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* En-tête */}\r\n        <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900\">Détails de la séance</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n          >\r\n            <X className=\"w-5 h-5\" />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Contenu */}\r\n        <div className=\"p-6\">\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n            {/* Informations de la séance */}\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h3 className=\"text-xl font-semibold text-gray-900 mb-2\">{seance.nom}</h3>\r\n                {seance.description && (\r\n                  <p className=\"text-gray-600\">{seance.description}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-4\">\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <Calendar className=\"w-5 h-5 text-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">Date</p>\r\n                    <p className=\"text-gray-600\">{seance.date.toLocaleDateString('fr-FR', {\r\n                      weekday: 'long',\r\n                      year: 'numeric',\r\n                      month: 'long',\r\n                      day: 'numeric'\r\n                    })}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <Clock className=\"w-5 h-5 text-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">Heure</p>\r\n                    <p className=\"text-gray-600\">{seance.heure}</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <Film className=\"w-5 h-5 text-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">Nombre de films</p>\r\n                    <p className=\"text-gray-600\">{films.length} films</p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center space-x-3\">\r\n                  <QrCode className=\"w-5 h-5 text-gray-400\" />\r\n                  <div>\r\n                    <p className=\"text-sm font-medium text-gray-900\">Statut</p>\r\n                    <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                      seance.isActive \r\n                        ? 'bg-success-100 text-success-800' \r\n                        : 'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                      {seance.isActive ? 'Active' : 'Inactive'}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Films de la séance */}\r\n              <div>\r\n                <h4 className=\"text-lg font-medium text-gray-900 mb-3\">Films de la séance</h4>\r\n                <div className=\"space-y-3\">\r\n                  {films.map((film, index) => (\r\n                    <div key={film.id} className=\"flex items-start space-x-3 p-3 bg-gray-50 rounded-lg\">\r\n                      <span className=\"flex-shrink-0 w-6 h-6 bg-primary text-white rounded-full flex items-center justify-center text-xs font-medium\">\r\n                        {index + 1}\r\n                      </span>\r\n                      <div className=\"flex-1\">\r\n                        <p className=\"font-medium text-gray-900\">{film.titre}</p>\r\n                        <p className=\"text-sm text-gray-500\">{film.realisateur}</p>\r\n                        <p className=\"text-xs text-gray-400\">\r\n                          {film.pays} • {film.duree}min • {film.annee}\r\n                        </p>\r\n                        {film.synopsis && (\r\n                          <p className=\"text-sm text-gray-600 mt-1 line-clamp-2\">\r\n                            {film.synopsis}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* QR Code */}\r\n            <div className=\"space-y-6\">\r\n              <div>\r\n                <h4 className=\"text-lg font-medium text-gray-900 mb-3\">QR Code de la séance</h4>\r\n                <div className=\"bg-gray-50 rounded-lg p-6 text-center\">\r\n                  <img\r\n                    src={seance.qrCodeUrl}\r\n                    alt=\"QR Code de la séance\"\r\n                    className=\"mx-auto w-48 h-48 object-contain\"\r\n                  />\r\n                  <p className=\"text-sm text-gray-600 mt-3\">\r\n                    Scannez ce QR code pour accéder au vote de cette séance\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Actions QR Code */}\r\n              <div className=\"space-y-3\">\r\n                <button\r\n                  onClick={handleCopyQRCode}\r\n                  className=\"w-full flex items-center justify-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  <Copy className=\"w-4 h-4\" />\r\n                  <span>Copier l'URL du QR code</span>\r\n                </button>\r\n                \r\n                <button\r\n                  onClick={handleDownloadQRCode}\r\n                  className=\"w-full flex items-center justify-center space-x-2 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\r\n                >\r\n                  <Download className=\"w-4 h-4\" />\r\n                  <span>Télécharger le QR code</span>\r\n                </button>\r\n              </div>\r\n\r\n              {/* URL de la séance */}\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-900 mb-2\">URL de la séance</h4>\r\n                <div className=\"bg-gray-50 rounded-lg p-3\">\r\n                  <p className=\"text-sm text-gray-600 break-all\">\r\n                    {window.location.origin}/seance/{seance.id}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Informations techniques */}\r\n              <div>\r\n                <h4 className=\"text-sm font-medium text-gray-900 mb-2\">Informations techniques</h4>\r\n                <div className=\"bg-gray-50 rounded-lg p-3 space-y-2 text-sm text-gray-600\">\r\n                  <div className=\"flex justify-between\">\r\n                    <span>ID de la séance:</span>\r\n                    <span className=\"font-mono\">{seance.id}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Créée le:</span>\r\n                    <span>{seance.createdAt.toLocaleDateString('fr-FR')}</span>\r\n                  </div>\r\n                  <div className=\"flex justify-between\">\r\n                    <span>Modifiée le:</span>\r\n                    <span>{seance.updatedAt.toLocaleDateString('fr-FR')}</span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Actions */}\r\n          <div className=\"flex items-center justify-end space-x-3 mt-8 pt-6 border-t border-gray-200\">\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors\"\r\n            >\r\n              Fermer\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport { Plus, Edit, Trash2, Eye, QrCode, Calendar, Clock, Film } from 'lucide-react';\r\nimport { Seance, Film as FilmType } from '../types';\r\nimport { getAllSeances, deleteSeance, toggleSeanceActive } from '../services/seanceService';\r\nimport { getAllFilms } from '../services/filmService';\r\nimport { CreateSeanceModal } from '../components/admin/CreateSeanceModal';\r\nimport { EditSeanceModal } from '../components/admin/EditSeanceModal';\r\nimport { SeanceDetailsModal } from '../components/admin/SeanceDetailsModal';\r\nimport toast from 'react-hot-toast';\r\n\r\nexport const AdminSeancesPage: React.FC = () => {\r\n  const [seances, setSeances] = useState<Seance[]>([]);\r\n  const [films, setFilms] = useState<FilmType[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showCreateModal, setShowCreateModal] = useState(false);\r\n  const [showEditModal, setShowEditModal] = useState(false);\r\n  const [showDetailsModal, setShowDetailsModal] = useState(false);\r\n  const [selectedSeance, setSelectedSeance] = useState<Seance | null>(null);\r\n\r\n  // Charger les données\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    try {\r\n      setLoading(true);\r\n      const [seancesData, filmsData] = await Promise.all([\r\n        getAllSeances(),\r\n        getAllFilms(),\r\n      ]);\r\n      setSeances(seancesData);\r\n      setFilms(filmsData);\r\n    } catch (error) {\r\n      toast.error('Erreur lors du chargement des données');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Filtrer les séances\r\n  const filteredSeances = seances.filter(seance =>\r\n    seance.nom.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n    (seance.description && seance.description.toLowerCase().includes(searchTerm.toLowerCase()))\r\n  );\r\n\r\n  // Supprimer une séance\r\n  const handleDeleteSeance = async (seanceId: string) => {\r\n    if (!window.confirm('Êtes-vous sûr de vouloir supprimer cette séance ?')) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await deleteSeance(seanceId);\r\n      setSeances(prev => prev.filter(s => s.id !== seanceId));\r\n      toast.success('Séance supprimée avec succès');\r\n    } catch (error) {\r\n      toast.error('Erreur lors de la suppression');\r\n    }\r\n  };\r\n\r\n  // Activer/désactiver une séance\r\n  const handleToggleActive = async (seanceId: string, isActive: boolean) => {\r\n    try {\r\n      await toggleSeanceActive(seanceId, !isActive);\r\n      setSeances(prev => prev.map(s => \r\n        s.id === seanceId ? { ...s, isActive: !isActive } : s\r\n      ));\r\n      toast.success(`Séance ${!isActive ? 'activée' : 'désactivée'} avec succès`);\r\n    } catch (error) {\r\n      toast.error('Erreur lors de la modification du statut');\r\n    }\r\n  };\r\n\r\n  // Ouvrir le modal d'édition\r\n  const handleEditSeance = (seance: Seance) => {\r\n    setSelectedSeance(seance);\r\n    setShowEditModal(true);\r\n  };\r\n\r\n  // Ouvrir le modal de détails\r\n  const handleViewDetails = (seance: Seance) => {\r\n    setSelectedSeance(seance);\r\n    setShowDetailsModal(true);\r\n  };\r\n\r\n  // Récupérer les films d'une séance\r\n  const getSeanceFilms = (seance: Seance) => {\r\n    return films.filter(film => seance.films.includes(film.id));\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Chargement des séances...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      {/* En-tête */}\r\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\r\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n          <div className=\"py-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h1 className=\"text-3xl font-bold text-gray-900\">Gestion des Séances</h1>\r\n                <p className=\"mt-1 text-gray-600\">\r\n                  Créez et gérez les séances de films du festival\r\n                </p>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowCreateModal(true)}\r\n                className=\"btn-festival flex items-center space-x-2\"\r\n              >\r\n                <Plus className=\"w-5 h-5\" />\r\n                <span>Nouvelle Séance</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Contenu principal */}\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\r\n        {/* Barre de recherche */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"relative\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Rechercher une séance...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent\"\r\n            />\r\n            <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n              <svg className=\"h-5 w-5 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Statistiques */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-2 bg-primary-100 rounded-lg\">\r\n                <Calendar className=\"w-6 h-6 text-primary\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Total Séances</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{seances.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-2 bg-success-100 rounded-lg\">\r\n                <Eye className=\"w-6 h-6 text-success\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Séances Actives</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {seances.filter(s => s.isActive).length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-2 bg-warning-100 rounded-lg\">\r\n                <Clock className=\"w-6 h-6 text-warning\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Séances Inactives</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">\r\n                  {seances.filter(s => !s.isActive).length}\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n            <div className=\"flex items-center\">\r\n              <div className=\"p-2 bg-secondary-100 rounded-lg\">\r\n                <Film className=\"w-6 h-6 text-secondary\" />\r\n              </div>\r\n              <div className=\"ml-4\">\r\n                <p className=\"text-sm font-medium text-gray-600\">Total Films</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{films.length}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Liste des séances */}\r\n        <div className=\"bg-white rounded-lg shadow-sm\">\r\n          <div className=\"px-6 py-4 border-b border-gray-200\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900\">Séances ({filteredSeances.length})</h2>\r\n          </div>\r\n          \r\n          {filteredSeances.length === 0 ? (\r\n            <div className=\"px-6 py-12 text-center\">\r\n              <Film className=\"mx-auto h-12 w-12 text-gray-400\" />\r\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Aucune séance</h3>\r\n              <p className=\"mt-1 text-sm text-gray-500\">\r\n                {searchTerm ? 'Aucune séance ne correspond à votre recherche.' : 'Commencez par créer une séance.'}\r\n              </p>\r\n              {!searchTerm && (\r\n                <div className=\"mt-6\">\r\n                  <button\r\n                    onClick={() => setShowCreateModal(true)}\r\n                    className=\"btn-festival\"\r\n                  >\r\n                    Créer une séance\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"divide-y divide-gray-200\">\r\n              {filteredSeances.map((seance) => {\r\n                const seanceFilms = getSeanceFilms(seance);\r\n                return (\r\n                  <div key={seance.id} className=\"px-6 py-4 hover:bg-gray-50\">\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"flex items-center space-x-3\">\r\n                          <h3 className=\"text-lg font-medium text-gray-900\">{seance.nom}</h3>\r\n                          <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                            seance.isActive \r\n                              ? 'bg-success-100 text-success-800' \r\n                              : 'bg-gray-100 text-gray-800'\r\n                          }`}>\r\n                            {seance.isActive ? 'Active' : 'Inactive'}\r\n                          </span>\r\n                        </div>\r\n                        \r\n                        {seance.description && (\r\n                          <p className=\"mt-1 text-sm text-gray-600\">{seance.description}</p>\r\n                        )}\r\n                        \r\n                        <div className=\"mt-2 flex items-center space-x-4 text-sm text-gray-500\">\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Calendar className=\"w-4 h-4\" />\r\n                            <span>{seance.date.toLocaleDateString('fr-FR')}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Clock className=\"w-4 h-4\" />\r\n                            <span>{seance.heure}</span>\r\n                          </div>\r\n                          <div className=\"flex items-center space-x-1\">\r\n                            <Film className=\"w-4 h-4\" />\r\n                            <span>{seanceFilms.length} films</span>\r\n                          </div>\r\n                        </div>\r\n                        \r\n                        {/* Films de la séance */}\r\n                        <div className=\"mt-3\">\r\n                          <div className=\"flex flex-wrap gap-2\">\r\n                            {seanceFilms.map((film) => (\r\n                              <span\r\n                                key={film.id}\r\n                                className=\"inline-flex items-center px-2 py-1 rounded-md text-xs font-medium bg-gray-100 text-gray-800\"\r\n                              >\r\n                                {film.titre}\r\n                              </span>\r\n                            ))}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                      \r\n                      <div className=\"flex items-center space-x-2 ml-4\">\r\n                        <button\r\n                          onClick={() => handleViewDetails(seance)}\r\n                          className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors\"\r\n                          title=\"Voir les détails\"\r\n                        >\r\n                          <Eye className=\"w-4 h-4\" />\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleEditSeance(seance)}\r\n                          className=\"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n                          title=\"Modifier\"\r\n                        >\r\n                          <Edit className=\"w-4 h-4\" />\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleToggleActive(seance.id, seance.isActive)}\r\n                          className={`p-2 rounded-lg transition-colors ${\r\n                            seance.isActive\r\n                              ? 'text-warning-400 hover:text-warning-600 hover:bg-warning-50'\r\n                              : 'text-success-400 hover:text-success-600 hover:bg-success-50'\r\n                          }`}\r\n                          title={seance.isActive ? 'Désactiver' : 'Activer'}\r\n                        >\r\n                          <QrCode className=\"w-4 h-4\" />\r\n                        </button>\r\n                        \r\n                        <button\r\n                          onClick={() => handleDeleteSeance(seance.id)}\r\n                          className=\"p-2 text-gray-400 hover:text-error-600 hover:bg-error-50 rounded-lg transition-colors\"\r\n                          title=\"Supprimer\"\r\n                        >\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      {showCreateModal && (\r\n        <CreateSeanceModal\r\n          films={films}\r\n          onClose={() => setShowCreateModal(false)}\r\n          onSuccess={(newSeance) => {\r\n            setSeances(prev => [newSeance, ...prev]);\r\n            setShowCreateModal(false);\r\n            toast.success('Séance créée avec succès');\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showEditModal && selectedSeance && (\r\n        <EditSeanceModal\r\n          seance={selectedSeance}\r\n          films={films}\r\n          onClose={() => {\r\n            setShowEditModal(false);\r\n            setSelectedSeance(null);\r\n          }}\r\n          onSuccess={(updatedSeance) => {\r\n            setSeances(prev => prev.map(s => s.id === updatedSeance.id ? updatedSeance : s));\r\n            setShowEditModal(false);\r\n            setSelectedSeance(null);\r\n            toast.success('Séance mise à jour avec succès');\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {showDetailsModal && selectedSeance && (\r\n        <SeanceDetailsModal\r\n          seance={selectedSeance}\r\n          films={getSeanceFilms(selectedSeance)}\r\n          onClose={() => {\r\n            setShowDetailsModal(false);\r\n            setSelectedSeance(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}; ","import { VALIDATION_RULES } from './constants';\r\n\r\n/**\r\n * Génère un ID unique\r\n */\r\nexport const generateId = (): string => {\r\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\r\n};\r\n\r\n/**\r\n * Génère un ID de session unique pour les votes anonymes\r\n */\r\nexport const generateSessionId = (): string => {\r\n  const timestamp = Date.now();\r\n  const random = Math.random().toString(36).substring(2);\r\n  return `${timestamp}-${random}`;\r\n};\r\n\r\n/**\r\n * Valide une adresse email\r\n */\r\nexport const isValidEmail = (email: string): boolean => {\r\n  return VALIDATION_RULES.EMAIL.test(email);\r\n};\r\n\r\n/**\r\n * Valide un mot de passe\r\n */\r\nexport const isValidPassword = (password: string): boolean => {\r\n  return password.length >= VALIDATION_RULES.PASSWORD_MIN_LENGTH;\r\n};\r\n\r\n/**\r\n * Valide un fichier image\r\n */\r\nexport const isValidImageFile = (file: File): boolean => {\r\n  return (\r\n    VALIDATION_RULES.ALLOWED_IMAGE_TYPES.indexOf(file.type) !== -1 &&\r\n    file.size <= VALIDATION_RULES.MAX_FILE_SIZE\r\n  );\r\n};\r\n\r\n/**\r\n * Redimensionne une image\r\n */\r\nexport const resizeImage = (\r\n  file: File,\r\n  maxWidth: number = 800,\r\n  maxHeight: number = 600,\r\n  quality: number = 0.8\r\n): Promise<Blob> => {\r\n  return new Promise((resolve, reject) => {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      // Calculer les nouvelles dimensions\r\n      let { width, height } = img;\r\n      \r\n      if (width > maxWidth) {\r\n        height = (height * maxWidth) / width;\r\n        width = maxWidth;\r\n      }\r\n      \r\n      if (height > maxHeight) {\r\n        width = (width * maxHeight) / height;\r\n        height = maxHeight;\r\n      }\r\n\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n\r\n      if (ctx) {\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n        canvas.toBlob(\r\n          (blob) => {\r\n            if (blob) {\r\n              resolve(blob);\r\n            } else {\r\n              reject(new Error('Erreur lors du redimensionnement'));\r\n            }\r\n          },\r\n          'image/jpeg',\r\n          quality\r\n        );\r\n      } else {\r\n        reject(new Error('Impossible de créer le contexte canvas'));\r\n      }\r\n    };\r\n\r\n    img.onerror = () => reject(new Error('Erreur lors du chargement de l\\'image'));\r\n    img.src = URL.createObjectURL(file);\r\n  });\r\n};\r\n\r\n/**\r\n * Formate une date\r\n */\r\nexport const formatDate = (date: Date): string => {\r\n  return new Intl.DateTimeFormat('fr-FR', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  }).format(date);\r\n};\r\n\r\n/**\r\n * Formate une note avec étoiles\r\n */\r\nexport const formatRating = (rating: number): string => {\r\n  return `${rating}/5`;\r\n};\r\n\r\n/**\r\n * Calcule la moyenne des notes\r\n */\r\nexport const calculateAverageRating = (ratings: number[]): number => {\r\n  if (ratings.length === 0) return 0;\r\n  const sum = ratings.reduce((acc, rating) => acc + rating, 0);\r\n  return Math.round((sum / ratings.length) * 10) / 10;\r\n};\r\n\r\n/**\r\n * Génère une distribution des notes\r\n */\r\nexport const generateRatingDistribution = (ratings: number[]): Record<number, number> => {\r\n  const distribution: Record<number, number> = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };\r\n  \r\n  ratings.forEach(rating => {\r\n    if (rating >= 1 && rating <= 5) {\r\n      distribution[rating]++;\r\n    }\r\n  });\r\n  \r\n  return distribution;\r\n};\r\n\r\n/**\r\n * Retourne l'User Agent du navigateur\r\n */\r\nexport const getUserAgent = (): string => {\r\n  return navigator.userAgent;\r\n};\r\n\r\n/**\r\n * Retourne l'adresse IP (approximative via service externe)\r\n */\r\nexport const getIpAddress = async (): Promise<string | null> => {\r\n  try {\r\n    const response = await fetch('https://api.ipify.org?format=json');\r\n    const data = await response.json();\r\n    return data.ip;\r\n  } catch (error) {\r\n    console.warn('Impossible de récupérer l\\'IP:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Stocke une valeur dans le localStorage\r\n */\r\nexport const setLocalStorage = (key: string, value: any): void => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (error) {\r\n    console.warn('Erreur lors du stockage local:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Récupère une valeur du localStorage\r\n */\r\nexport const getLocalStorage = <T>(key: string, defaultValue: T): T => {\r\n  try {\r\n    const item = localStorage.getItem(key);\r\n    return item ? JSON.parse(item) : defaultValue;\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la récupération locale:', error);\r\n    return defaultValue;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprime une valeur du localStorage\r\n */\r\nexport const removeLocalStorage = (key: string): void => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la suppression locale:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Débounce une fonction\r\n */\r\nexport const debounce = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeout: number;\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = window.setTimeout(() => func(...args), wait);\r\n  };\r\n};\r\n\r\n/**\r\n * Retry une fonction avec délai\r\n */\r\nexport const retry = async <T>(\r\n  fn: () => Promise<T>,\r\n  maxRetries: number = 3,\r\n  delay: number = 1000\r\n): Promise<T> => {\r\n  let lastError: Error = new Error('Une erreur est survenue');\r\n  \r\n  for (let i = 0; i < maxRetries; i++) {\r\n    try {\r\n      return await fn();\r\n    } catch (error) {\r\n      lastError = error as Error;\r\n      if (i < maxRetries - 1) {\r\n        await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));\r\n      }\r\n    }\r\n  }\r\n  \r\n  throw new Error(lastError.message || 'Une erreur est survenue');\r\n};\r\n\r\n/**\r\n * Combine les classes CSS\r\n */\r\nexport const cn = (...classes: (string | undefined | null | false)[]): string => {\r\n  return classes.filter(Boolean).join(' ');\r\n}; ","import { db, storage } from './firebase';\r\nimport { \r\n  collection, \r\n  doc, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  getDocs, \r\n  getDoc, \r\n  query, \r\n  where, \r\n  orderBy,\r\n  Timestamp,\r\n  writeBatch\r\n} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport { Seance, CreateSeanceData, Film } from '../types';\r\nimport { generateId } from '../utils/helpers';\r\n\r\nconst SEANCES_COLLECTION = 'seances';\r\nconst FILMS_COLLECTION = 'films';\r\n\r\n/**\r\n * Créer une nouvelle séance avec génération automatique du QR code\r\n */\r\nexport const createSeance = async (data: CreateSeanceData): Promise<Seance> => {\r\n  try {\r\n    // Vérifier qu'il y a exactement 5 films\r\n    if (data.films.length !== 5) {\r\n      throw new Error('Une séance doit contenir exactement 5 films');\r\n    }\r\n\r\n    // Vérifier que tous les films existent\r\n    const filmsPromises = data.films.map(filmId => \r\n      getDoc(doc(db, FILMS_COLLECTION, filmId))\r\n    );\r\n    const filmsSnapshots = await Promise.all(filmsPromises);\r\n    \r\n    const nonExistentFilms = filmsSnapshots\r\n      .map((snapshot, index) => ({ snapshot, filmId: data.films[index] }))\r\n      .filter(({ snapshot }) => !snapshot.exists());\r\n    \r\n    if (nonExistentFilms.length > 0) {\r\n      throw new Error(`Films non trouvés: ${nonExistentFilms.map(f => f.filmId).join(', ')}`);\r\n    }\r\n\r\n    // Générer l'URL du QR code\r\n    const seanceId = generateId();\r\n    const qrCodeUrl = generateQRCodeUrl(seanceId);\r\n\r\n    const seanceData: Omit<Seance, 'id'> = {\r\n      nom: data.nom,\r\n      description: data.description,\r\n      date: data.date,\r\n      heure: data.heure,\r\n      films: data.films,\r\n      qrCodeUrl,\r\n      isActive: true,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    const docRef = await addDoc(collection(db, SEANCES_COLLECTION), seanceData);\r\n    \r\n    return {\r\n      id: docRef.id,\r\n      ...seanceData,\r\n    };\r\n  } catch (error) {\r\n    console.error('Erreur lors de la création de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer toutes les séances\r\n */\r\nexport const getAllSeances = async (): Promise<Seance[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, SEANCES_COLLECTION),\r\n      orderBy('date', 'desc')\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const seances: Seance[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      seances.push({\r\n        id: doc.id,\r\n        nom: data.nom,\r\n        description: data.description,\r\n        date: data.date.toDate(),\r\n        heure: data.heure,\r\n        films: data.films,\r\n        qrCodeUrl: data.qrCodeUrl,\r\n        isActive: data.isActive,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return seances;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des séances:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer une séance par son ID\r\n */\r\nexport const getSeanceById = async (seanceId: string): Promise<Seance | null> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    const docSnap = await getDoc(docRef);\r\n    \r\n    if (docSnap.exists()) {\r\n      const data = docSnap.data();\r\n      return {\r\n        id: docSnap.id,\r\n        nom: data.nom,\r\n        description: data.description,\r\n        date: data.date.toDate(),\r\n        heure: data.heure,\r\n        films: data.films,\r\n        qrCodeUrl: data.qrCodeUrl,\r\n        isActive: data.isActive,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      };\r\n    }\r\n    \r\n    return null;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer une séance avec ses films\r\n */\r\nexport const getSeanceWithFilms = async (seanceId: string): Promise<{ seance: Seance; films: Film[] } | null> => {\r\n  try {\r\n    const seance = await getSeanceById(seanceId);\r\n    if (!seance) return null;\r\n\r\n    // Récupérer tous les films de la séance\r\n    const filmsPromises = seance.films.map(filmId => \r\n      getDoc(doc(db, FILMS_COLLECTION, filmId))\r\n    );\r\n    const filmsSnapshots = await Promise.all(filmsPromises);\r\n    \r\n    const films: Film[] = [];\r\n    \r\n    for (const snapshot of filmsSnapshots) {\r\n      if (snapshot.exists()) {\r\n        const data = snapshot.data();\r\n        if (data) {\r\n          films.push({\r\n            id: snapshot.id,\r\n            titre: data.titre,\r\n            realisateur: data.realisateur,\r\n            pays: data.pays,\r\n            duree: data.duree,\r\n            annee: data.annee,\r\n            synopsis: data.synopsis,\r\n            posterUrl: data.posterUrl,\r\n            genre: data.genre,\r\n            createdAt: data.createdAt.toDate(),\r\n            updatedAt: data.updatedAt.toDate(),\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return { seance, films };\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération de la séance avec films:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Mettre à jour une séance\r\n */\r\nexport const updateSeance = async (seanceId: string, data: Partial<CreateSeanceData>): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    \r\n    const updateData: any = {\r\n      ...data,\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    // Si les films changent, vérifier qu'il y en a 5\r\n    if (data.films && data.films.length !== 5) {\r\n      throw new Error('Une séance doit contenir exactement 5 films');\r\n    }\r\n\r\n    await updateDoc(docRef, updateData);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la mise à jour de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprimer une séance\r\n */\r\nexport const deleteSeance = async (seanceId: string): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    await deleteDoc(docRef);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la suppression de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Activer/désactiver une séance\r\n */\r\nexport const toggleSeanceActive = async (seanceId: string, isActive: boolean): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    await updateDoc(docRef, {\r\n      isActive,\r\n      updatedAt: new Date(),\r\n    });\r\n  } catch (error) {\r\n    console.error('Erreur lors de la modification du statut de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les séances actives\r\n */\r\nexport const getActiveSeances = async (): Promise<Seance[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, SEANCES_COLLECTION),\r\n      where('isActive', '==', true),\r\n      orderBy('date', 'desc')\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const seances: Seance[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      seances.push({\r\n        id: doc.id,\r\n        nom: data.nom,\r\n        description: data.description,\r\n        date: data.date.toDate(),\r\n        heure: data.heure,\r\n        films: data.films,\r\n        qrCodeUrl: data.qrCodeUrl,\r\n        isActive: data.isActive,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return seances;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des séances actives:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Générer l'URL du QR code pour une séance\r\n */\r\nexport const generateQRCodeUrl = (seanceId: string): string => {\r\n  const baseUrl = window.location.origin;\r\n  const seanceUrl = `${baseUrl}/seance/${seanceId}`;\r\n  \r\n  // Utiliser un service de génération de QR code\r\n  const qrServiceUrl = 'https://api.qrserver.com/v1/create-qr-code/';\r\n  const params = new URLSearchParams({\r\n    size: '300x300',\r\n    data: seanceUrl,\r\n    format: 'png',\r\n  });\r\n  \r\n  return `${qrServiceUrl}?${params.toString()}`;\r\n};\r\n\r\n/**\r\n * Récupérer les statistiques des séances\r\n */\r\nexport const getSeancesStats = async (): Promise<{\r\n  total: number;\r\n  actives: number;\r\n  inactives: number;\r\n  cetteSemaine: number;\r\n}> => {\r\n  try {\r\n    const seances = await getAllSeances();\r\n    const maintenant = new Date();\r\n    const uneSemaine = new Date(maintenant.getTime() + 7 * 24 * 60 * 60 * 1000);\r\n    \r\n    const stats = {\r\n      total: seances.length,\r\n      actives: seances.filter(s => s.isActive).length,\r\n      inactives: seances.filter(s => !s.isActive).length,\r\n      cetteSemaine: seances.filter(s => s.date >= maintenant && s.date <= uneSemaine).length,\r\n    };\r\n    \r\n    return stats;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des statistiques:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Rechercher des séances par nom\r\n */\r\nexport const searchSeances = async (searchTerm: string): Promise<Seance[]> => {\r\n  try {\r\n    const seances = await getAllSeances();\r\n    const term = searchTerm.toLowerCase();\r\n    \r\n    return seances.filter(seance => \r\n      seance.nom.toLowerCase().includes(term) ||\r\n      (seance.description && seance.description.toLowerCase().includes(term))\r\n    );\r\n  } catch (error) {\r\n    console.error('Erreur lors de la recherche de séances:', error);\r\n    throw error;\r\n  }\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Eye\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMiAxMnMzLTcgMTAtNyAxMCA3IDEwIDctMyA3LTEwIDctMTAtNy0xMC03WiIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/eye\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Eye = createLucideIcon('Eye', [\n  [\n    'path',\n    { d: 'M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z', key: 'rwhkz3' },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Eye;\n"],"names":["FILMS_COLLECTION","getAllFilms","async","q","query","collection","db","orderBy","querySnapshot","getDocs","films","forEach","doc","data","push","id","titre","realisateur","pays","duree","annee","synopsis","posterUrl","genre","createdAt","toDate","updatedAt","error","console","Clock","createLucideIcon","cx","cy","r","key","points","Plus","d","PenSquare","Trash2","x1","x2","y1","y2","X","CreateSeanceModal","_ref","onClose","onSuccess","formData","setFormData","useState","nom","description","date","Date","heure","loading","setLoading","selectedFilms","filter","film","includes","_jsx","className","children","_jsxs","onClick","onSubmit","e","preventDefault","length","newSeance","createSeance","toast","message","type","required","value","onChange","prev","target","placeholder","rows","toISOString","split","Film","map","index","removeFilm","filmId","isSelected","handleFilmToggle","disabled","EditSeanceModal","seance","updateSeance","updatedSeance","Copy","width","height","x","y","rx","ry","Download","SeanceDetailsModal","Calendar","toLocaleDateString","weekday","year","month","day","QrCode","isActive","src","qrCodeUrl","alt","navigator","clipboard","writeText","handleDownloadQRCode","link","document","createElement","href","download","replace","toLowerCase","body","appendChild","click","removeChild","window","location","origin","AdminSeancesPage","seances","setSeances","setFilms","searchTerm","setSearchTerm","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","showDetailsModal","setShowDetailsModal","selectedSeance","setSelectedSeance","useEffect","loadData","seancesData","filmsData","Promise","all","getAllSeances","filteredSeances","getSeanceFilms","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","Eye","s","seanceFilms","handleViewDetails","title","handleEditSeance","Edit","seanceId","toggleSeanceActive","success","handleToggleActive","confirm","deleteSeance","handleDeleteSeance","generateId","now","toString","Math","random","substring","generateSessionId","getUserAgent","userAgent","getIpAddress","response","fetch","json","ip","warn","setLocalStorage","localStorage","setItem","JSON","stringify","getLocalStorage","defaultValue","item","getItem","parse","cn","_len2","arguments","classes","Array","_key2","Boolean","join","SEANCES_COLLECTION","Error","filmsPromises","getDoc","nonExistentFilms","snapshot","exists","f","generateQRCodeUrl","seanceData","addDoc","getSeanceWithFilms","docRef","docSnap","getSeanceById","filmsSnapshots","updateData","updateDoc","deleteDoc","baseUrl","URLSearchParams","size","format"],"sourceRoot":""}