/*! For license information please see 308.9907f90a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkprix_du_public=self.webpackChunkprix_du_public||[]).push([[308],{516:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},2308:(e,s,t)=>{t.r(s),t.d(s,{AdminDatabasePage:()=>u});var a=t(5043),r=t(5475),l=t(5469),d=t(3005),i=t(7104),n=t(516),c=t(2489);const x=(0,t(1639).A)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var m=t(9855),o=t(3560),h=t(579);const u=()=>{const[e,s]=(0,a.useState)(!1),[t,u]=(0,a.useState)(!1),{showSuccess:g,showError:p}=(0,o.E)();return(0,h.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,h.jsx)("div",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,h.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,h.jsx)("div",{className:"py-6",children:(0,h.jsx)("div",{className:"flex items-center justify-between",children:(0,h.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,h.jsxs)(r.N_,{to:"/admin",className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,h.jsx)(l.A,{className:"w-4 h-4 mr-2"}),"Retour"]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Base de Donn\xe9es"}),(0,h.jsx)("p",{className:"mt-1 text-gray-600",children:"Sauvegardes et maintenance de la base de donn\xe9es"})]})]})})})})}),(0,h.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,h.jsx)(d.A,{className:"w-6 h-6 text-blue-600"})}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Taille de la DB"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"2.4 MB"})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,h.jsx)(i.A,{className:"w-6 h-6 text-green-600"})}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Sauvegardes"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"5"})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,h.jsx)(n.A,{className:"w-6 h-6 text-yellow-600"})}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Derni\xe8re sauvegarde"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Aujourd'hui"})]})]})}),(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)("div",{className:"p-2 bg-red-100 rounded-lg",children:(0,h.jsx)(c.A,{className:"w-6 h-6 text-red-600"})}),(0,h.jsxs)("div",{className:"ml-4",children:[(0,h.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Statut"}),(0,h.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:"Sain"})]})]})})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,h.jsxs)("div",{className:"flex items-center mb-4",children:[(0,h.jsx)(i.A,{className:"w-6 h-6 text-blue-600 mr-3"}),(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Sauvegarde"})]}),(0,h.jsx)("p",{className:"text-gray-600 mb-4",children:"Cr\xe9ez une sauvegarde compl\xe8te de la base de donn\xe9es. Cette sauvegarde inclut tous les films, s\xe9ances, votes et utilisateurs."}),(0,h.jsx)("button",{onClick:async()=>{s(!0);try{await new Promise(e=>setTimeout(e,2e3)),g("Sauvegarde cr\xe9\xe9e","La sauvegarde de la base de donn\xe9es a \xe9t\xe9 cr\xe9\xe9e avec succ\xe8s")}catch(e){p("Erreur de sauvegarde","Impossible de cr\xe9er la sauvegarde")}finally{s(!1)}},disabled:e,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:e?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Sauvegarde en cours..."]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.A,{className:"w-4 h-4 mr-2"}),"Cr\xe9er une sauvegarde"]})})]}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:[(0,h.jsxs)("div",{className:"flex items-center mb-4",children:[(0,h.jsx)(x,{className:"w-6 h-6 text-green-600 mr-3"}),(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Restauration"})]}),(0,h.jsx)("p",{className:"text-gray-600 mb-4",children:"Restaurez la base de donn\xe9es \xe0 partir d'une sauvegarde pr\xe9c\xe9dente. Attention : cette action \xe9crasera toutes les donn\xe9es actuelles."}),(0,h.jsx)("button",{onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir restaurer la base de donn\xe9es ? Cette action \xe9crasera toutes les donn\xe9es actuelles.")){u(!0);try{await new Promise(e=>setTimeout(e,3e3)),g("Base restaur\xe9e","La base de donn\xe9es a \xe9t\xe9 restaur\xe9e avec succ\xe8s")}catch(e){p("Erreur de restauration","Impossible de restaurer la base de donn\xe9es")}finally{u(!1)}}},disabled:t,className:"w-full inline-flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:t?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.A,{className:"w-4 h-4 mr-2 animate-spin"}),"Restauration en cours..."]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(x,{className:"w-4 h-4 mr-2"}),"Restaurer la base"]})})]})]}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-8",children:[(0,h.jsxs)("div",{className:"flex items-center mb-4",children:[(0,h.jsx)(n.A,{className:"w-6 h-6 text-yellow-600 mr-3"}),(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Maintenance"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Nettoyage"}),(0,h.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Supprime les donn\xe9es obsol\xe8tes et optimise les performances."}),(0,h.jsxs)("button",{onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir nettoyer la base de donn\xe9es ? Cette action supprimera les donn\xe9es obsol\xe8tes."))try{await new Promise(e=>setTimeout(e,1500)),g("Nettoyage termin\xe9","La base de donn\xe9es a \xe9t\xe9 nettoy\xe9e avec succ\xe8s")}catch(e){p("Erreur de nettoyage","Impossible de nettoyer la base de donn\xe9es")}},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,h.jsx)(m.A,{className:"w-4 h-4 mr-2"}),"Nettoyer"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"V\xe9rification"}),(0,h.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"V\xe9rifie l'int\xe9grit\xe9 de la base de donn\xe9es."}),(0,h.jsxs)("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,h.jsx)(c.A,{className:"w-4 h-4 mr-2"}),"V\xe9rifier"]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Optimisation"}),(0,h.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Optimise les index et am\xe9liore les performances."}),(0,h.jsxs)("button",{className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,h.jsx)(n.A,{className:"w-4 h-4 mr-2"}),"Optimiser"]})]})]})]}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-sm",children:[(0,h.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,h.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Historique des sauvegardes"})}),(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,h.jsx)("thead",{className:"bg-gray-50",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Taille"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,h.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),(0,h.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,h.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"20/01/2024 14:30"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"2.4 MB"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Compl\xe8te"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"R\xe9ussie"})}),(0,h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,h.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"T\xe9l\xe9charger"}),(0,h.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"Supprimer"})]})]}),(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"19/01/2024 14:30"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"2.1 MB"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"Compl\xe8te"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"R\xe9ussie"})}),(0,h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[(0,h.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:"T\xe9l\xe9charger"}),(0,h.jsx)("button",{className:"text-red-600 hover:text-red-900",children:"Supprimer"})]})]})]})]})})]})]})]})}},2489:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]])},3005:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},5469:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},7104:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},9855:(e,s,t)=>{t.d(s,{A:()=>a});const a=(0,t(1639).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=308.9907f90a.chunk.js.map