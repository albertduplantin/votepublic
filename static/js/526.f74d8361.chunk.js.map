{"version":3,"file":"static/js/526.f74d8361.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/send.ts","services/seanceService.ts","components/ui/Button.tsx","components/ui/Card.tsx","pages/SeanceVotePage.tsx","../node_modules/lucide-react/src/icons/clock.ts","services/voteService.ts","utils/helpers.ts","../node_modules/lucide-react/src/icons/arrow-left.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Send\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMjIgMi03IDIwLTQtOS05LTRaIiAvPgogIDxwYXRoIGQ9Ik0yMiAyIDExIDEzIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/send\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Send = createLucideIcon('Send', [\n  ['path', { d: 'm22 2-7 20-4-9-9-4Z', key: '1q3vgg' }],\n  ['path', { d: 'M22 2 11 13', key: 'nzbqef' }],\n]);\n\nexport default Send;\n","import { db, storage } from './firebase';\r\nimport { \r\n  collection, \r\n  doc, \r\n  addDoc, \r\n  updateDoc, \r\n  deleteDoc, \r\n  getDocs, \r\n  getDoc, \r\n  query, \r\n  where, \r\n  orderBy,\r\n  Timestamp,\r\n  writeBatch\r\n} from 'firebase/firestore';\r\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\r\nimport { Seance, CreateSeanceData, Film } from '../types';\r\nimport { generateId } from '../utils/helpers';\r\n\r\nconst SEANCES_COLLECTION = 'seances';\r\nconst FILMS_COLLECTION = 'films';\r\n\r\n/**\r\n * Créer une nouvelle séance avec génération automatique du QR code\r\n */\r\nexport const createSeance = async (data: CreateSeanceData): Promise<Seance> => {\r\n  try {\r\n    // Vérifier qu'il y a exactement 5 films\r\n    if (data.films.length !== 5) {\r\n      throw new Error('Une séance doit contenir exactement 5 films');\r\n    }\r\n\r\n    // Vérifier que tous les films existent\r\n    const filmsPromises = data.films.map(filmId => \r\n      getDoc(doc(db, FILMS_COLLECTION, filmId))\r\n    );\r\n    const filmsSnapshots = await Promise.all(filmsPromises);\r\n    \r\n    const nonExistentFilms = filmsSnapshots\r\n      .map((snapshot, index) => ({ snapshot, filmId: data.films[index] }))\r\n      .filter(({ snapshot }) => !snapshot.exists());\r\n    \r\n    if (nonExistentFilms.length > 0) {\r\n      throw new Error(`Films non trouvés: ${nonExistentFilms.map(f => f.filmId).join(', ')}`);\r\n    }\r\n\r\n    // Générer l'URL du QR code\r\n    const seanceId = generateId();\r\n    const qrCodeUrl = generateQRCodeUrl(seanceId);\r\n\r\n    const seanceData: Omit<Seance, 'id'> = {\r\n      nom: data.nom,\r\n      description: data.description,\r\n      date: data.date,\r\n      heure: data.heure,\r\n      films: data.films,\r\n      qrCodeUrl,\r\n      isActive: true,\r\n      createdAt: new Date(),\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    const docRef = await addDoc(collection(db, SEANCES_COLLECTION), seanceData);\r\n    \r\n    return {\r\n      id: docRef.id,\r\n      ...seanceData,\r\n    };\r\n  } catch (error) {\r\n    console.error('Erreur lors de la création de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer toutes les séances\r\n */\r\nexport const getAllSeances = async (): Promise<Seance[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, SEANCES_COLLECTION),\r\n      orderBy('date', 'desc')\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const seances: Seance[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      seances.push({\r\n        id: doc.id,\r\n        nom: data.nom,\r\n        description: data.description,\r\n        date: data.date.toDate(),\r\n        heure: data.heure,\r\n        films: data.films,\r\n        qrCodeUrl: data.qrCodeUrl,\r\n        isActive: data.isActive,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return seances;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des séances:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer une séance par son ID\r\n */\r\nexport const getSeanceById = async (seanceId: string): Promise<Seance | null> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    const docSnap = await getDoc(docRef);\r\n    \r\n    if (docSnap.exists()) {\r\n      const data = docSnap.data();\r\n      return {\r\n        id: docSnap.id,\r\n        nom: data.nom,\r\n        description: data.description,\r\n        date: data.date.toDate(),\r\n        heure: data.heure,\r\n        films: data.films,\r\n        qrCodeUrl: data.qrCodeUrl,\r\n        isActive: data.isActive,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      };\r\n    }\r\n    \r\n    return null;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer une séance avec ses films\r\n */\r\nexport const getSeanceWithFilms = async (seanceId: string): Promise<{ seance: Seance; films: Film[] } | null> => {\r\n  try {\r\n    const seance = await getSeanceById(seanceId);\r\n    if (!seance) return null;\r\n\r\n    // Récupérer tous les films de la séance\r\n    const filmsPromises = seance.films.map(filmId => \r\n      getDoc(doc(db, FILMS_COLLECTION, filmId))\r\n    );\r\n    const filmsSnapshots = await Promise.all(filmsPromises);\r\n    \r\n    const films: Film[] = [];\r\n    \r\n    for (const snapshot of filmsSnapshots) {\r\n      if (snapshot.exists()) {\r\n        const data = snapshot.data();\r\n        if (data) {\r\n          films.push({\r\n            id: snapshot.id,\r\n            titre: data.titre,\r\n            realisateur: data.realisateur,\r\n            pays: data.pays,\r\n            duree: data.duree,\r\n            annee: data.annee,\r\n            synopsis: data.synopsis,\r\n            posterUrl: data.posterUrl,\r\n            genre: data.genre,\r\n            createdAt: data.createdAt.toDate(),\r\n            updatedAt: data.updatedAt.toDate(),\r\n          });\r\n        }\r\n      }\r\n    }\r\n\r\n    return { seance, films };\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération de la séance avec films:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Mettre à jour une séance\r\n */\r\nexport const updateSeance = async (seanceId: string, data: Partial<CreateSeanceData>): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    \r\n    const updateData: any = {\r\n      ...data,\r\n      updatedAt: new Date(),\r\n    };\r\n\r\n    // Si les films changent, vérifier qu'il y en a 5\r\n    if (data.films && data.films.length !== 5) {\r\n      throw new Error('Une séance doit contenir exactement 5 films');\r\n    }\r\n\r\n    await updateDoc(docRef, updateData);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la mise à jour de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprimer une séance\r\n */\r\nexport const deleteSeance = async (seanceId: string): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    await deleteDoc(docRef);\r\n  } catch (error) {\r\n    console.error('Erreur lors de la suppression de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Activer/désactiver une séance\r\n */\r\nexport const toggleSeanceActive = async (seanceId: string, isActive: boolean): Promise<void> => {\r\n  try {\r\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\r\n    await updateDoc(docRef, {\r\n      isActive,\r\n      updatedAt: new Date(),\r\n    });\r\n  } catch (error) {\r\n    console.error('Erreur lors de la modification du statut de la séance:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les séances actives\r\n */\r\nexport const getActiveSeances = async (): Promise<Seance[]> => {\r\n  try {\r\n    const q = query(\r\n      collection(db, SEANCES_COLLECTION),\r\n      where('isActive', '==', true),\r\n      orderBy('date', 'desc')\r\n    );\r\n    \r\n    const querySnapshot = await getDocs(q);\r\n    const seances: Seance[] = [];\r\n    \r\n    querySnapshot.forEach((doc) => {\r\n      const data = doc.data();\r\n      seances.push({\r\n        id: doc.id,\r\n        nom: data.nom,\r\n        description: data.description,\r\n        date: data.date.toDate(),\r\n        heure: data.heure,\r\n        films: data.films,\r\n        qrCodeUrl: data.qrCodeUrl,\r\n        isActive: data.isActive,\r\n        createdAt: data.createdAt.toDate(),\r\n        updatedAt: data.updatedAt.toDate(),\r\n      });\r\n    });\r\n    \r\n    return seances;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des séances actives:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Générer l'URL du QR code pour une séance\r\n */\r\nexport const generateQRCodeUrl = (seanceId: string): string => {\r\n  const baseUrl = window.location.origin;\r\n  const seanceUrl = `${baseUrl}/seance/${seanceId}`;\r\n  \r\n  // Utiliser un service de génération de QR code\r\n  const qrServiceUrl = 'https://api.qrserver.com/v1/create-qr-code/';\r\n  const params = new URLSearchParams({\r\n    size: '300x300',\r\n    data: seanceUrl,\r\n    format: 'png',\r\n  });\r\n  \r\n  return `${qrServiceUrl}?${params.toString()}`;\r\n};\r\n\r\n/**\r\n * Récupérer les statistiques des séances\r\n */\r\nexport const getSeancesStats = async (): Promise<{\r\n  total: number;\r\n  actives: number;\r\n  inactives: number;\r\n  cetteSemaine: number;\r\n}> => {\r\n  try {\r\n    const seances = await getAllSeances();\r\n    const maintenant = new Date();\r\n    const uneSemaine = new Date(maintenant.getTime() + 7 * 24 * 60 * 60 * 1000);\r\n    \r\n    const stats = {\r\n      total: seances.length,\r\n      actives: seances.filter(s => s.isActive).length,\r\n      inactives: seances.filter(s => !s.isActive).length,\r\n      cetteSemaine: seances.filter(s => s.date >= maintenant && s.date <= uneSemaine).length,\r\n    };\r\n    \r\n    return stats;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la récupération des statistiques:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Rechercher des séances par nom\r\n */\r\nexport const searchSeances = async (searchTerm: string): Promise<Seance[]> => {\r\n  try {\r\n    const seances = await getAllSeances();\r\n    const term = searchTerm.toLowerCase();\r\n    \r\n    return seances.filter(seance => \r\n      seance.nom.toLowerCase().includes(term) ||\r\n      (seance.description && seance.description.toLowerCase().includes(term))\r\n    );\r\n  } catch (error) {\r\n    console.error('Erreur lors de la recherche de séances:', error);\r\n    throw error;\r\n  }\r\n}; ","import React from 'react';\r\nimport { cn } from '../../utils/helpers';\r\n\r\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\r\n  variant?: 'primary' | 'secondary' | 'outline' | 'ghost' | 'danger';\r\n  size?: 'sm' | 'md' | 'lg';\r\n  loading?: boolean;\r\n  icon?: React.ReactNode;\r\n  children: React.ReactNode;\r\n}\r\n\r\nexport const Button: React.FC<ButtonProps> = ({\r\n  variant = 'primary',\r\n  size = 'md',\r\n  loading = false,\r\n  icon,\r\n  children,\r\n  className,\r\n  disabled,\r\n  ...props\r\n}) => {\r\n  const baseClasses = 'inline-flex items-center justify-center font-medium rounded-lg transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed';\r\n  \r\n  const variants = {\r\n    primary: 'bg-primary text-white hover:bg-primary-dark focus:ring-primary border-2 border-primary',\r\n    secondary: 'bg-gray-600 text-white hover:bg-gray-700 focus:ring-gray-500',\r\n    outline: 'border-2 border-primary bg-white text-primary hover:bg-primary hover:text-white focus:ring-primary',\r\n    ghost: 'text-gray-700 hover:bg-gray-100 focus:ring-gray-500',\r\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\r\n  };\r\n  \r\n  const sizes = {\r\n    sm: 'px-3 py-1.5 text-sm',\r\n    md: 'px-4 py-2 text-sm',\r\n    lg: 'px-6 py-3 text-base',\r\n  };\r\n  \r\n  return (\r\n    <button\r\n      className={cn(\r\n        baseClasses,\r\n        variants[variant],\r\n        sizes[size],\r\n        className\r\n      )}\r\n      disabled={disabled || loading}\r\n      {...props}\r\n    >\r\n      {loading && (\r\n        <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\">\r\n          <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" />\r\n          <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\" />\r\n        </svg>\r\n      )}\r\n      {!loading && icon && <span className=\"mr-2\">{icon}</span>}\r\n      {children}\r\n    </button>\r\n  );\r\n}; ","import React from 'react';\r\nimport { cn } from '../../utils/helpers';\r\n\r\ninterface CardProps {\r\n  children: React.ReactNode;\r\n  className?: string;\r\n  padding?: 'none' | 'sm' | 'md' | 'lg';\r\n  shadow?: 'none' | 'sm' | 'md' | 'lg';\r\n}\r\n\r\nexport const Card: React.FC<CardProps> = ({\r\n  children,\r\n  className,\r\n  padding = 'md',\r\n  shadow = 'md',\r\n}) => {\r\n  const paddingClasses = {\r\n    none: '',\r\n    sm: 'p-4',\r\n    md: 'p-6',\r\n    lg: 'p-8',\r\n  };\r\n\r\n  const shadowClasses = {\r\n    none: '',\r\n    sm: 'shadow-sm',\r\n    md: 'shadow-md',\r\n    lg: 'shadow-lg',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        'bg-white rounded-lg border border-gray-200',\r\n        paddingClasses[padding],\r\n        shadowClasses[shadow],\r\n        className\r\n      )}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}; ","import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport { useForm } from 'react-hook-form';\r\nimport { z } from 'zod';\r\nimport { zodResolver } from '@hookform/resolvers/zod';\r\nimport toast from 'react-hot-toast';\r\nimport { Star, ArrowLeft, Send, Clock, Users } from 'lucide-react';\r\nimport { getSeanceWithFilms } from '../services/seanceService';\r\nimport { addVote } from '../services/voteService';\r\nimport { Seance, Film, VoteFormData } from '../types';\r\nimport { Button } from '../components/ui/Button';\r\nimport { Card } from '../components/ui/Card';\r\nimport { ROUTES } from '../utils/constants';\r\n\r\n// Schéma de validation pour le vote\r\nconst voteSchema = z.object({\r\n  note: z.number().min(1).max(5),\r\n  commentaire: z.string().max(500).optional(),\r\n});\r\n\r\ninterface VoteData {\r\n  filmId: string;\r\n  note: number;\r\n  commentaire?: string;\r\n}\r\n\r\nexport const SeanceVotePage: React.FC = () => {\r\n  const { seanceId } = useParams<{ seanceId: string }>();\r\n  const navigate = useNavigate();\r\n  const [seance, setSeance] = useState<Seance | null>(null);\r\n  const [films, setFilms] = useState<Film[]>([]);\r\n  const [results, setResults] = useState<any>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [voting, setVoting] = useState(false);\r\n  const [votes, setVotes] = useState<Record<string, VoteData>>({});\r\n\r\n  // Charger les données de la séance\r\n  useEffect(() => {\r\n    const loadSeanceData = async () => {\r\n      if (!seanceId) return;\r\n      \r\n      try {\r\n        setLoading(true);\r\n        const seanceWithFilms = await getSeanceWithFilms(seanceId);\r\n        \r\n        if (!seanceWithFilms) {\r\n          throw new Error('Séance non trouvée');\r\n        }\r\n        \r\n        setSeance(seanceWithFilms.seance);\r\n        setFilms(seanceWithFilms.films);\r\n        // TODO: Implémenter getSeanceResults\r\n        setResults(null);\r\n      } catch (error: any) {\r\n        toast.error('Erreur lors du chargement de la séance');\r\n        navigate(ROUTES.VOTE);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    loadSeanceData();\r\n  }, [seanceId, navigate]);\r\n\r\n  // Gérer le vote pour un film\r\n  const handleVote = (filmId: string, note: number, commentaire?: string) => {\r\n    setVotes(prev => ({\r\n      ...prev,\r\n      [filmId]: { filmId, note, commentaire },\r\n    }));\r\n  };\r\n\r\n  // Soumettre tous les votes\r\n  const handleSubmitVotes = async () => {\r\n    if (!seance || Object.keys(votes).length === 0) {\r\n      toast.error('Veuillez voter pour au moins un film');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      setVoting(true);\r\n      \r\n      // Soumettre chaque vote\r\n      const votePromises = Object.values(votes).map(vote => \r\n        addVote({\r\n          filmId: vote.filmId,\r\n          seanceId: seance.id,\r\n          note: vote.note,\r\n          commentaire: vote.commentaire,\r\n        })\r\n      );\r\n      \r\n      await Promise.all(votePromises);\r\n      \r\n      toast.success('Votes enregistrés avec succès !');\r\n      navigate(ROUTES.RESULTS);\r\n    } catch (error: any) {\r\n      toast.error('Erreur lors de l\\'enregistrement des votes');\r\n    } finally {\r\n      setVoting(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto\"></div>\r\n          <p className=\"mt-4 text-gray-600\">Chargement de la séance...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!seance) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-2xl font-bold text-gray-900 mb-4\">Séance non trouvée</h2>\r\n          <Button onClick={() => navigate(ROUTES.VOTE)}>\r\n            Retour au vote\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Filtrer les films de cette séance\r\n  const seanceFilms = films.filter(film => seance.films.includes(film.id));\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50 py-8\">\r\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        {/* En-tête */}\r\n        <div className=\"mb-8\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            icon={<ArrowLeft className=\"h-4 w-4\" />}\r\n            onClick={() => navigate(ROUTES.VOTE)}\r\n            className=\"mb-4\"\r\n          >\r\n            Retour\r\n          </Button>\r\n          \r\n          <Card className=\"mb-6\">\r\n            <div className=\"text-center\">\r\n              <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n                {seance.nom}\r\n              </h1>\r\n              <div className=\"flex items-center justify-center space-x-6 text-gray-600\">\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Clock className=\"h-4 w-4\" />\r\n                  <span>{seance.date.toLocaleDateString('fr-FR')} à {seance.heure}</span>\r\n                </div>\r\n                <div className=\"flex items-center space-x-2\">\r\n                  <Users className=\"h-4 w-4\" />\r\n                  <span>{seanceFilms.length} film{seanceFilms.length > 1 ? 's' : ''}</span>\r\n                </div>\r\n              </div>\r\n              {seance.description && (\r\n                <p className=\"mt-4 text-gray-600\">{seance.description}</p>\r\n              )}\r\n            </div>\r\n          </Card>\r\n        </div>\r\n\r\n        {/* Instructions */}\r\n        <Card className=\"mb-8\">\r\n          <div className=\"text-center\">\r\n            <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">\r\n              Votez pour les films de cette séance\r\n            </h2>\r\n            <p className=\"text-gray-600 mb-4\">\r\n              Notez chaque film de 1 à 5 étoiles et ajoutez un commentaire optionnel.\r\n              Vous ne pouvez voter qu'une seule fois par film.\r\n            </p>\r\n            <div className=\"flex items-center justify-center space-x-8 text-sm text-gray-500\">\r\n              <div className=\"flex items-center space-x-1\">\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <span>1 = Très mauvais</span>\r\n              </div>\r\n              <div className=\"flex items-center space-x-1\">\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <Star className=\"h-4 w-4 fill-yellow-400 text-yellow-400\" />\r\n                <span>5 = Excellent</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Card>\r\n\r\n        {/* Films à voter */}\r\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\r\n          {seanceFilms.map((film) => {\r\n            const currentVote = votes[film.id];\r\n            const filmResults = results?.films?.find((f: any) => f.filmId === film.id);\r\n            \r\n            return (\r\n              <Card key={film.id} className=\"overflow-hidden\">\r\n                {/* Poster */}\r\n                <div className=\"aspect-[2/3] bg-gray-200 overflow-hidden\">\r\n                  {film.posterUrl ? (\r\n                    <img\r\n                      src={film.posterUrl}\r\n                      alt={film.titre}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  ) : (\r\n                    <div className=\"w-full h-full flex items-center justify-center text-gray-400\">\r\n                      <span>Aucune image</span>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n                \r\n                {/* Informations */}\r\n                <div className=\"p-4\">\r\n                  <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\r\n                    {film.titre}\r\n                  </h3>\r\n                  <p className=\"text-sm text-gray-600 mb-4\">\r\n                    {film.realisateur}\r\n                  </p>\r\n                  \r\n                  {/* Système de notation */}\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Votre note :\r\n                    </label>\r\n                    <div className=\"flex space-x-1\">\r\n                      {[1, 2, 3, 4, 5].map((star) => (\r\n                        <button\r\n                          key={star}\r\n                          type=\"button\"\r\n                          onClick={() => handleVote(film.id, star, currentVote?.commentaire)}\r\n                          className={`p-1 rounded transition-colors ${\r\n                            currentVote?.note >= star\r\n                              ? 'text-yellow-400 hover:text-yellow-500'\r\n                              : 'text-gray-300 hover:text-yellow-400'\r\n                          }`}\r\n                        >\r\n                          <Star className=\"h-6 w-6 fill-current\" />\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                    {currentVote?.note && (\r\n                      <p className=\"text-sm text-gray-600 mt-1\">\r\n                        Note : {currentVote.note}/5\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  {/* Commentaire */}\r\n                  <div className=\"mb-4\">\r\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                      Commentaire (optionnel) :\r\n                    </label>\r\n                    <textarea\r\n                      value={currentVote?.commentaire || ''}\r\n                      onChange={(e) => handleVote(film.id, currentVote?.note || 0, e.target.value)}\r\n                      placeholder=\"Votre avis sur ce film...\"\r\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent\"\r\n                      rows={3}\r\n                      maxLength={500}\r\n                    />\r\n                  </div>\r\n                  \r\n                  {/* Statistiques (si disponibles) */}\r\n                  {filmResults && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <div className=\"flex items-center justify-between text-sm text-gray-600\">\r\n                        <span>Moyenne : {filmResults.moyenne}/5</span>\r\n                        <span>{filmResults.totalVotes} vote{filmResults.totalVotes > 1 ? 's' : ''}</span>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </Card>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {/* Bouton de soumission */}\r\n        <div className=\"mt-8 text-center\">\r\n          <Button\r\n            onClick={handleSubmitVotes}\r\n            loading={voting}\r\n            disabled={Object.keys(votes).length === 0}\r\n            icon={<Send className=\"h-4 w-4\" />}\r\n            size=\"lg\"\r\n          >\r\n            {voting ? 'Envoi en cours...' : `Envoyer ${Object.keys(votes).length} vote${Object.keys(votes).length > 1 ? 's' : ''}`}\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Clock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxMiA2IDEyIDEyIDE2IDE0IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Clock = createLucideIcon('Clock', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['polyline', { points: '12 6 12 12 16 14', key: '68esgv' }],\n]);\n\nexport default Clock;\n","import {\r\n  collection,\r\n  doc,\r\n  deleteDoc,\r\n  getDocs,\r\n  query,\r\n  where,\r\n  orderBy,\r\n  onSnapshot,\r\n  writeBatch,\r\n  setDoc,\r\n} from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Vote, VoteFormData } from '../types';\r\nimport { COLLECTIONS } from '../utils/constants';\r\nimport { generateId, generateSessionId, getUserAgent, getIpAddress } from '../utils/helpers';\r\n\r\n// Queue pour les votes en batch\r\nlet voteQueue: Vote[] = [];\r\nlet batchTimeout: number | null = null;\r\nlet isProcessingBatch = false;\r\n\r\n/**\r\n * Ajouter un vote directement (pour les séances)\r\n */\r\nexport const addVote = async (data: {\r\n  filmId: string;\r\n  seanceId?: string;\r\n  note: number;\r\n  commentaire?: string;\r\n}): Promise<void> => {\r\n  try {\r\n    const vote: Vote = {\r\n      id: generateId(),\r\n      filmId: data.filmId,\r\n      seanceId: data.seanceId || '',\r\n      note: data.note,\r\n      commentaire: data.commentaire?.trim(),\r\n      ipAddress: await getIpAddress() || undefined,\r\n      userAgent: getUserAgent(),\r\n      sessionId: generateSessionId(),\r\n      createdAt: new Date(),\r\n    };\r\n\r\n    // Ajouter directement à Firestore\r\n    const voteRef = doc(collection(db, COLLECTIONS.VOTES));\r\n    await setDoc(voteRef, {\r\n      ...vote,\r\n      id: voteRef.id,\r\n    } as any);\r\n  } catch (error: any) {\r\n    throw new Error('Erreur lors de l\\'ajout du vote');\r\n  }\r\n};\r\n\r\n/**\r\n * Ajouter un vote à la queue\r\n */\r\nexport const addVoteToQueue = async (\r\n  filmId: string,\r\n  data: VoteFormData,\r\n  user?: { uid: string; email: string } | null,\r\n  sessionId?: string\r\n): Promise<void> => {\r\n  try {\r\n    const vote: Vote = {\r\n      id: generateId(),\r\n      filmId,\r\n      seanceId: '',\r\n      note: data.note,\r\n      commentaire: data.commentaire?.trim(),\r\n      ipAddress: await getIpAddress() || undefined,\r\n      userAgent: getUserAgent(),\r\n      sessionId: sessionId || generateSessionId(),\r\n      createdAt: new Date(),\r\n    };\r\n\r\n    voteQueue.push(vote);\r\n\r\n    // Démarrer le timer pour l'envoi en batch\r\n    if (!batchTimeout) {\r\n      batchTimeout = window.setTimeout(() => {\r\n        processVoteBatch();\r\n      }, 5000); // 5 secondes de délai\r\n    }\r\n\r\n    // Vérifier si l'utilisateur a déjà voté pour ce film\r\n    const hasVoted = await checkIfUserVoted(filmId, user?.uid, sessionId);\r\n    if (hasVoted) {\r\n      throw new Error('Vous avez déjà voté pour ce film');\r\n    }\r\n  } catch (error: any) {\r\n    throw new Error(error.message || 'Erreur lors de l\\'ajout du vote');\r\n  }\r\n};\r\n\r\n/**\r\n * Traiter la queue de votes en batch\r\n */\r\nconst processVoteBatch = async (): Promise<void> => {\r\n  if (isProcessingBatch || voteQueue.length === 0) {\r\n    return;\r\n  }\r\n\r\n  isProcessingBatch = true;\r\n  const votesToProcess = [...voteQueue];\r\n  voteQueue = [];\r\n  batchTimeout = null;\r\n\r\n  try {\r\n    const batch = writeBatch(db);\r\n\r\n    // Ajouter tous les votes au batch\r\n    votesToProcess.forEach((vote) => {\r\n      const voteRef = doc(collection(db, COLLECTIONS.VOTES));\r\n      batch.set(voteRef, {\r\n        ...vote,\r\n        id: voteRef.id,\r\n      });\r\n    });\r\n\r\n    // Exécuter le batch\r\n    await batch.commit();\r\n\r\n    console.log(`${votesToProcess.length} votes envoyés avec succès`);\r\n  } catch (error) {\r\n    console.error('Erreur lors de l\\'envoi du batch:', error);\r\n    \r\n    // Remettre les votes dans la queue pour retry\r\n    voteQueue.unshift(...votesToProcess);\r\n    \r\n    // Retry après 10 secondes\r\n    setTimeout(() => {\r\n      isProcessingBatch = false;\r\n      if (voteQueue.length > 0) {\r\n        processVoteBatch();\r\n      }\r\n    }, 10000);\r\n  } finally {\r\n    isProcessingBatch = false;\r\n  }\r\n};\r\n\r\n/**\r\n * Vérifier si un utilisateur a déjà voté pour un film\r\n */\r\nexport const checkIfUserVoted = async (\r\n  filmId: string,\r\n  userId?: string,\r\n  sessionId?: string\r\n): Promise<boolean> => {\r\n  try {\r\n    let voteQuery;\r\n\r\n    if (userId) {\r\n      // Utilisateur connecté\r\n      voteQuery = query(\r\n        collection(db, COLLECTIONS.VOTES),\r\n        where('filmId', '==', filmId),\r\n        where('userId', '==', userId)\r\n      );\r\n    } else if (sessionId) {\r\n      // Vote anonyme\r\n      voteQuery = query(\r\n        collection(db, COLLECTIONS.VOTES),\r\n        where('filmId', '==', filmId),\r\n        where('sessionId', '==', sessionId)\r\n      );\r\n    } else {\r\n      return false;\r\n    }\r\n\r\n    const querySnapshot = await getDocs(voteQuery);\r\n    return !querySnapshot.empty;\r\n  } catch (error) {\r\n    console.error('Erreur lors de la vérification du vote:', error);\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les votes d'un film\r\n */\r\nexport const getFilmVotes = async (filmId: string): Promise<Vote[]> => {\r\n  try {\r\n    const votesQuery = query(\r\n      collection(db, COLLECTIONS.VOTES),\r\n      where('filmId', '==', filmId),\r\n      orderBy('createdAt', 'desc')\r\n    );\r\n\r\n    const querySnapshot = await getDocs(votesQuery);\r\n    const votes: Vote[] = [];\r\n\r\n    querySnapshot.forEach((doc) => {\r\n      const voteData = doc.data();\r\n      votes.push({\r\n        ...voteData,\r\n        id: doc.id,\r\n        createdAt: voteData.createdAt?.toDate() || new Date(),\r\n      } as Vote);\r\n    });\r\n\r\n    return votes;\r\n  } catch (error: any) {\r\n    throw new Error('Erreur lors de la récupération des votes');\r\n  }\r\n};\r\n\r\n/**\r\n * Supprimer un vote\r\n */\r\nexport const deleteVote = async (voteId: string): Promise<void> => {\r\n  try {\r\n    await deleteDoc(doc(db, COLLECTIONS.VOTES, voteId));\r\n  } catch (error: any) {\r\n    throw new Error('Erreur lors de la suppression du vote');\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les statistiques d'un film\r\n */\r\nexport const getFilmStats = async (filmId: string): Promise<{\r\n  filmId: string;\r\n  titre: string;\r\n  totalVotes: number;\r\n  moyenneNote: number;\r\n  distributionNotes: Record<number, number>;\r\n  commentaires: string[];\r\n}> => {\r\n  try {\r\n    const votes = await getFilmVotes(filmId);\r\n    const ratings = votes.map(vote => vote.note);\r\n    \r\n    const distribution: Record<number, number> = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };\r\n    ratings.forEach(rating => {\r\n      if (rating >= 1 && rating <= 5) {\r\n        distribution[rating]++;\r\n      }\r\n    });\r\n\r\n    const moyenne = ratings.length > 0 \r\n      ? Math.round((ratings.reduce((sum, r) => sum + r, 0) / ratings.length) * 10) / 10\r\n      : 0;\r\n\r\n    const commentaires = votes\r\n      .filter(vote => vote.commentaire)\r\n      .map(vote => vote.commentaire!)\r\n      .slice(0, 10); // Limiter à 10 commentaires\r\n\r\n    return {\r\n      filmId,\r\n      titre: '', // Sera rempli par l'appelant\r\n      totalVotes: votes.length,\r\n      moyenneNote: moyenne,\r\n      distributionNotes: distribution,\r\n      commentaires,\r\n    };\r\n  } catch (error: any) {\r\n    throw new Error('Erreur lors du calcul des statistiques');\r\n  }\r\n};\r\n\r\n/**\r\n * Écouter les changements de votes pour un film\r\n */\r\nexport const onVotesChange = (filmId: string, callback: (votes: Vote[]) => void) => {\r\n  const votesQuery = query(\r\n    collection(db, COLLECTIONS.VOTES),\r\n    where('filmId', '==', filmId),\r\n    orderBy('createdAt', 'desc')\r\n  );\r\n\r\n  return onSnapshot(votesQuery, (querySnapshot) => {\r\n    const votes: Vote[] = [];\r\n\r\n    querySnapshot.forEach((doc) => {\r\n      const voteData = doc.data();\r\n      votes.push({\r\n        ...voteData,\r\n        id: doc.id,\r\n        createdAt: voteData.createdAt?.toDate() || new Date(),\r\n      } as Vote);\r\n    });\r\n\r\n    callback(votes);\r\n  });\r\n};\r\n\r\n/**\r\n * Récupérer le statut de la queue de votes\r\n */\r\nexport const getVoteQueueStatus = () => {\r\n  return {\r\n    pendingVotes: voteQueue.length,\r\n    isProcessing: isProcessingBatch,\r\n    nextBatchIn: batchTimeout ? 5000 : 0,\r\n  };\r\n};\r\n\r\n/**\r\n * Forcer l'envoi immédiat de la queue\r\n */\r\nexport const forceProcessBatch = async (): Promise<void> => {\r\n  if (batchTimeout) {\r\n    clearTimeout(batchTimeout);\r\n    batchTimeout = null;\r\n  }\r\n  await processVoteBatch();\r\n}; ","import { VALIDATION_RULES } from './constants';\r\n\r\n/**\r\n * Génère un ID unique\r\n */\r\nexport const generateId = (): string => {\r\n  return Date.now().toString(36) + Math.random().toString(36).substring(2);\r\n};\r\n\r\n/**\r\n * Génère un ID de session unique pour les votes anonymes\r\n */\r\nexport const generateSessionId = (): string => {\r\n  const timestamp = Date.now();\r\n  const random = Math.random().toString(36).substring(2);\r\n  return `${timestamp}-${random}`;\r\n};\r\n\r\n/**\r\n * Valide une adresse email\r\n */\r\nexport const isValidEmail = (email: string): boolean => {\r\n  return VALIDATION_RULES.EMAIL.test(email);\r\n};\r\n\r\n/**\r\n * Valide un mot de passe\r\n */\r\nexport const isValidPassword = (password: string): boolean => {\r\n  return password.length >= VALIDATION_RULES.PASSWORD_MIN_LENGTH;\r\n};\r\n\r\n/**\r\n * Valide un fichier image\r\n */\r\nexport const isValidImageFile = (file: File): boolean => {\r\n  return (\r\n    VALIDATION_RULES.ALLOWED_IMAGE_TYPES.indexOf(file.type) !== -1 &&\r\n    file.size <= VALIDATION_RULES.MAX_FILE_SIZE\r\n  );\r\n};\r\n\r\n/**\r\n * Redimensionne une image\r\n */\r\nexport const resizeImage = (\r\n  file: File,\r\n  maxWidth: number = 800,\r\n  maxHeight: number = 600,\r\n  quality: number = 0.8\r\n): Promise<Blob> => {\r\n  return new Promise((resolve, reject) => {\r\n    const canvas = document.createElement('canvas');\r\n    const ctx = canvas.getContext('2d');\r\n    const img = new Image();\r\n\r\n    img.onload = () => {\r\n      // Calculer les nouvelles dimensions\r\n      let { width, height } = img;\r\n      \r\n      if (width > maxWidth) {\r\n        height = (height * maxWidth) / width;\r\n        width = maxWidth;\r\n      }\r\n      \r\n      if (height > maxHeight) {\r\n        width = (width * maxHeight) / height;\r\n        height = maxHeight;\r\n      }\r\n\r\n      canvas.width = width;\r\n      canvas.height = height;\r\n\r\n      if (ctx) {\r\n        ctx.drawImage(img, 0, 0, width, height);\r\n        canvas.toBlob(\r\n          (blob) => {\r\n            if (blob) {\r\n              resolve(blob);\r\n            } else {\r\n              reject(new Error('Erreur lors du redimensionnement'));\r\n            }\r\n          },\r\n          'image/jpeg',\r\n          quality\r\n        );\r\n      } else {\r\n        reject(new Error('Impossible de créer le contexte canvas'));\r\n      }\r\n    };\r\n\r\n    img.onerror = () => reject(new Error('Erreur lors du chargement de l\\'image'));\r\n    img.src = URL.createObjectURL(file);\r\n  });\r\n};\r\n\r\n/**\r\n * Formate une date\r\n */\r\nexport const formatDate = (date: Date): string => {\r\n  return new Intl.DateTimeFormat('fr-FR', {\r\n    year: 'numeric',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    hour: '2-digit',\r\n    minute: '2-digit',\r\n  }).format(date);\r\n};\r\n\r\n/**\r\n * Formate une note avec étoiles\r\n */\r\nexport const formatRating = (rating: number): string => {\r\n  return `${rating}/5`;\r\n};\r\n\r\n/**\r\n * Calcule la moyenne des notes\r\n */\r\nexport const calculateAverageRating = (ratings: number[]): number => {\r\n  if (ratings.length === 0) return 0;\r\n  const sum = ratings.reduce((acc, rating) => acc + rating, 0);\r\n  return Math.round((sum / ratings.length) * 10) / 10;\r\n};\r\n\r\n/**\r\n * Génère une distribution des notes\r\n */\r\nexport const generateRatingDistribution = (ratings: number[]): Record<number, number> => {\r\n  const distribution: Record<number, number> = { 1: 0, 2: 0, 3: 0, 4: 0, 5: 0 };\r\n  \r\n  ratings.forEach(rating => {\r\n    if (rating >= 1 && rating <= 5) {\r\n      distribution[rating]++;\r\n    }\r\n  });\r\n  \r\n  return distribution;\r\n};\r\n\r\n/**\r\n * Retourne l'User Agent du navigateur\r\n */\r\nexport const getUserAgent = (): string => {\r\n  return navigator.userAgent;\r\n};\r\n\r\n/**\r\n * Retourne l'adresse IP (approximative via service externe)\r\n */\r\nexport const getIpAddress = async (): Promise<string | null> => {\r\n  try {\r\n    const response = await fetch('https://api.ipify.org?format=json');\r\n    const data = await response.json();\r\n    return data.ip;\r\n  } catch (error) {\r\n    console.warn('Impossible de récupérer l\\'IP:', error);\r\n    return null;\r\n  }\r\n};\r\n\r\n/**\r\n * Stocke une valeur dans le localStorage\r\n */\r\nexport const setLocalStorage = (key: string, value: any): void => {\r\n  try {\r\n    localStorage.setItem(key, JSON.stringify(value));\r\n  } catch (error) {\r\n    console.warn('Erreur lors du stockage local:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Récupère une valeur du localStorage\r\n */\r\nexport const getLocalStorage = <T>(key: string, defaultValue: T): T => {\r\n  try {\r\n    const item = localStorage.getItem(key);\r\n    return item ? JSON.parse(item) : defaultValue;\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la récupération locale:', error);\r\n    return defaultValue;\r\n  }\r\n};\r\n\r\n/**\r\n * Supprime une valeur du localStorage\r\n */\r\nexport const removeLocalStorage = (key: string): void => {\r\n  try {\r\n    localStorage.removeItem(key);\r\n  } catch (error) {\r\n    console.warn('Erreur lors de la suppression locale:', error);\r\n  }\r\n};\r\n\r\n/**\r\n * Débounce une fonction\r\n */\r\nexport const debounce = <T extends (...args: any[]) => any>(\r\n  func: T,\r\n  wait: number\r\n): ((...args: Parameters<T>) => void) => {\r\n  let timeout: number;\r\n  \r\n  return (...args: Parameters<T>) => {\r\n    clearTimeout(timeout);\r\n    timeout = window.setTimeout(() => func(...args), wait);\r\n  };\r\n};\r\n\r\n/**\r\n * Retry une fonction avec délai\r\n */\r\nexport const retry = async <T>(\r\n  fn: () => Promise<T>,\r\n  maxRetries: number = 3,\r\n  delay: number = 1000\r\n): Promise<T> => {\r\n  let lastError: Error = new Error('Une erreur est survenue');\r\n  \r\n  for (let i = 0; i < maxRetries; i++) {\r\n    try {\r\n      return await fn();\r\n    } catch (error) {\r\n      lastError = error as Error;\r\n      if (i < maxRetries - 1) {\r\n        await new Promise(resolve => setTimeout(resolve, delay * Math.pow(2, i)));\r\n      }\r\n    }\r\n  }\r\n  \r\n  throw new Error(lastError.message || 'Une erreur est survenue');\r\n};\r\n\r\n/**\r\n * Combine les classes CSS\r\n */\r\nexport const cn = (...classes: (string | undefined | null | false)[]): string => {\r\n  return classes.filter(Boolean).join(' ');\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name ArrowLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTIgMTktNy03IDctNyIgLz4KICA8cGF0aCBkPSJNMTkgMTJINSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/arrow-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ArrowLeft = createLucideIcon('ArrowLeft', [\n  ['path', { d: 'm12 19-7-7 7-7', key: '1l729n' }],\n  ['path', { d: 'M19 12H5', key: 'x3x0zl' }],\n]);\n\nexport default ArrowLeft;\n"],"names":["Send","createLucideIcon","d","key","SEANCES_COLLECTION","FILMS_COLLECTION","getSeanceWithFilms","async","seance","docRef","doc","db","seanceId","docSnap","getDoc","exists","data","id","nom","description","date","toDate","heure","films","qrCodeUrl","isActive","createdAt","updatedAt","error","console","getSeanceById","filmsPromises","map","filmId","filmsSnapshots","Promise","all","snapshot","push","titre","realisateur","pays","duree","annee","synopsis","posterUrl","genre","Button","_ref","variant","size","loading","icon","children","className","disabled","props","_jsxs","cn","primary","secondary","outline","ghost","danger","sm","md","lg","fill","viewBox","_jsx","cx","cy","r","stroke","strokeWidth","Card","padding","shadow","none","z","note","min","max","commentaire","optional","SeanceVotePage","useParams","navigate","useNavigate","setSeance","useState","setFilms","results","setResults","setLoading","voting","setVoting","votes","setVotes","useEffect","seanceWithFilms","Error","toast","ROUTES","VOTE","loadSeanceData","handleVote","prev","onClick","seanceFilms","filter","film","includes","ArrowLeft","Clock","toLocaleDateString","Users","length","Star","_results$films","currentVote","filmResults","find","f","src","alt","star","type","value","onChange","e","target","placeholder","rows","maxLength","moyenne","totalVotes","Object","keys","votePromises","values","vote","addVote","success","RESULTS","points","voteQueue","batchTimeout","isProcessingBatch","_data$commentaire","generateId","trim","ipAddress","getIpAddress","undefined","userAgent","getUserAgent","sessionId","generateSessionId","Date","voteRef","collection","COLLECTIONS","VOTES","setDoc","addVoteToQueue","user","_data$commentaire2","window","setTimeout","processVoteBatch","checkIfUserVoted","uid","message","votesToProcess","batch","writeBatch","forEach","set","commit","log","unshift","userId","voteQuery","query","where","getDocs","empty","getVoteQueueStatus","pendingVotes","isProcessing","nextBatchIn","now","toString","Math","random","substring","navigator","response","fetch","json","ip","warn","setLocalStorage","localStorage","setItem","JSON","stringify","getLocalStorage","defaultValue","item","getItem","parse","_len2","arguments","classes","Array","_key2","Boolean","join"],"sourceRoot":""}