"use strict";(self.webpackChunkprix_du_public=self.webpackChunkprix_du_public||[]).push([[209],{146:(e,s,t)=>{t.d(s,{Vm:()=>c});var a=t(91),r=(t(147),t(455)),l=t(413);t(925);const c=async()=>{try{const e=(0,a.P)((0,a.rJ)(r.db,l.I.FILMS),(0,a.My)("createdAt","desc")),s=await(0,a.GG)(e),t=[];return s.forEach(e=>{var s,a;const r=e.data();t.push({id:e.id,...r,createdAt:(null===(s=r.createdAt)||void 0===s?void 0:s.toDate())||new Date,updatedAt:(null===(a=r.updatedAt)||void 0===a?void 0:a.toDate())||new Date})}),t}catch(e){throw new Error("Erreur lors de la r\xe9cup\xe9ration des films")}}},209:(e,s,t)=>{t.r(s),t.d(s,{FilmsPage:()=>m});var a=t(43);const r=(0,t(797).A)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=t(712),c=t(146),i=t(413),n=t(768),d=t(579);const m=()=>{const[e,s]=(0,a.useState)([]),[t,m]=(0,a.useState)(!0),[x,o]=(0,a.useState)("");(0,a.useEffect)(()=>{(async()=>{try{const e=await(0,c.Vm)();s(e)}catch(e){n.Ay.error(i.UU.NETWORK_ERROR)}finally{m(!1)}})()},[]);const h=e.filter(e=>e.titre.toLowerCase().includes(x.toLowerCase())||e.realisateur.toLowerCase().includes(x.toLowerCase()));return t?(0,d.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,d.jsxs)("div",{className:"text-center",children:[(0,d.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),(0,d.jsx)("p",{className:"mt-4 text-gray-600",children:"Chargement des films..."})]})}):(0,d.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,d.jsx)("header",{className:"bg-white shadow-sm",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsxs)("div",{className:"py-6",children:[(0,d.jsx)("h1",{className:"text-3xl font-bold text-primary-600",children:"Films en comp\xe9tition"}),(0,d.jsx)("p",{className:"text-secondary-600 mt-1",children:"D\xe9couvrez tous les films du Festival du Film Court de Dinan"})]})})}),(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,d.jsx)("div",{className:"mb-8",children:(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),(0,d.jsx)("input",{type:"text",placeholder:"Rechercher un film ou un r\xe9alisateur...",value:x,onChange:e=>o(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),0===e.length?(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-6xl mb-4",children:"\ud83c\udfac"}),(0,d.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Aucun film disponible"}),(0,d.jsx)("p",{className:"text-gray-600",children:"Les films seront ajout\xe9s par l'administrateur."})]}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"mb-6",children:(0,d.jsxs)("p",{className:"text-gray-600",children:[h.length," film",h.length>1?"s":""," trouv\xe9",h.length>1?"s":"",x&&` pour "${x}"`]})}),(0,d.jsx)("div",{className:"films-grid",children:h.map(e=>(0,d.jsxs)("div",{className:"card hover:shadow-lg transition-shadow",children:[e.posterUrl&&(0,d.jsx)("img",{src:e.posterUrl,alt:e.titre,className:"w-full h-64 object-cover rounded-lg mb-4"}),(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:e.titre}),(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:["R\xe9alis\xe9 par ",(0,d.jsx)("span",{className:"font-medium",children:e.realisateur})]}),(0,d.jsx)("p",{className:"text-gray-700 text-sm leading-relaxed",children:e.synopsis}),(0,d.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,d.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 text-yellow-400 mr-1"}),(0,d.jsx)("span",{children:"En comp\xe9tition"})]}),(0,d.jsxs)("div",{className:"text-xs text-gray-400",children:["Ajout\xe9 le ",new Date(e.createdAt).toLocaleDateString("fr-FR")]})]})]})]},e.id))}),x&&0===h.length&&(0,d.jsxs)("div",{className:"text-center py-12",children:[(0,d.jsx)("div",{className:"text-4xl mb-4",children:"\ud83d\udd0d"}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Aucun film trouv\xe9"}),(0,d.jsxs)("p",{className:"text-gray-600",children:['Aucun film ne correspond \xe0 votre recherche "',x,'"']}),(0,d.jsx)("button",{onClick:()=>o(""),className:"mt-4 text-primary-600 hover:text-primary-500",children:"Voir tous les films"})]})]})]})]})}}}]);
//# sourceMappingURL=209.3b351146.chunk.js.map