{"version":3,"file":"static/js/859.144d6d33.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/refresh-cw.ts","../node_modules/lucide-react/src/icons/trending-down.ts","../node_modules/lucide-react/src/icons/minus.ts","components/ui/StatsCard.tsx","../node_modules/lucide-react/src/icons/plus.ts","../node_modules/lucide-react/src/icons/shield.ts","components/ui/DashboardStats.tsx","services/dashboardService.ts","services/testDataService.ts","pages/AdminPage.tsx","hooks/useDashboard.ts","../node_modules/lucide-react/src/icons/database.ts","../node_modules/lucide-react/src/icons/trending-up.ts","components/ui/Dashboard.tsx","../node_modules/lucide-react/src/icons/settings.ts","services/seanceService.ts","../node_modules/lucide-react/src/icons/bar-chart-3.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name RefreshCw\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAxMmE5IDkgMCAwIDEgOS05IDkuNzUgOS43NSAwIDAgMSA2Ljc0IDIuNzRMMjEgOCIgLz4KICA8cGF0aCBkPSJNMjEgM3Y1aC01IiAvPgogIDxwYXRoIGQ9Ik0yMSAxMmE5IDkgMCAwIDEtOSA5IDkuNzUgOS43NSAwIDAgMS02Ljc0LTIuNzRMMyAxNiIgLz4KICA8cGF0aCBkPSJNOCAxNkgzdjUiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/refresh-cw\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst RefreshCw = createLucideIcon('RefreshCw', [\n  ['path', { d: 'M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8', key: 'v9h5vc' }],\n  ['path', { d: 'M21 3v5h-5', key: '1q7to0' }],\n  ['path', { d: 'M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16', key: '3uifl3' }],\n  ['path', { d: 'M8 16H3v5', key: '1cv678' }],\n]);\n\nexport default RefreshCw;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingDown\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiAxNyAxMy41IDguNSA4LjUgMTMuNSAyIDciIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTYgMTcgMjIgMTcgMjIgMTEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/trending-down\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingDown = createLucideIcon('TrendingDown', [\n  ['polyline', { points: '22 17 13.5 8.5 8.5 13.5 2 7', key: '1r2t7k' }],\n  ['polyline', { points: '16 17 22 17 22 11', key: '11uiuu' }],\n]);\n\nexport default TrendingDown;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Minus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/minus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Minus = createLucideIcon('Minus', [['path', { d: 'M5 12h14', key: '1ays0h' }]]);\n\nexport default Minus;\n","import React from 'react';\r\nimport { TrendingUp, TrendingDown, Minus } from 'lucide-react';\r\n\r\ninterface StatsCardProps {\r\n  title: string;\r\n  value: string | number;\r\n  change?: number;\r\n  changeLabel?: string;\r\n  icon?: React.ReactNode;\r\n  color?: 'primary' | 'secondary' | 'success' | 'warning' | 'error';\r\n  loading?: boolean;\r\n}\r\n\r\nexport const StatsCard: React.FC<StatsCardProps> = ({\r\n  title,\r\n  value,\r\n  change,\r\n  changeLabel,\r\n  icon,\r\n  color = 'primary',\r\n  loading = false\r\n}) => {\r\n  const getColorClasses = () => {\r\n    switch (color) {\r\n      case 'primary':\r\n        return 'text-primary-600 bg-primary-50 border-primary-200';\r\n      case 'secondary':\r\n        return 'text-secondary-600 bg-secondary-50 border-secondary-200';\r\n      case 'success':\r\n        return 'text-green-600 bg-green-50 border-green-200';\r\n      case 'warning':\r\n        return 'text-yellow-600 bg-yellow-50 border-yellow-200';\r\n      case 'error':\r\n        return 'text-red-600 bg-red-50 border-red-200';\r\n      default:\r\n        return 'text-primary-600 bg-primary-50 border-primary-200';\r\n    }\r\n  };\r\n\r\n  const getChangeIcon = () => {\r\n    if (change === undefined) return null;\r\n    if (change > 0) return <TrendingUp className=\"w-4 h-4 text-green-600\" />;\r\n    if (change < 0) return <TrendingDown className=\"w-4 h-4 text-red-600\" />;\r\n    return <Minus className=\"w-4 h-4 text-gray-600\" />;\r\n  };\r\n\r\n  const getChangeColor = () => {\r\n    if (change === undefined) return '';\r\n    if (change > 0) return 'text-green-600';\r\n    if (change < 0) return 'text-red-600';\r\n    return 'text-gray-600';\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"stats-card animate-pulse\">\r\n        <div className=\"skeleton h-8 w-24 mb-2\"></div>\r\n        <div className=\"skeleton h-12 w-16 mb-2\"></div>\r\n        <div className=\"skeleton h-4 w-20\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`stats-card border-2 ${getColorClasses()} transition-all duration-300 hover:shadow-xl hover:-translate-y-1`}>\r\n      <div className=\"flex items-center justify-between mb-4\">\r\n        <h3 className=\"text-sm font-medium text-gray-600 uppercase tracking-wide\">\r\n          {title}\r\n        </h3>\r\n        {icon && (\r\n          <div className={`p-2 rounded-lg ${getColorClasses().split(' ')[0]} bg-opacity-20`}>\r\n            {icon}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      <div className=\"mb-2\">\r\n        <span className=\"text-3xl font-bold text-gray-900\">\r\n          {value}\r\n        </span>\r\n      </div>\r\n      \r\n      {change !== undefined && (\r\n        <div className={`flex items-center space-x-1 text-sm ${getChangeColor()}`}>\r\n          {getChangeIcon()}\r\n          <span className=\"font-medium\">\r\n            {change > 0 ? '+' : ''}{change}%\r\n          </span>\r\n          {changeLabel && (\r\n            <span className=\"text-gray-500\">\r\n              {changeLabel}\r\n            </span>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Shield\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIgMjJzOC00IDgtMTBWNWwtOC0zLTggM3Y3YzAgNiA4IDEwIDggMTAiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/shield\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shield = createLucideIcon('Shield', [\n  ['path', { d: 'M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10', key: '1irkt0' }],\n]);\n\nexport default Shield;\n","import React from 'react';\r\nimport { DashboardStats as DashboardStatsType } from '../../services/dashboardService';\r\n\r\ninterface DashboardStatsProps {\r\n  stats: DashboardStatsType;\r\n  className?: string;\r\n}\r\n\r\nexport const DashboardStats: React.FC<DashboardStatsProps> = ({ stats, className = '' }) => {\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* Statistiques détaillées */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Graphique des votes par jour */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Votes par jour (7 derniers jours)</h3>\r\n          {stats.votesByDay && stats.votesByDay.length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {stats.votesByDay.map((day, index) => (\r\n                <div key={index} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm font-medium text-gray-700\">{day.date}</span>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                      <div \r\n                        className=\"bg-primary-500 h-2 rounded-full transition-all duration-300\"\r\n                        style={{ \r\n                          width: `${Math.max((day.count / Math.max(...stats.votesByDay!.map(d => d.count))) * 100, 5)}%` \r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-600 w-8 text-right\">{day.count}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-500 text-center py-4\">Aucun vote enregistré</p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Répartition par genre */}\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Répartition par genre</h3>\r\n          {stats.filmsByGenre && Object.keys(stats.filmsByGenre).length > 0 ? (\r\n            <div className=\"space-y-3\">\r\n              {Object.entries(stats.filmsByGenre).map(([genre, count]) => (\r\n                <div key={genre} className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm font-medium text-gray-700\">{genre}</span>\r\n                  <div className=\"flex items-center space-x-3\">\r\n                    <div className=\"w-32 bg-gray-200 rounded-full h-2\">\r\n                      <div \r\n                        className=\"bg-secondary-500 h-2 rounded-full transition-all duration-300\"\r\n                        style={{ \r\n                          width: `${Math.max((count / Math.max(...Object.values(stats.filmsByGenre!))) * 100, 5)}%` \r\n                        }}\r\n                      ></div>\r\n                    </div>\r\n                    <span className=\"text-sm text-gray-600 w-8 text-right\">{count}</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-gray-500 text-center py-4\">Aucun film enregistré</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Métriques supplémentaires */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Taux de participation</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.participationRate}%</p>\r\n            </div>\r\n            <div className=\"p-3 bg-success-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-success-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <div className=\"flex items-center text-sm text-gray-500\">\r\n              <span>Basé sur {stats.totalSeances} séances</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Utilisateurs uniques</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.totalUsers}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-info-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-info-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <div className=\"flex items-center text-sm text-gray-500\">\r\n              <span>Ayant participé au vote</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"bg-white rounded-lg shadow-sm p-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <p className=\"text-sm font-medium text-gray-600\">Séances totales</p>\r\n              <p className=\"text-2xl font-bold text-gray-900\">{stats.totalSeances}</p>\r\n            </div>\r\n            <div className=\"p-3 bg-warning-100 rounded-lg\">\r\n              <svg className=\"w-6 h-6 text-warning-600\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" />\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"mt-4\">\r\n            <div className=\"flex items-center text-sm text-gray-500\">\r\n              <span>{stats.activeSeances} actives</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}; ","import { getAllFilms } from './filmService';\r\nimport { getAllSeances } from './seanceService';\r\nimport { getAllVotes } from './voteService';\r\n\r\nexport interface DashboardStats {\r\n  totalVotes: number;\r\n  totalFilms: number;\r\n  totalSeances: number;\r\n  totalUsers: number;\r\n  averageRating: number;\r\n  activeSeances: number;\r\n  topFilm?: {\r\n    id: string;\r\n    title: string;\r\n    rating: number;\r\n    votes: number;\r\n  } | undefined;\r\n  recentActivity?: Array<{\r\n    id: string;\r\n    action: string;\r\n    film: string;\r\n    timestamp: Date;\r\n  }>;\r\n  votesByDay?: Array<{\r\n    date: string;\r\n    count: number;\r\n  }>;\r\n  filmsByGenre?: Record<string, number>;\r\n  participationRate: number;\r\n}\r\n\r\n/**\r\n * Récupérer toutes les statistiques du tableau de bord\r\n */\r\nexport const getDashboardStats = async (): Promise<DashboardStats> => {\r\n  try {\r\n    console.log('Chargement des statistiques du tableau de bord...');\r\n\r\n    // Charger toutes les données en parallèle\r\n    const [allVotes, allFilms, allSeances] = await Promise.all([\r\n      getAllVotes(),\r\n      getAllFilms(),\r\n      getAllSeances()\r\n    ]);\r\n\r\n    console.log(`Données chargées: ${allVotes.length} votes, ${allFilms.length} films, ${allSeances.length} séances`);\r\n\r\n    // Calculer les statistiques de base\r\n    const totalVotes = allVotes.length;\r\n    const totalFilms = allFilms.length;\r\n    const totalSeances = allSeances.length;\r\n    const activeSeances = allSeances.filter(seance => seance.isActive).length;\r\n\r\n    // Calculer la note moyenne globale\r\n    const averageRating = totalVotes > 0 \r\n      ? Math.round((allVotes.reduce((sum, vote) => sum + vote.note, 0) / totalVotes) * 10) / 10\r\n      : 0;\r\n\r\n    // Trouver le film en tête\r\n    const filmStats = new Map<string, { votes: number; totalRating: number }>();\r\n    \r\n    allVotes.forEach(vote => {\r\n      if (!filmStats.has(vote.filmId)) {\r\n        filmStats.set(vote.filmId, { votes: 0, totalRating: 0 });\r\n      }\r\n      const stats = filmStats.get(vote.filmId)!;\r\n      stats.votes += 1;\r\n      stats.totalRating += vote.note;\r\n    });\r\n\r\n    let topFilm: DashboardStats['topFilm'] | undefined;\r\n    let maxRating = 0;\r\n\r\n    for (const [filmId, stats] of filmStats) {\r\n      const film = allFilms.find(f => f.id === filmId);\r\n      if (film && stats.votes > 0) {\r\n        const rating = stats.totalRating / stats.votes;\r\n        if (rating > maxRating) {\r\n          maxRating = rating;\r\n          topFilm = {\r\n            id: filmId,\r\n            title: film.titre,\r\n            rating: Math.round(rating * 10) / 10,\r\n            votes: stats.votes\r\n          };\r\n        }\r\n      }\r\n    }\r\n\r\n    // Calculer les statistiques par genre\r\n    const filmsByGenre: Record<string, number> = {};\r\n    allFilms.forEach(film => {\r\n      filmsByGenre[film.genre] = (filmsByGenre[film.genre] || 0) + 1;\r\n    });\r\n\r\n    // Calculer l'activité récente (derniers votes)\r\n    const recentVotes = allVotes\r\n      .sort((a, b) => b.createdAt.getTime() - a.createdAt.getTime())\r\n      .slice(0, 10);\r\n\r\n    const recentActivity = recentVotes.map(vote => {\r\n      const film = allFilms.find(f => f.id === vote.filmId);\r\n      return {\r\n        id: vote.id,\r\n        action: `Vote ${vote.note}/5`,\r\n        film: film?.titre || 'Film inconnu',\r\n        timestamp: vote.createdAt\r\n      };\r\n    });\r\n\r\n    // Calculer les votes par jour (7 derniers jours)\r\n    const votesByDay: Array<{ date: string; count: number }> = [];\r\n    const today = new Date();\r\n    \r\n    for (let i = 6; i >= 0; i--) {\r\n      const date = new Date(today);\r\n      date.setDate(date.getDate() - i);\r\n      const dateStr = date.toISOString().split('T')[0];\r\n      \r\n      const dayVotes = allVotes.filter(vote => {\r\n        const voteDate = vote.createdAt.toISOString().split('T')[0];\r\n        return voteDate === dateStr;\r\n      });\r\n      \r\n      votesByDay.push({\r\n        date: date.toLocaleDateString('fr-FR', { weekday: 'short', day: 'numeric' }),\r\n        count: dayVotes.length\r\n      });\r\n    }\r\n\r\n    // Calculer le taux de participation (estimation)\r\n    const participationRate = totalSeances > 0 \r\n      ? Math.round((totalVotes / (totalSeances * 50)) * 100) // Estimation de 50 votes par séance\r\n      : 0;\r\n\r\n    // Récupérer le nombre d'utilisateurs (approximatif)\r\n    const uniqueUsers = new Set(allVotes.map(vote => vote.userId).filter(Boolean));\r\n    const totalUsers = uniqueUsers.size;\r\n\r\n    const stats: DashboardStats = {\r\n      totalVotes,\r\n      totalFilms,\r\n      totalSeances,\r\n      totalUsers,\r\n      averageRating,\r\n      activeSeances,\r\n      topFilm,\r\n      recentActivity,\r\n      votesByDay,\r\n      filmsByGenre,\r\n      participationRate\r\n    };\r\n\r\n    console.log('Statistiques calculées:', stats);\r\n    return stats;\r\n\r\n  } catch (error) {\r\n    console.error('Erreur lors du chargement des statistiques:', error);\r\n    throw new Error('Impossible de charger les statistiques du tableau de bord');\r\n  }\r\n};\r\n\r\n/**\r\n * Récupérer les statistiques en temps réel (pour les mises à jour)\r\n */\r\nexport const getRealTimeStats = async (): Promise<Partial<DashboardStats>> => {\r\n  try {\r\n    const [allVotes, allSeances] = await Promise.all([\r\n      getAllVotes(),\r\n      getAllSeances()\r\n    ]);\r\n\r\n    return {\r\n      totalVotes: allVotes.length,\r\n      activeSeances: allSeances.filter(seance => seance.isActive).length,\r\n      participationRate: allSeances.length > 0 \r\n        ? Math.round((allVotes.length / (allSeances.length * 50)) * 100)\r\n        : 0\r\n    };\r\n  } catch (error) {\r\n    console.error('Erreur lors du chargement des stats temps réel:', error);\r\n    throw error;\r\n  }\r\n}; ","import { addDoc, collection } from 'firebase/firestore';\r\nimport { db } from './firebase';\r\nimport { Film, Seance } from '../types';\r\n\r\n/**\r\n * Générer des films de test\r\n */\r\nexport const generateTestFilms = async (): Promise<void> => {\r\n  const testFilms: Omit<Film, 'id' | 'createdAt' | 'updatedAt'>[] = [\r\n    {\r\n      titre: \"Le Petit Prince\",\r\n      realisateur: \"Marie Dupont\",\r\n      pays: \"France\",\r\n      duree: 15,\r\n      annee: 2023,\r\n      synopsis: \"Une adaptation moderne du célèbre conte de Saint-Exupéry, explorant les thèmes de l'amitié et de l'innocence.\",\r\n      genre: \"Animation\",\r\n    },\r\n    {\r\n      titre: \"L'Écho du Temps\",\r\n      realisateur: \"Jean Martin\",\r\n      pays: \"Belgique\",\r\n      duree: 12,\r\n      annee: 2023,\r\n      synopsis: \"Un voyage poétique à travers les souvenirs d'une femme âgée, mêlant passé et présent.\",\r\n      genre: \"Drame\",\r\n    },\r\n    {\r\n      titre: \"Rythmes Urbains\",\r\n      realisateur: \"Sophie Laurent\",\r\n      pays: \"Canada\",\r\n      duree: 18,\r\n      annee: 2023,\r\n      synopsis: \"Un documentaire sur la vie nocturne de Montréal, capturant l'énergie et la diversité de la ville.\",\r\n      genre: \"Documentaire\",\r\n    },\r\n    {\r\n      titre: \"La Dernière Danse\",\r\n      realisateur: \"Pierre Dubois\",\r\n      pays: \"Suisse\",\r\n      duree: 20,\r\n      annee: 2023,\r\n      synopsis: \"L'histoire touchante d'un danseur retraité qui retrouve sa passion grâce à une jeune élève.\",\r\n      genre: \"Drame\",\r\n    },\r\n    {\r\n      titre: \"Métamorphose\",\r\n      realisateur: \"Ana Rodriguez\",\r\n      pays: \"Espagne\",\r\n      duree: 14,\r\n      annee: 2023,\r\n      synopsis: \"Une exploration visuelle de la transformation personnelle, utilisant des techniques d'animation innovantes.\",\r\n      genre: \"Animation\",\r\n    },\r\n    {\r\n      titre: \"Silence\",\r\n      realisateur: \"Lucas Bernard\",\r\n      pays: \"France\",\r\n      duree: 16,\r\n      annee: 2023,\r\n      synopsis: \"Dans un monde bruyant, un homme découvre la beauté du silence et son pouvoir transformateur.\",\r\n      genre: \"Expérimental\",\r\n    },\r\n    {\r\n      titre: \"Les Gardiens de la Mémoire\",\r\n      realisateur: \"Emma Wilson\",\r\n      pays: \"Royaume-Uni\",\r\n      duree: 22,\r\n      annee: 2023,\r\n      synopsis: \"Un groupe d'archivistes lutte pour préserver l'histoire d'une bibliothèque menacée de destruction.\",\r\n      genre: \"Documentaire\",\r\n    },\r\n    {\r\n      titre: \"Couleurs d'Automne\",\r\n      realisateur: \"Marc Tremblay\",\r\n      pays: \"Canada\",\r\n      duree: 13,\r\n      annee: 2023,\r\n      synopsis: \"Un court métrage contemplatif sur les changements de saison et le cycle de la vie.\",\r\n      genre: \"Poétique\",\r\n    }\r\n  ];\r\n\r\n  try {\r\n    for (const film of testFilms) {\r\n      await addDoc(collection(db, 'films'), {\r\n        ...film,\r\n        createdAt: new Date(),\r\n        updatedAt: new Date(),\r\n      });\r\n    }\r\n    console.log('Films de test générés avec succès');\r\n  } catch (error) {\r\n    console.error('Erreur lors de la génération des films de test:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Générer des séances de test\r\n */\r\nexport const generateTestSeances = async (): Promise<void> => {\r\n  // D'abord, récupérer tous les films pour créer les séances\r\n  const { getDocs, collection } = await import('firebase/firestore');\r\n  const filmsSnapshot = await getDocs(collection(db, 'films'));\r\n  const filmIds = filmsSnapshot.docs.map(doc => doc.id);\r\n\r\n  if (filmIds.length === 0) {\r\n    throw new Error('Aucun film trouvé. Générez d\\'abord des films de test.');\r\n  }\r\n\r\n  const testSeances: Omit<Seance, 'id' | 'createdAt' | 'updatedAt'>[] = [\r\n    {\r\n      nom: \"Séance d'ouverture - Animation\",\r\n      description: \"Une sélection de films d'animation innovants pour ouvrir le festival\",\r\n      date: new Date('2024-06-15'),\r\n      heure: \"20:00\",\r\n      films: filmIds.slice(0, 3), // Premier, deuxième et troisième films\r\n      qrCodeUrl: \"\",\r\n      isActive: true,\r\n    },\r\n    {\r\n      nom: \"Séance documentaire\",\r\n      description: \"Des documentaires captivants sur des sujets variés\",\r\n      date: new Date('2024-06-16'),\r\n      heure: \"14:30\",\r\n      films: filmIds.slice(2, 5), // Troisième, quatrième et cinquième films\r\n      qrCodeUrl: \"\",\r\n      isActive: true,\r\n    },\r\n    {\r\n      nom: \"Séance expérimentale\",\r\n      description: \"Des films expérimentaux et poétiques\",\r\n      date: new Date('2024-06-17'),\r\n      heure: \"18:00\",\r\n      films: filmIds.slice(5, 8), // Sixième, septième et huitième films\r\n      qrCodeUrl: \"\",\r\n      isActive: true,\r\n    }\r\n  ];\r\n\r\n  try {\r\n    for (const seance of testSeances) {\r\n      await addDoc(collection(db, 'seances'), {\r\n        ...seance,\r\n        createdAt: new Date(),\r\n        updatedAt: new Date(),\r\n      });\r\n    }\r\n    console.log('Séances de test générées avec succès');\r\n  } catch (error) {\r\n    console.error('Erreur lors de la génération des séances de test:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\n/**\r\n * Générer toutes les données de test\r\n */\r\nexport const generateAllTestData = async (): Promise<void> => {\r\n  try {\r\n    console.log('Génération des données de test...');\r\n    await generateTestFilms();\r\n    await generateTestSeances();\r\n    console.log('Toutes les données de test ont été générées avec succès');\r\n  } catch (error) {\r\n    console.error('Erreur lors de la génération des données de test:', error);\r\n    throw error;\r\n  }\r\n}; ","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Settings, Film, Users, BarChart3, Calendar, QrCode, Database, Shield, RefreshCw, Plus } from 'lucide-react';\nimport { Dashboard } from '../components/ui/Dashboard';\nimport { DashboardStats } from '../components/ui/DashboardStats';\nimport { useDashboard } from '../hooks/useDashboard';\nimport { generateAllTestData } from '../services/testDataService';\nimport { useNotifications } from '../hooks/useNotifications';\n\nexport const AdminPage: React.FC = () => {\n  const { stats, loading, refreshing, refreshStats } = useDashboard();\n  const { showSuccess, showError } = useNotifications();\n  const [generatingData, setGeneratingData] = useState(false);\n\n  const adminFeatures = [\n    {\n      id: 'seances',\n      title: 'Gestion des Séances',\n      description: 'Créez et gérez les séances de films avec génération automatique de QR codes',\n      icon: Calendar,\n      color: 'primary',\n      href: '/admin/seances',\n    },\n    {\n      id: 'films',\n      title: 'Gestion des Films',\n      description: 'Ajoutez, modifiez et supprimez les films du festival',\n      icon: Film,\n      color: 'secondary',\n      href: '/admin/films',\n    },\n    {\n      id: 'votes',\n      title: 'Résultats des Votes',\n      description: 'Visualisez les résultats en temps réel et exportez les données',\n      icon: BarChart3,\n      color: 'success',\n      href: '/admin/results',\n    },\n    {\n      id: 'users',\n      title: 'Gestion des Utilisateurs',\n      description: 'Gérez les comptes utilisateurs et les permissions',\n      icon: Users,\n      color: 'info',\n      href: '/admin/users',\n    },\n    {\n      id: 'qr-codes',\n      title: 'QR Codes',\n      description: 'Générez et gérez les QR codes pour les séances',\n      icon: QrCode,\n      color: 'warning',\n      href: '/admin/qr-codes',\n    },\n    {\n      id: 'database',\n      title: 'Base de Données',\n      description: 'Sauvegardes et maintenance de la base de données',\n      icon: Database,\n      color: 'error',\n      href: '/admin/database',\n    },\n    {\n      id: 'security',\n      title: 'Sécurité',\n      description: 'Paramètres de sécurité et logs d\\'accès',\n      icon: Shield,\n      color: 'gray',\n      href: '/admin/security',\n    },\n    {\n      id: 'settings',\n      title: 'Paramètres',\n      description: 'Configuration générale de l\\'application',\n      icon: Settings,\n      color: 'gray',\n      href: '/admin/settings',\n    },\n  ];\n\n  const getColorClasses = (color: string) => {\n    const colorMap: Record<string, string> = {\n      primary: 'bg-primary-50 text-primary-600 border-primary-200',\n      secondary: 'bg-secondary-50 text-secondary-600 border-secondary-200',\n      success: 'bg-success-50 text-success-600 border-success-200',\n      warning: 'bg-warning-50 text-warning-600 border-warning-200',\n      error: 'bg-error-50 text-error-600 border-error-200',\n      info: 'bg-info-50 text-info-600 border-info-200',\n      gray: 'bg-gray-50 text-gray-600 border-gray-200',\n    };\n    return colorMap[color] || colorMap.gray;\n  };\n\n  const getHoverColorClasses = (color: string) => {\n    const colorMap: Record<string, string> = {\n      primary: 'hover:bg-primary-100 hover:border-primary-300',\n      secondary: 'hover:bg-secondary-100 hover:border-secondary-300',\n      success: 'hover:bg-success-100 hover:border-success-300',\n      warning: 'hover:bg-warning-100 hover:border-warning-300',\n      error: 'hover:bg-error-100 hover:border-error-300',\n      info: 'hover:bg-info-100 hover:border-info-300',\n      gray: 'hover:bg-gray-100 hover:border-gray-300',\n    };\n    return colorMap[color] || colorMap.gray;\n  };\n\n  const handleGenerateTestData = async () => {\n    try {\n      setGeneratingData(true);\n      await generateAllTestData();\n      showSuccess('Données de test générées', 'Les films et séances de test ont été créés avec succès');\n      refreshStats(); // Actualiser les statistiques\n    } catch (error: any) {\n      showError('Erreur', error.message || 'Impossible de générer les données de test');\n    } finally {\n      setGeneratingData(false);\n    }\n  };\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* En-tête */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"py-6\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <h1 className=\"text-3xl font-bold text-gray-900\">Administration</h1>\n                <p className=\"mt-1 text-gray-600\">\n                  Gestion complète du Festival du Film Court de Dinan\n                </p>\n              </div>\n              <div className=\"flex items-center space-x-3\">\n                <button\n                  onClick={handleGenerateTestData}\n                  disabled={generatingData}\n                  className=\"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-green-100 text-green-700 hover:bg-green-200 transition-colors disabled:opacity-50\"\n                >\n                  <Plus className={`w-4 h-4 mr-2 ${generatingData ? 'animate-spin' : ''}`} />\n                  {generatingData ? 'Génération...' : 'Données de test'}\n                </button>\n                <button\n                  onClick={refreshStats}\n                  disabled={refreshing}\n                  className=\"inline-flex items-center px-3 py-2 rounded-lg text-sm font-medium bg-primary-100 text-primary-700 hover:bg-primary-200 transition-colors disabled:opacity-50\"\n                >\n                  <RefreshCw className={`w-4 h-4 mr-2 ${refreshing ? 'animate-spin' : ''}`} />\n                  {refreshing ? 'Actualisation...' : 'Actualiser'}\n                </button>\n                <span className=\"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-success-100 text-success-800\">\n                  Admin\n                </span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Contenu principal */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Tableau de bord avec statistiques */}\n        {loading ? (\n          <div className=\"mb-8\">\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n              {Array.from({ length: 4 }).map((_, index) => (\n                <div key={index} className=\"bg-white rounded-lg shadow-sm p-6 animate-pulse\">\n                  <div className=\"flex items-center\">\n                    <div className=\"w-12 h-12 bg-gray-200 rounded-lg\"></div>\n                    <div className=\"ml-4\">\n                      <div className=\"h-4 bg-gray-200 rounded w-20 mb-2\"></div>\n                      <div className=\"h-8 bg-gray-200 rounded w-12\"></div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        ) : stats ? (\n          <div className=\"mb-8\">\n            <Dashboard \n              stats={{\n                totalVotes: stats.totalVotes,\n                totalFilms: stats.totalFilms,\n                averageRating: stats.averageRating,\n                activeSeances: stats.activeSeances,\n                topFilm: stats.topFilm ? {\n                  title: stats.topFilm.title,\n                  rating: stats.topFilm.rating,\n                  votes: stats.topFilm.votes\n                } : undefined,\n                ...(stats.recentActivity && { recentActivity: stats.recentActivity })\n              }}\n              loading={false}\n            />\n          </div>\n        ) : (\n          <div className=\"mb-8\">\n            <div className=\"bg-white rounded-lg shadow-sm p-6\">\n              <div className=\"text-center text-gray-500\">\n                <p>Aucune donnée disponible</p>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Statistiques détaillées */}\n        {stats && <DashboardStats stats={stats} className=\"mb-8\" />}\n\n        {/* Fonctionnalités d'administration */}\n        <div className=\"bg-white rounded-lg shadow-sm\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Fonctionnalités d'administration</h2>\n            <p className=\"text-sm text-gray-600 mt-1\">\n              Accédez aux différentes sections de gestion\n            </p>\n          </div>\n          \n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {adminFeatures.map((feature) => {\n                const IconComponent = feature.icon;\n                return (\n                  <Link\n                    key={feature.id}\n                    to={feature.href}\n                    className={`group block p-6 border-2 rounded-lg transition-all duration-200 ${getColorClasses(feature.color)} ${getHoverColorClasses(feature.color)}`}\n                  >\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"flex-shrink-0\">\n                        <IconComponent className=\"w-8 h-8\" />\n                      </div>\n                      <div className=\"flex-1\">\n                        <h3 className=\"text-lg font-semibold mb-2\">{feature.title}</h3>\n                        <p className=\"text-sm opacity-75\">{feature.description}</p>\n                      </div>\n                    </div>\n                  </Link>\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Actions rapides */}\n        <div className=\"mt-8 bg-white rounded-lg shadow-sm\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Actions rapides</h2>\n          </div>\n          \n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <Link\n                to=\"/admin/seances\"\n                className=\"btn-festival text-center\"\n              >\n                <Calendar className=\"w-5 h-5 mr-2\" />\n                Créer une séance\n              </Link>\n              \n              <Link\n                to=\"/admin/films\"\n                className=\"btn-festival-outline text-center\"\n              >\n                <Film className=\"w-5 h-5 mr-2\" />\n                Ajouter un film\n              </Link>\n              \n              <Link\n                to=\"/admin/results\"\n                className=\"btn-festival-outline text-center\"\n              >\n                <BarChart3 className=\"w-5 h-5 mr-2\" />\n                Voir les résultats\n              </Link>\n            </div>\n          </div>\n        </div>\n\n        {/* Informations système */}\n        <div className=\"mt-8 bg-white rounded-lg shadow-sm\">\n          <div className=\"px-6 py-4 border-b border-gray-200\">\n            <h2 className=\"text-lg font-semibold text-gray-900\">Informations système</h2>\n          </div>\n          \n          <div className=\"p-6\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div>\n                <h3 className=\"text-sm font-medium text-gray-900 mb-3\">Statut des services</h3>\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-600\">Base de données</span>\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800\">\n                      Connecté\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-600\">Authentification</span>\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800\">\n                      Actif\n                    </span>\n                  </div>\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-600\">Stockage</span>\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-success-100 text-success-800\">\n                      Disponible\n                    </span>\n                  </div>\n                </div>\n              </div>\n              \n              <div>\n                <h3 className=\"text-sm font-medium text-gray-900 mb-3\">Dernières activités</h3>\n                <div className=\"space-y-2 text-sm text-gray-600\">\n                  <p>Aucune activité récente</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}; ","import { useState, useEffect, useCallback } from 'react';\r\nimport { getDashboardStats, DashboardStats } from '../services/dashboardService';\r\nimport { useNotifications } from './useNotifications';\r\n\r\nexport const useDashboard = () => {\r\n  const [stats, setStats] = useState<DashboardStats | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [refreshing, setRefreshing] = useState(false);\r\n  const { showSuccess, showError } = useNotifications();\r\n\r\n  const loadStats = useCallback(async () => {\r\n    try {\r\n      setLoading(true);\r\n      const dashboardStats = await getDashboardStats();\r\n      setStats(dashboardStats);\r\n      showSuccess('Statistiques chargées', 'Les données du tableau de bord ont été mises à jour');\r\n    } catch (error: any) {\r\n      console.error('Erreur lors du chargement des statistiques:', error);\r\n      showError('Erreur de chargement', error.message || 'Impossible de charger les statistiques');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [showSuccess, showError]);\r\n\r\n  const refreshStats = useCallback(async () => {\r\n    try {\r\n      setRefreshing(true);\r\n      const dashboardStats = await getDashboardStats();\r\n      setStats(dashboardStats);\r\n      showSuccess('Statistiques actualisées', 'Les données ont été mises à jour');\r\n    } catch (error: any) {\r\n      console.error('Erreur lors de l\\'actualisation:', error);\r\n      showError('Erreur d\\'actualisation', error.message || 'Impossible d\\'actualiser les statistiques');\r\n    } finally {\r\n      setRefreshing(false);\r\n    }\r\n  }, [showSuccess, showError]);\r\n\r\n  // Charger les statistiques au montage du composant\r\n  useEffect(() => {\r\n    loadStats();\r\n  }, [loadStats]);\r\n\r\n  // Actualisation automatique toutes les 5 minutes\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      if (!loading && !refreshing) {\r\n        refreshStats();\r\n      }\r\n    }, 5 * 60 * 1000); // 5 minutes\r\n\r\n    return () => clearInterval(interval);\r\n  }, [loading, refreshing, refreshStats]);\r\n\r\n  return {\r\n    stats,\r\n    loading,\r\n    refreshing,\r\n    loadStats,\r\n    refreshStats\r\n  };\r\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Database\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8ZWxsaXBzZSBjeD0iMTIiIGN5PSI1IiByeD0iOSIgcnk9IjMiIC8+CiAgPHBhdGggZD0iTTMgNVYxOUE5IDMgMCAwIDAgMjEgMTlWNSIgLz4KICA8cGF0aCBkPSJNMyAxMkE5IDMgMCAwIDAgMjEgMTIiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/database\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Database = createLucideIcon('Database', [\n  ['ellipse', { cx: '12', cy: '5', rx: '9', ry: '3', key: 'msslwz' }],\n  ['path', { d: 'M3 5V19A9 3 0 0 0 21 19V5', key: '1wlel7' }],\n  ['path', { d: 'M3 12A9 3 0 0 0 21 12', key: 'mv7ke4' }],\n]);\n\nexport default Database;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name TrendingUp\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWxpbmUgcG9pbnRzPSIyMiA3IDEzLjUgMTUuNSA4LjUgMTAuNSAyIDE3IiAvPgogIDxwb2x5bGluZSBwb2ludHM9IjE2IDcgMjIgNyAyMiAxMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/trending-up\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst TrendingUp = createLucideIcon('TrendingUp', [\n  ['polyline', { points: '22 7 13.5 15.5 8.5 10.5 2 17', key: '126l90' }],\n  ['polyline', { points: '16 7 22 7 22 13', key: 'kwv8wd' }],\n]);\n\nexport default TrendingUp;\n","import React from 'react';\r\nimport { Users, Film, Star, TrendingUp, Award, Calendar } from 'lucide-react';\r\nimport { StatsCard } from './StatsCard';\r\n\r\ninterface DashboardStats {\r\n  totalVotes: number;\r\n  totalFilms: number;\r\n  averageRating: number;\r\n  activeSeances: number;\r\n  topFilm?: {\r\n    title: string;\r\n    rating: number;\r\n    votes: number;\r\n  } | undefined;\r\n  recentActivity?: Array<{\r\n    id: string;\r\n    action: string;\r\n    film: string;\r\n    timestamp: Date;\r\n  }>;\r\n}\r\n\r\ninterface DashboardProps {\r\n  stats: DashboardStats;\r\n  loading?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport const Dashboard: React.FC<DashboardProps> = ({\r\n  stats,\r\n  loading = false,\r\n  className = ''\r\n}) => {\r\n  const formatNumber = (num: number) => {\r\n    if (num >= 1000000) {\r\n      return (num / 1000000).toFixed(1) + 'M';\r\n    }\r\n    if (num >= 1000) {\r\n      return (num / 1000).toFixed(1) + 'K';\r\n    }\r\n    return num.toString();\r\n  };\r\n\r\n  const formatTimeAgo = (date: Date) => {\r\n    const now = new Date();\r\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\r\n    \r\n    if (diffInMinutes < 1) return 'À l\\'instant';\r\n    if (diffInMinutes < 60) return `Il y a ${diffInMinutes} min`;\r\n    if (diffInMinutes < 1440) return `Il y a ${Math.floor(diffInMinutes / 60)}h`;\r\n    return `Il y a ${Math.floor(diffInMinutes / 1440)}j`;\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className={`space-y-6 ${className}`}>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n          {Array.from({ length: 4 }).map((_, index) => (\r\n            <div key={index} className=\"stats-card animate-pulse\">\r\n              <div className=\"skeleton h-6 w-24 mb-4\"></div>\r\n              <div className=\"skeleton h-10 w-16 mb-2\"></div>\r\n              <div className=\"skeleton h-4 w-20\"></div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className={`space-y-6 ${className}`}>\r\n      {/* Statistiques principales */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        <StatsCard\r\n          title=\"Total des votes\"\r\n          value={formatNumber(stats.totalVotes)}\r\n          icon={<Users className=\"w-5 h-5\" />}\r\n          color=\"primary\"\r\n        />\r\n        \r\n        <StatsCard\r\n          title=\"Films en compétition\"\r\n          value={stats.totalFilms}\r\n          icon={<Film className=\"w-5 h-5\" />}\r\n          color=\"secondary\"\r\n        />\r\n        \r\n        <StatsCard\r\n          title=\"Note moyenne\"\r\n          value={stats.averageRating.toFixed(1)}\r\n          icon={<Star className=\"w-5 h-5\" />}\r\n          color=\"success\"\r\n        />\r\n        \r\n        <StatsCard\r\n          title=\"Séances actives\"\r\n          value={stats.activeSeances}\r\n          icon={<Calendar className=\"w-5 h-5\" />}\r\n          color=\"warning\"\r\n        />\r\n      </div>\r\n\r\n      {/* Film en tête */}\r\n      {stats.topFilm && (\r\n        <div className=\"card-hover\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <h3 className=\"text-lg font-semibold text-gray-900 flex items-center\">\r\n              <Award className=\"w-5 h-5 text-yellow-500 mr-2\" />\r\n              Film en tête\r\n            </h3>\r\n            <TrendingUp className=\"w-5 h-5 text-green-500\" />\r\n          </div>\r\n          \r\n          <div className=\"bg-gradient-to-r from-yellow-50 to-orange-50 rounded-lg p-4 border border-yellow-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <h4 className=\"text-lg font-semibold text-gray-900 mb-1\">\r\n                  {stats.topFilm.title}\r\n                </h4>\r\n                <div className=\"flex items-center space-x-4 text-sm text-gray-600\">\r\n                  <span className=\"flex items-center\">\r\n                    <Star className=\"w-4 h-4 text-yellow-400 mr-1\" fill=\"currentColor\" />\r\n                    {stats.topFilm.rating.toFixed(1)}/5\r\n                  </span>\r\n                  <span className=\"flex items-center\">\r\n                    <Users className=\"w-4 h-4 mr-1\" />\r\n                    {formatNumber(stats.topFilm.votes)} votes\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              \r\n              <div className=\"text-right\">\r\n                <div className=\"text-2xl font-bold text-yellow-600\">\r\n                  #{1}\r\n                </div>\r\n                <div className=\"text-xs text-gray-500\">\r\n                  Classement\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Activité récente */}\r\n      {stats.recentActivity && stats.recentActivity.length > 0 && (\r\n        <div className=\"card-hover\">\r\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n            Activité récente\r\n          </h3>\r\n          \r\n          <div className=\"space-y-3\">\r\n            {stats.recentActivity.slice(0, 5).map((activity) => (\r\n              <div key={activity.id} className=\"flex items-center space-x-3 p-3 rounded-lg bg-gray-50 hover:bg-gray-100 transition-colors\">\r\n                <div className=\"w-2 h-2 bg-primary-500 rounded-full\"></div>\r\n                <div className=\"flex-1\">\r\n                  <p className=\"text-sm text-gray-900\">\r\n                    <span className=\"font-medium\">{activity.action}</span>\r\n                    {' '}pour{' '}\r\n                    <span className=\"font-medium text-primary-600\">{activity.film}</span>\r\n                  </p>\r\n                  <p className=\"text-xs text-gray-500\">\r\n                    {formatTimeAgo(activity.timestamp)}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          \r\n          {stats.recentActivity.length > 5 && (\r\n            <div className=\"mt-4 text-center\">\r\n              <button className=\"text-sm text-primary-600 hover:text-primary-700 font-medium\">\r\n                Voir toute l'activité\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Graphique de progression (placeholder) */}\r\n      <div className=\"card-hover\">\r\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">\r\n          Progression des votes\r\n        </h3>\r\n        \r\n        <div className=\"space-y-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <span className=\"text-sm font-medium text-gray-700\">Objectif : 1000 votes</span>\r\n            <span className=\"text-sm text-gray-500\">\r\n              {Math.round((stats.totalVotes / 1000) * 100)}%\r\n            </span>\r\n          </div>\r\n          \r\n          <div className=\"progress-bar\">\r\n            <div \r\n              className=\"progress-fill\"\r\n              style={{ width: `${Math.min((stats.totalVotes / 1000) * 100, 100)}%` }}\r\n            ></div>\r\n          </div>\r\n          \r\n          <div className=\"text-center\">\r\n            <span className=\"text-sm text-gray-600\">\r\n              {stats.totalVotes} votes sur 1000\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Settings\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuMjIgMmgtLjQ0YTIgMiAwIDAgMC0yIDJ2LjE4YTIgMiAwIDAgMS0xIDEuNzNsLS40My4yNWEyIDIgMCAwIDEtMiAwbC0uMTUtLjA4YTIgMiAwIDAgMC0yLjczLjczbC0uMjIuMzhhMiAyIDAgMCAwIC43MyAyLjczbC4xNS4xYTIgMiAwIDAgMSAxIDEuNzJ2LjUxYTIgMiAwIDAgMS0xIDEuNzRsLS4xNS4wOWEyIDIgMCAwIDAtLjczIDIuNzNsLjIyLjM4YTIgMiAwIDAgMCAyLjczLjczbC4xNS0uMDhhMiAyIDAgMCAxIDIgMGwuNDMuMjVhMiAyIDAgMCAxIDEgMS43M1YyMGEyIDIgMCAwIDAgMiAyaC40NGEyIDIgMCAwIDAgMi0ydi0uMThhMiAyIDAgMCAxIDEtMS43M2wuNDMtLjI1YTIgMiAwIDAgMSAyIDBsLjE1LjA4YTIgMiAwIDAgMCAyLjczLS43M2wuMjItLjM5YTIgMiAwIDAgMC0uNzMtMi43M2wtLjE1LS4wOGEyIDIgMCAwIDEtMS0xLjc0di0uNWEyIDIgMCAwIDEgMS0xLjc0bC4xNS0uMDlhMiAyIDAgMCAwIC43My0yLjczbC0uMjItLjM4YTIgMiAwIDAgMC0yLjczLS43M2wtLjE1LjA4YTIgMiAwIDAgMS0yIDBsLS40My0uMjVhMiAyIDAgMCAxLTEtMS43M1Y0YTIgMiAwIDAgMC0yLTJ6IiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjMiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/settings\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Settings = createLucideIcon('Settings', [\n  [\n    'path',\n    {\n      d: 'M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z',\n      key: '1qme2f',\n    },\n  ],\n  ['circle', { cx: '12', cy: '12', r: '3', key: '1v7zrd' }],\n]);\n\nexport default Settings;\n","import { db } from './firebase';\nimport { \n  collection, \n  doc, \n  addDoc, \n  updateDoc, \n  deleteDoc, \n  getDocs, \n  getDoc, \n  query, \n  where, \n  orderBy\n} from 'firebase/firestore';\n\nimport { Seance, CreateSeanceData, Film } from '../types';\nimport { generateId } from '../utils/helpers';\n\nconst SEANCES_COLLECTION = 'seances';\nconst FILMS_COLLECTION = 'films';\n\n/**\n * Créer une nouvelle séance avec génération automatique du QR code\n */\nexport const createSeance = async (data: CreateSeanceData): Promise<Seance> => {\n  try {\n    // Vérifier qu'il y a au moins 1 film et au plus 5\n    if (data.films.length < 1 || data.films.length > 5) {\n      throw new Error('Une séance doit contenir entre 1 et 5 films');\n    }\n\n    // Vérifier que tous les films existent\n    const filmsPromises = data.films.map(filmId => \n      getDoc(doc(db, FILMS_COLLECTION, filmId))\n    );\n    const filmsSnapshots = await Promise.all(filmsPromises);\n    \n    const nonExistentFilms = filmsSnapshots\n      .map((snapshot, index) => ({ snapshot, filmId: data.films[index] }))\n      .filter(({ snapshot }) => !snapshot.exists());\n    \n    if (nonExistentFilms.length > 0) {\n      throw new Error(`Films non trouvés: ${nonExistentFilms.map(f => f.filmId).join(', ')}`);\n    }\n\n    // Générer l'URL du QR code\n    const seanceId = generateId();\n    const qrCodeUrl = generateQRCodeUrl(seanceId);\n\n    const seanceData: Omit<Seance, 'id'> = {\n      nom: data.nom,\n      date: data.date,\n      heure: data.heure,\n      films: data.films,\n      qrCodeUrl,\n      isActive: true,\n      createdAt: new Date(),\n      updatedAt: new Date(),\n      ...(data.description && { description: data.description }),\n    };\n\n    const docRef = await addDoc(collection(db, SEANCES_COLLECTION), seanceData);\n    \n    return {\n      id: docRef.id,\n      ...seanceData,\n    };\n  } catch (error) {\n    console.error('Erreur lors de la création de la séance:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer toutes les séances\n */\nexport const getAllSeances = async (): Promise<Seance[]> => {\n  try {\n    const q = query(\n      collection(db, SEANCES_COLLECTION),\n      orderBy('date', 'desc')\n    );\n    \n    const querySnapshot = await getDocs(q);\n    const seances: Seance[] = [];\n    \n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n      seances.push({\n        id: doc.id,\n        nom: data.nom,\n        description: data.description,\n        date: data.date.toDate(),\n        heure: data.heure,\n        films: data.films,\n        qrCodeUrl: data.qrCodeUrl,\n        isActive: data.isActive,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      });\n    });\n    \n    return seances;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des séances:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer une séance par son ID\n */\nexport const getSeanceById = async (seanceId: string): Promise<Seance | null> => {\n  try {\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\n    const docSnap = await getDoc(docRef);\n    \n    if (docSnap.exists()) {\n      const data = docSnap.data();\n      return {\n        id: docSnap.id,\n        nom: data.nom,\n        description: data.description,\n        date: data.date.toDate(),\n        heure: data.heure,\n        films: data.films,\n        qrCodeUrl: data.qrCodeUrl,\n        isActive: data.isActive,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      };\n    }\n    \n    return null;\n  } catch (error) {\n    console.error('Erreur lors de la récupération de la séance:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer une séance avec ses films\n */\nexport const getSeanceWithFilms = async (seanceId: string): Promise<{ seance: Seance; films: Film[] } | null> => {\n  try {\n    const seance = await getSeanceById(seanceId);\n    if (!seance) return null;\n\n    // Récupérer tous les films de la séance\n    const filmsPromises = seance.films.map(filmId => \n      getDoc(doc(db, FILMS_COLLECTION, filmId))\n    );\n    const filmsSnapshots = await Promise.all(filmsPromises);\n    \n    const films: Film[] = [];\n    \n    for (const snapshot of filmsSnapshots) {\n      if (snapshot.exists()) {\n        const data = snapshot.data();\n        if (data) {\n          films.push({\n            id: snapshot.id,\n            titre: data.titre,\n            realisateur: data.realisateur,\n            pays: data.pays,\n            duree: data.duree,\n            annee: data.annee,\n            synopsis: data.synopsis,\n            posterUrl: data.posterUrl,\n            genre: data.genre,\n            createdAt: data.createdAt.toDate(),\n            updatedAt: data.updatedAt.toDate(),\n          });\n        }\n      }\n    }\n\n    return { seance, films };\n  } catch (error) {\n    console.error('Erreur lors de la récupération de la séance avec films:', error);\n    throw error;\n  }\n};\n\n/**\n * Mettre à jour une séance\n */\nexport const updateSeance = async (seanceId: string, data: Partial<CreateSeanceData>): Promise<void> => {\n  try {\n    console.log('Mise à jour de la séance:', seanceId, data);\n    \n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\n    \n    const updateData: any = {\n      updatedAt: new Date(),\n    };\n\n    // Ajouter les champs modifiés\n    if (data.nom !== undefined) updateData.nom = data.nom;\n    if (data.description !== undefined) updateData.description = data.description;\n    if (data.heure !== undefined) updateData.heure = data.heure;\n    if (data.films !== undefined) updateData.films = data.films;\n\n    // Traiter la date séparément car elle doit être un Timestamp Firestore\n    if (data.date !== undefined) {\n      updateData.date = data.date;\n    }\n\n    // Si les films changent, vérifier qu'il y en a au moins 1 et au plus 5\n    if (data.films && (data.films.length < 1 || data.films.length > 5)) {\n      throw new Error('Une séance doit contenir entre 1 et 5 films');\n    }\n\n    console.log('Données de mise à jour:', updateData);\n    await updateDoc(docRef, updateData);\n    console.log('Séance mise à jour avec succès');\n  } catch (error) {\n    console.error('Erreur lors de la mise à jour de la séance:', error);\n    throw error;\n  }\n};\n\n/**\n * Supprimer une séance\n */\nexport const deleteSeance = async (seanceId: string): Promise<void> => {\n  try {\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\n    await deleteDoc(docRef);\n  } catch (error) {\n    console.error('Erreur lors de la suppression de la séance:', error);\n    throw error;\n  }\n};\n\n/**\n * Activer/désactiver une séance\n */\nexport const toggleSeanceActive = async (seanceId: string, isActive: boolean): Promise<void> => {\n  try {\n    const docRef = doc(db, SEANCES_COLLECTION, seanceId);\n    await updateDoc(docRef, {\n      isActive,\n      updatedAt: new Date(),\n    });\n  } catch (error) {\n    console.error('Erreur lors de la modification du statut de la séance:', error);\n    throw error;\n  }\n};\n\n/**\n * Récupérer les séances actives\n */\nexport const getActiveSeances = async (): Promise<Seance[]> => {\n  try {\n    const q = query(\n      collection(db, SEANCES_COLLECTION),\n      where('isActive', '==', true),\n      orderBy('date', 'desc')\n    );\n    \n    const querySnapshot = await getDocs(q);\n    const seances: Seance[] = [];\n    \n    querySnapshot.forEach((doc) => {\n      const data = doc.data();\n      seances.push({\n        id: doc.id,\n        nom: data.nom,\n        description: data.description,\n        date: data.date.toDate(),\n        heure: data.heure,\n        films: data.films,\n        qrCodeUrl: data.qrCodeUrl,\n        isActive: data.isActive,\n        createdAt: data.createdAt.toDate(),\n        updatedAt: data.updatedAt.toDate(),\n      });\n    });\n    \n    return seances;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des séances actives:', error);\n    throw error;\n  }\n};\n\n/**\n * Générer l'URL du QR code pour une séance\n */\nexport const generateQRCodeUrl = (seanceId: string): string => {\n  const baseUrl = window.location.origin;\n  const seanceUrl = `${baseUrl}/seance/${seanceId}`;\n  \n  // Utiliser un service de génération de QR code\n  const qrServiceUrl = 'https://api.qrserver.com/v1/create-qr-code/';\n  const params = new URLSearchParams({\n    size: '300x300',\n    data: seanceUrl,\n    format: 'png',\n  });\n  \n  return `${qrServiceUrl}?${params.toString()}`;\n};\n\n/**\n * Récupérer les statistiques des séances\n */\nexport const getSeancesStats = async (): Promise<{\n  total: number;\n  actives: number;\n  inactives: number;\n  cetteSemaine: number;\n}> => {\n  try {\n    const seances = await getAllSeances();\n    const maintenant = new Date();\n    const uneSemaine = new Date(maintenant.getTime() + 7 * 24 * 60 * 60 * 1000);\n    \n    const stats = {\n      total: seances.length,\n      actives: seances.filter(s => s.isActive).length,\n      inactives: seances.filter(s => !s.isActive).length,\n      cetteSemaine: seances.filter(s => s.date >= maintenant && s.date <= uneSemaine).length,\n    };\n    \n    return stats;\n  } catch (error) {\n    console.error('Erreur lors de la récupération des statistiques:', error);\n    throw error;\n  }\n};\n\n/**\n * Rechercher des séances par nom\n */\nexport const searchSeances = async (searchTerm: string): Promise<Seance[]> => {\n  try {\n    const seances = await getAllSeances();\n    const term = searchTerm.toLowerCase();\n    \n    return seances.filter(seance => \n      seance.nom.toLowerCase().includes(term) ||\n      (seance.description && seance.description.toLowerCase().includes(term))\n    );\n  } catch (error) {\n    console.error('Erreur lors de la recherche de séances:', error);\n    throw error;\n  }\n}; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BarChart3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE4aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOCAxN1Y5IiAvPgogIDxwYXRoIGQ9Ik0xMyAxN1Y1IiAvPgogIDxwYXRoIGQ9Ik04IDE3di0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bar-chart-3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BarChart3 = createLucideIcon('BarChart3', [\n  ['path', { d: 'M3 3v18h18', key: '1s2lah' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n]);\n\nexport default BarChart3;\n"],"names":["RefreshCw","createLucideIcon","d","key","TrendingDown","points","Minus","StatsCard","_ref","title","value","change","changeLabel","icon","color","loading","getColorClasses","_jsxs","className","children","_jsx","split","undefined","TrendingUp","Plus","Shield","DashboardStats","stats","votesByDay","length","map","day","index","date","style","width","Math","max","count","filmsByGenre","Object","keys","entries","_ref2","genre","values","participationRate","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","totalSeances","totalUsers","activeSeances","getDashboardStats","async","console","log","allVotes","allFilms","allSeances","Promise","all","getAllVotes","getAllFilms","getAllSeances","totalVotes","totalFilms","filter","seance","isActive","averageRating","round","reduce","sum","vote","note","filmStats","Map","topFilm","forEach","has","filmId","set","votes","totalRating","get","maxRating","film","find","f","id","rating","titre","recentActivity","sort","a","b","createdAt","getTime","slice","action","timestamp","today","Date","i","setDate","getDate","dateStr","toISOString","dayVotes","push","toLocaleDateString","weekday","uniqueUsers","Set","userId","Boolean","size","error","Error","generateAllTestData","testFilms","realisateur","pays","duree","annee","synopsis","addDoc","collection","db","updatedAt","generateTestFilms","getDocs","filmIds","docs","doc","testSeances","nom","description","heure","films","qrCodeUrl","generateTestSeances","AdminPage","refreshing","refreshStats","useDashboard","setStats","useState","setLoading","setRefreshing","showSuccess","showError","useNotifications","loadStats","useCallback","dashboardStats","message","useEffect","interval","setInterval","clearInterval","generatingData","setGeneratingData","adminFeatures","Calendar","href","Film","BarChart3","Users","QrCode","Database","Settings","colorMap","primary","secondary","success","warning","info","gray","getHoverColorClasses","onClick","disabled","Array","from","_","Dashboard","feature","IconComponent","Link","to","cx","cy","rx","ry","formatNumber","num","toFixed","toString","formatTimeAgo","now","diffInMinutes","floor","Star","Award","activity","min","r","SEANCES_COLLECTION","FILMS_COLLECTION","createSeance","data","filmsPromises","getDoc","nonExistentFilms","snapshot","exists","join","seanceId","generateId","generateQRCodeUrl","seanceData","q","query","orderBy","querySnapshot","seances","toDate","getSeanceById","docRef","docSnap","updateSeance","updateData","updateDoc","deleteSeance","deleteDoc","toggleSeanceActive","baseUrl","window","location","origin","URLSearchParams","format"],"sourceRoot":""}